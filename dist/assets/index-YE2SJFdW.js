function lb(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function ub(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wE={exports:{}},Mc={},SE={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var La=Symbol.for("react.element"),cb=Symbol.for("react.portal"),db=Symbol.for("react.fragment"),hb=Symbol.for("react.strict_mode"),fb=Symbol.for("react.profiler"),pb=Symbol.for("react.provider"),mb=Symbol.for("react.context"),gb=Symbol.for("react.forward_ref"),vb=Symbol.for("react.suspense"),yb=Symbol.for("react.memo"),_b=Symbol.for("react.lazy"),qv=Symbol.iterator;function Eb(t){return t===null||typeof t!="object"?null:(t=qv&&t[qv]||t["@@iterator"],typeof t=="function"?t:null)}var TE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},AE=Object.assign,CE={};function zs(t,e,n){this.props=t,this.context=e,this.refs=CE,this.updater=n||TE}zs.prototype.isReactComponent={};zs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};zs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function bE(){}bE.prototype=zs.prototype;function jp(t,e,n){this.props=t,this.context=e,this.refs=CE,this.updater=n||TE}var Bp=jp.prototype=new bE;Bp.constructor=jp;AE(Bp,zs.prototype);Bp.isPureReactComponent=!0;var Gv=Array.isArray,RE=Object.prototype.hasOwnProperty,$p={current:null},IE={key:!0,ref:!0,__self:!0,__source:!0};function DE(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)RE.call(e,r)&&!IE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:La,type:t,key:s,ref:o,props:i,_owner:$p.current}}function wb(t,e){return{$$typeof:La,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Hp(t){return typeof t=="object"&&t!==null&&t.$$typeof===La}function Sb(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Qv=/\/+/g;function Hd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Sb(""+t.key):e.toString(36)}function nu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case La:case cb:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Hd(o,0):r,Gv(i)?(n="",t!=null&&(n=t.replace(Qv,"$&/")+"/"),nu(i,e,n,"",function(c){return c})):i!=null&&(Hp(i)&&(i=wb(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Qv,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Gv(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Hd(s,a);o+=nu(s,e,n,l,i)}else if(l=Eb(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Hd(s,a++),o+=nu(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Sl(t,e,n){if(t==null)return t;var r=[],i=0;return nu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Tb(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var It={current:null},ru={transition:null},Ab={ReactCurrentDispatcher:It,ReactCurrentBatchConfig:ru,ReactCurrentOwner:$p};function kE(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:Sl,forEach:function(t,e,n){Sl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Sl(t,function(){e++}),e},toArray:function(t){return Sl(t,function(e){return e})||[]},only:function(t){if(!Hp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ne.Component=zs;ne.Fragment=db;ne.Profiler=fb;ne.PureComponent=jp;ne.StrictMode=hb;ne.Suspense=vb;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ab;ne.act=kE;ne.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=AE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=$p.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)RE.call(e,l)&&!IE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:La,type:t.type,key:i,ref:s,props:r,_owner:o}};ne.createContext=function(t){return t={$$typeof:mb,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:pb,_context:t},t.Consumer=t};ne.createElement=DE;ne.createFactory=function(t){var e=DE.bind(null,t);return e.type=t,e};ne.createRef=function(){return{current:null}};ne.forwardRef=function(t){return{$$typeof:gb,render:t}};ne.isValidElement=Hp;ne.lazy=function(t){return{$$typeof:_b,_payload:{_status:-1,_result:t},_init:Tb}};ne.memo=function(t,e){return{$$typeof:yb,type:t,compare:e===void 0?null:e}};ne.startTransition=function(t){var e=ru.transition;ru.transition={};try{t()}finally{ru.transition=e}};ne.unstable_act=kE;ne.useCallback=function(t,e){return It.current.useCallback(t,e)};ne.useContext=function(t){return It.current.useContext(t)};ne.useDebugValue=function(){};ne.useDeferredValue=function(t){return It.current.useDeferredValue(t)};ne.useEffect=function(t,e){return It.current.useEffect(t,e)};ne.useId=function(){return It.current.useId()};ne.useImperativeHandle=function(t,e,n){return It.current.useImperativeHandle(t,e,n)};ne.useInsertionEffect=function(t,e){return It.current.useInsertionEffect(t,e)};ne.useLayoutEffect=function(t,e){return It.current.useLayoutEffect(t,e)};ne.useMemo=function(t,e){return It.current.useMemo(t,e)};ne.useReducer=function(t,e,n){return It.current.useReducer(t,e,n)};ne.useRef=function(t){return It.current.useRef(t)};ne.useState=function(t){return It.current.useState(t)};ne.useSyncExternalStore=function(t,e,n){return It.current.useSyncExternalStore(t,e,n)};ne.useTransition=function(){return It.current.useTransition()};ne.version="18.3.1";SE.exports=ne;var I=SE.exports;const te=ub(I),Cs=lb({__proto__:null,default:te},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cb=I,bb=Symbol.for("react.element"),Rb=Symbol.for("react.fragment"),Ib=Object.prototype.hasOwnProperty,Db=Cb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kb={key:!0,ref:!0,__self:!0,__source:!0};function xE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Ib.call(e,r)&&!kb.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:bb,type:t,key:s,ref:o,props:i,_owner:Db.current}}Mc.Fragment=Rb;Mc.jsx=xE;Mc.jsxs=xE;wE.exports=Mc;var $=wE.exports,Kh={},PE={exports:{}},Wt={},NE={exports:{}},ME={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,K){var X=z.length;z.push(K);e:for(;0<X;){var fe=X-1>>>1,re=z[fe];if(0<i(re,K))z[fe]=K,z[X]=re,X=fe;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var K=z[0],X=z.pop();if(X!==K){z[0]=X;e:for(var fe=0,re=z.length,Ae=re>>>1;fe<Ae;){var Be=2*(fe+1)-1,En=z[Be],on=Be+1,an=z[on];if(0>i(En,X))on<re&&0>i(an,En)?(z[fe]=an,z[on]=X,fe=on):(z[fe]=En,z[Be]=X,fe=Be);else if(on<re&&0>i(an,X))z[fe]=an,z[on]=X,fe=on;else break e}}return K}function i(z,K){var X=z.sortIndex-K.sortIndex;return X!==0?X:z.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,p=3,m=!1,v=!1,T=!1,S=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(z){for(var K=n(c);K!==null;){if(K.callback===null)r(c);else if(K.startTime<=z)r(c),K.sortIndex=K.expirationTime,e(l,K);else break;K=n(c)}}function x(z){if(T=!1,A(z),!v)if(n(l)!==null)v=!0,Ke(F);else{var K=n(c);K!==null&&Me(x,K.startTime-z)}}function F(z,K){v=!1,T&&(T=!1,y(_),_=-1),m=!0;var X=p;try{for(A(K),h=n(l);h!==null&&(!(h.expirationTime>K)||z&&!k());){var fe=h.callback;if(typeof fe=="function"){h.callback=null,p=h.priorityLevel;var re=fe(h.expirationTime<=K);K=t.unstable_now(),typeof re=="function"?h.callback=re:h===n(l)&&r(l),A(K)}else r(l);h=n(l)}if(h!==null)var Ae=!0;else{var Be=n(c);Be!==null&&Me(x,Be.startTime-K),Ae=!1}return Ae}finally{h=null,p=X,m=!1}}var L=!1,C=null,_=-1,b=5,R=-1;function k(){return!(t.unstable_now()-R<b)}function P(){if(C!==null){var z=t.unstable_now();R=z;var K=!0;try{K=C(!0,z)}finally{K?D():(L=!1,C=null)}}else L=!1}var D;if(typeof E=="function")D=function(){E(P)};else if(typeof MessageChannel<"u"){var je=new MessageChannel,he=je.port2;je.port1.onmessage=P,D=function(){he.postMessage(null)}}else D=function(){S(P,0)};function Ke(z){C=z,L||(L=!0,D())}function Me(z,K){_=S(function(){z(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,Ke(F))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(z){switch(p){case 1:case 2:case 3:var K=3;break;default:K=p}var X=p;p=K;try{return z()}finally{p=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,K){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var X=p;p=z;try{return K()}finally{p=X}},t.unstable_scheduleCallback=function(z,K,X){var fe=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?fe+X:fe):X=fe,z){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=X+re,z={id:d++,callback:K,priorityLevel:z,startTime:X,expirationTime:re,sortIndex:-1},X>fe?(z.sortIndex=X,e(c,z),n(l)===null&&z===n(c)&&(T?(y(_),_=-1):T=!0,Me(x,X-fe))):(z.sortIndex=re,e(l,z),v||m||(v=!0,Ke(F))),z},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(z){var K=p;return function(){var X=p;p=K;try{return z.apply(this,arguments)}finally{p=X}}}})(ME);NE.exports=ME;var xb=NE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pb=I,zt=xb;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var OE=new Set,ia={};function ki(t,e){bs(t,e),bs(t+"Capture",e)}function bs(t,e){for(ia[t]=e,t=0;t<e.length;t++)OE.add(e[t])}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xh=Object.prototype.hasOwnProperty,Nb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Yv={},Kv={};function Mb(t){return Xh.call(Kv,t)?!0:Xh.call(Yv,t)?!1:Nb.test(t)?Kv[t]=!0:(Yv[t]=!0,!1)}function Ob(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Vb(t,e,n,r){if(e===null||typeof e>"u"||Ob(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Dt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var at={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){at[t]=new Dt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];at[e]=new Dt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){at[t]=new Dt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){at[t]=new Dt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){at[t]=new Dt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){at[t]=new Dt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){at[t]=new Dt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){at[t]=new Dt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){at[t]=new Dt(t,5,!1,t.toLowerCase(),null,!1,!1)});var zp=/[\-:]([a-z])/g;function Wp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(zp,Wp);at[e]=new Dt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(zp,Wp);at[e]=new Dt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(zp,Wp);at[e]=new Dt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){at[t]=new Dt(t,1,!1,t.toLowerCase(),null,!1,!1)});at.xlinkHref=new Dt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){at[t]=new Dt(t,1,!1,t.toLowerCase(),null,!0,!0)});function qp(t,e,n,r){var i=at.hasOwnProperty(e)?at[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Vb(e,n,i,r)&&(n=null),r||i===null?Mb(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var tr=Pb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Tl=Symbol.for("react.element"),es=Symbol.for("react.portal"),ts=Symbol.for("react.fragment"),Gp=Symbol.for("react.strict_mode"),Zh=Symbol.for("react.profiler"),VE=Symbol.for("react.provider"),LE=Symbol.for("react.context"),Qp=Symbol.for("react.forward_ref"),Jh=Symbol.for("react.suspense"),ef=Symbol.for("react.suspense_list"),Yp=Symbol.for("react.memo"),cr=Symbol.for("react.lazy"),FE=Symbol.for("react.offscreen"),Xv=Symbol.iterator;function _o(t){return t===null||typeof t!="object"?null:(t=Xv&&t[Xv]||t["@@iterator"],typeof t=="function"?t:null)}var xe=Object.assign,zd;function Po(t){if(zd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);zd=e&&e[1]||""}return`
`+zd+t}var Wd=!1;function qd(t,e){if(!t||Wd)return"";Wd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Wd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Po(t):""}function Lb(t){switch(t.tag){case 5:return Po(t.type);case 16:return Po("Lazy");case 13:return Po("Suspense");case 19:return Po("SuspenseList");case 0:case 2:case 15:return t=qd(t.type,!1),t;case 11:return t=qd(t.type.render,!1),t;case 1:return t=qd(t.type,!0),t;default:return""}}function tf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ts:return"Fragment";case es:return"Portal";case Zh:return"Profiler";case Gp:return"StrictMode";case Jh:return"Suspense";case ef:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case LE:return(t.displayName||"Context")+".Consumer";case VE:return(t._context.displayName||"Context")+".Provider";case Qp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Yp:return e=t.displayName||null,e!==null?e:tf(t.type)||"Memo";case cr:e=t._payload,t=t._init;try{return tf(t(e))}catch{}}return null}function Fb(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tf(e);case 8:return e===Gp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Fr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function UE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ub(t){var e=UE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Al(t){t._valueTracker||(t._valueTracker=Ub(t))}function jE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=UE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ru(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function nf(t,e){var n=e.checked;return xe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Zv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Fr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function BE(t,e){e=e.checked,e!=null&&qp(t,"checked",e,!1)}function rf(t,e){BE(t,e);var n=Fr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?sf(t,e.type,n):e.hasOwnProperty("defaultValue")&&sf(t,e.type,Fr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Jv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function sf(t,e,n){(e!=="number"||Ru(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var No=Array.isArray;function ps(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Fr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function of(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return xe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ey(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(No(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Fr(n)}}function $E(t,e){var n=Fr(e.value),r=Fr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ty(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function HE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function af(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?HE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Cl,zE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Cl=Cl||document.createElement("div"),Cl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Cl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function sa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var jo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jb=["Webkit","ms","Moz","O"];Object.keys(jo).forEach(function(t){jb.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),jo[e]=jo[t]})});function WE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||jo.hasOwnProperty(t)&&jo[t]?(""+e).trim():e+"px"}function qE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=WE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Bb=xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lf(t,e){if(e){if(Bb[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function uf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cf=null;function Kp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var df=null,ms=null,gs=null;function ny(t){if(t=ja(t)){if(typeof df!="function")throw Error(B(280));var e=t.stateNode;e&&(e=Uc(e),df(t.stateNode,t.type,e))}}function GE(t){ms?gs?gs.push(t):gs=[t]:ms=t}function QE(){if(ms){var t=ms,e=gs;if(gs=ms=null,ny(t),e)for(t=0;t<e.length;t++)ny(e[t])}}function YE(t,e){return t(e)}function KE(){}var Gd=!1;function XE(t,e,n){if(Gd)return t(e,n);Gd=!0;try{return YE(t,e,n)}finally{Gd=!1,(ms!==null||gs!==null)&&(KE(),QE())}}function oa(t,e){var n=t.stateNode;if(n===null)return null;var r=Uc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var hf=!1;if(Wn)try{var Eo={};Object.defineProperty(Eo,"passive",{get:function(){hf=!0}}),window.addEventListener("test",Eo,Eo),window.removeEventListener("test",Eo,Eo)}catch{hf=!1}function $b(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Bo=!1,Iu=null,Du=!1,ff=null,Hb={onError:function(t){Bo=!0,Iu=t}};function zb(t,e,n,r,i,s,o,a,l){Bo=!1,Iu=null,$b.apply(Hb,arguments)}function Wb(t,e,n,r,i,s,o,a,l){if(zb.apply(this,arguments),Bo){if(Bo){var c=Iu;Bo=!1,Iu=null}else throw Error(B(198));Du||(Du=!0,ff=c)}}function xi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ZE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ry(t){if(xi(t)!==t)throw Error(B(188))}function qb(t){var e=t.alternate;if(!e){if(e=xi(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return ry(i),t;if(s===r)return ry(i),e;s=s.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function JE(t){return t=qb(t),t!==null?ew(t):null}function ew(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ew(t);if(e!==null)return e;t=t.sibling}return null}var tw=zt.unstable_scheduleCallback,iy=zt.unstable_cancelCallback,Gb=zt.unstable_shouldYield,Qb=zt.unstable_requestPaint,Fe=zt.unstable_now,Yb=zt.unstable_getCurrentPriorityLevel,Xp=zt.unstable_ImmediatePriority,nw=zt.unstable_UserBlockingPriority,ku=zt.unstable_NormalPriority,Kb=zt.unstable_LowPriority,rw=zt.unstable_IdlePriority,Oc=null,Rn=null;function Xb(t){if(Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(Oc,t,void 0,(t.current.flags&128)===128)}catch{}}var pn=Math.clz32?Math.clz32:eR,Zb=Math.log,Jb=Math.LN2;function eR(t){return t>>>=0,t===0?32:31-(Zb(t)/Jb|0)|0}var bl=64,Rl=4194304;function Mo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function xu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Mo(a):(s&=o,s!==0&&(r=Mo(s)))}else o=n&~i,o!==0?r=Mo(o):s!==0&&(r=Mo(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-pn(e),i=1<<n,r|=t[n],e&=~i;return r}function tR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-pn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=tR(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function pf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function iw(){var t=bl;return bl<<=1,!(bl&4194240)&&(bl=64),t}function Qd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Fa(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-pn(e),t[e]=n}function rR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-pn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Zp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-pn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var me=0;function sw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ow,Jp,aw,lw,uw,mf=!1,Il=[],Ar=null,Cr=null,br=null,aa=new Map,la=new Map,hr=[],iR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sy(t,e){switch(t){case"focusin":case"focusout":Ar=null;break;case"dragenter":case"dragleave":Cr=null;break;case"mouseover":case"mouseout":br=null;break;case"pointerover":case"pointerout":aa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":la.delete(e.pointerId)}}function wo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ja(e),e!==null&&Jp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function sR(t,e,n,r,i){switch(e){case"focusin":return Ar=wo(Ar,t,e,n,r,i),!0;case"dragenter":return Cr=wo(Cr,t,e,n,r,i),!0;case"mouseover":return br=wo(br,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return aa.set(s,wo(aa.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,la.set(s,wo(la.get(s)||null,t,e,n,r,i)),!0}return!1}function cw(t){var e=ui(t.target);if(e!==null){var n=xi(e);if(n!==null){if(e=n.tag,e===13){if(e=ZE(n),e!==null){t.blockedOn=e,uw(t.priority,function(){aw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function iu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=gf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);cf=r,n.target.dispatchEvent(r),cf=null}else return e=ja(n),e!==null&&Jp(e),t.blockedOn=n,!1;e.shift()}return!0}function oy(t,e,n){iu(t)&&n.delete(e)}function oR(){mf=!1,Ar!==null&&iu(Ar)&&(Ar=null),Cr!==null&&iu(Cr)&&(Cr=null),br!==null&&iu(br)&&(br=null),aa.forEach(oy),la.forEach(oy)}function So(t,e){t.blockedOn===e&&(t.blockedOn=null,mf||(mf=!0,zt.unstable_scheduleCallback(zt.unstable_NormalPriority,oR)))}function ua(t){function e(i){return So(i,t)}if(0<Il.length){So(Il[0],t);for(var n=1;n<Il.length;n++){var r=Il[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ar!==null&&So(Ar,t),Cr!==null&&So(Cr,t),br!==null&&So(br,t),aa.forEach(e),la.forEach(e),n=0;n<hr.length;n++)r=hr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<hr.length&&(n=hr[0],n.blockedOn===null);)cw(n),n.blockedOn===null&&hr.shift()}var vs=tr.ReactCurrentBatchConfig,Pu=!0;function aR(t,e,n,r){var i=me,s=vs.transition;vs.transition=null;try{me=1,em(t,e,n,r)}finally{me=i,vs.transition=s}}function lR(t,e,n,r){var i=me,s=vs.transition;vs.transition=null;try{me=4,em(t,e,n,r)}finally{me=i,vs.transition=s}}function em(t,e,n,r){if(Pu){var i=gf(t,e,n,r);if(i===null)ih(t,e,r,Nu,n),sy(t,r);else if(sR(i,t,e,n,r))r.stopPropagation();else if(sy(t,r),e&4&&-1<iR.indexOf(t)){for(;i!==null;){var s=ja(i);if(s!==null&&ow(s),s=gf(t,e,n,r),s===null&&ih(t,e,r,Nu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else ih(t,e,r,null,n)}}var Nu=null;function gf(t,e,n,r){if(Nu=null,t=Kp(r),t=ui(t),t!==null)if(e=xi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ZE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Nu=t,null}function dw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Yb()){case Xp:return 1;case nw:return 4;case ku:case Kb:return 16;case rw:return 536870912;default:return 16}default:return 16}}var gr=null,tm=null,su=null;function hw(){if(su)return su;var t,e=tm,n=e.length,r,i="value"in gr?gr.value:gr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return su=i.slice(t,1<r?1-r:void 0)}function ou(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Dl(){return!0}function ay(){return!1}function qt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Dl:ay,this.isPropagationStopped=ay,this}return xe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Dl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Dl)},persist:function(){},isPersistent:Dl}),e}var Ws={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nm=qt(Ws),Ua=xe({},Ws,{view:0,detail:0}),uR=qt(Ua),Yd,Kd,To,Vc=xe({},Ua,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==To&&(To&&t.type==="mousemove"?(Yd=t.screenX-To.screenX,Kd=t.screenY-To.screenY):Kd=Yd=0,To=t),Yd)},movementY:function(t){return"movementY"in t?t.movementY:Kd}}),ly=qt(Vc),cR=xe({},Vc,{dataTransfer:0}),dR=qt(cR),hR=xe({},Ua,{relatedTarget:0}),Xd=qt(hR),fR=xe({},Ws,{animationName:0,elapsedTime:0,pseudoElement:0}),pR=qt(fR),mR=xe({},Ws,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gR=qt(mR),vR=xe({},Ws,{data:0}),uy=qt(vR),yR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_R={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ER={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ER[t])?!!e[t]:!1}function rm(){return wR}var SR=xe({},Ua,{key:function(t){if(t.key){var e=yR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ou(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_R[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rm,charCode:function(t){return t.type==="keypress"?ou(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ou(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),TR=qt(SR),AR=xe({},Vc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cy=qt(AR),CR=xe({},Ua,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rm}),bR=qt(CR),RR=xe({},Ws,{propertyName:0,elapsedTime:0,pseudoElement:0}),IR=qt(RR),DR=xe({},Vc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),kR=qt(DR),xR=[9,13,27,32],im=Wn&&"CompositionEvent"in window,$o=null;Wn&&"documentMode"in document&&($o=document.documentMode);var PR=Wn&&"TextEvent"in window&&!$o,fw=Wn&&(!im||$o&&8<$o&&11>=$o),dy=" ",hy=!1;function pw(t,e){switch(t){case"keyup":return xR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ns=!1;function NR(t,e){switch(t){case"compositionend":return mw(e);case"keypress":return e.which!==32?null:(hy=!0,dy);case"textInput":return t=e.data,t===dy&&hy?null:t;default:return null}}function MR(t,e){if(ns)return t==="compositionend"||!im&&pw(t,e)?(t=hw(),su=tm=gr=null,ns=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return fw&&e.locale!=="ko"?null:e.data;default:return null}}var OR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!OR[t.type]:e==="textarea"}function gw(t,e,n,r){GE(r),e=Mu(e,"onChange"),0<e.length&&(n=new nm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ho=null,ca=null;function VR(t){Rw(t,0)}function Lc(t){var e=ss(t);if(jE(e))return t}function LR(t,e){if(t==="change")return e}var vw=!1;if(Wn){var Zd;if(Wn){var Jd="oninput"in document;if(!Jd){var py=document.createElement("div");py.setAttribute("oninput","return;"),Jd=typeof py.oninput=="function"}Zd=Jd}else Zd=!1;vw=Zd&&(!document.documentMode||9<document.documentMode)}function my(){Ho&&(Ho.detachEvent("onpropertychange",yw),ca=Ho=null)}function yw(t){if(t.propertyName==="value"&&Lc(ca)){var e=[];gw(e,ca,t,Kp(t)),XE(VR,e)}}function FR(t,e,n){t==="focusin"?(my(),Ho=e,ca=n,Ho.attachEvent("onpropertychange",yw)):t==="focusout"&&my()}function UR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lc(ca)}function jR(t,e){if(t==="click")return Lc(e)}function BR(t,e){if(t==="input"||t==="change")return Lc(e)}function $R(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var vn=typeof Object.is=="function"?Object.is:$R;function da(t,e){if(vn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Xh.call(e,i)||!vn(t[i],e[i]))return!1}return!0}function gy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vy(t,e){var n=gy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gy(n)}}function _w(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_w(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ew(){for(var t=window,e=Ru();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ru(t.document)}return e}function sm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function HR(t){var e=Ew(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&_w(n.ownerDocument.documentElement,n)){if(r!==null&&sm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=vy(n,s);var o=vy(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var zR=Wn&&"documentMode"in document&&11>=document.documentMode,rs=null,vf=null,zo=null,yf=!1;function yy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yf||rs==null||rs!==Ru(r)||(r=rs,"selectionStart"in r&&sm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),zo&&da(zo,r)||(zo=r,r=Mu(vf,"onSelect"),0<r.length&&(e=new nm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=rs)))}function kl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var is={animationend:kl("Animation","AnimationEnd"),animationiteration:kl("Animation","AnimationIteration"),animationstart:kl("Animation","AnimationStart"),transitionend:kl("Transition","TransitionEnd")},eh={},ww={};Wn&&(ww=document.createElement("div").style,"AnimationEvent"in window||(delete is.animationend.animation,delete is.animationiteration.animation,delete is.animationstart.animation),"TransitionEvent"in window||delete is.transitionend.transition);function Fc(t){if(eh[t])return eh[t];if(!is[t])return t;var e=is[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ww)return eh[t]=e[n];return t}var Sw=Fc("animationend"),Tw=Fc("animationiteration"),Aw=Fc("animationstart"),Cw=Fc("transitionend"),bw=new Map,_y="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wr(t,e){bw.set(t,e),ki(e,[t])}for(var th=0;th<_y.length;th++){var nh=_y[th],WR=nh.toLowerCase(),qR=nh[0].toUpperCase()+nh.slice(1);Wr(WR,"on"+qR)}Wr(Sw,"onAnimationEnd");Wr(Tw,"onAnimationIteration");Wr(Aw,"onAnimationStart");Wr("dblclick","onDoubleClick");Wr("focusin","onFocus");Wr("focusout","onBlur");Wr(Cw,"onTransitionEnd");bs("onMouseEnter",["mouseout","mouseover"]);bs("onMouseLeave",["mouseout","mouseover"]);bs("onPointerEnter",["pointerout","pointerover"]);bs("onPointerLeave",["pointerout","pointerover"]);ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ki("onBeforeInput",["compositionend","keypress","textInput","paste"]);ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oo));function Ey(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Wb(r,e,void 0,t),t.currentTarget=null}function Rw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Ey(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Ey(i,a,c),s=l}}}if(Du)throw t=ff,Du=!1,ff=null,t}function we(t,e){var n=e[Tf];n===void 0&&(n=e[Tf]=new Set);var r=t+"__bubble";n.has(r)||(Iw(e,t,2,!1),n.add(r))}function rh(t,e,n){var r=0;e&&(r|=4),Iw(n,t,r,e)}var xl="_reactListening"+Math.random().toString(36).slice(2);function ha(t){if(!t[xl]){t[xl]=!0,OE.forEach(function(n){n!=="selectionchange"&&(GR.has(n)||rh(n,!1,t),rh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[xl]||(e[xl]=!0,rh("selectionchange",!1,e))}}function Iw(t,e,n,r){switch(dw(e)){case 1:var i=aR;break;case 4:i=lR;break;default:i=em}n=i.bind(null,e,n,t),i=void 0,!hf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ih(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ui(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}XE(function(){var c=s,d=Kp(n),h=[];e:{var p=bw.get(t);if(p!==void 0){var m=nm,v=t;switch(t){case"keypress":if(ou(n)===0)break e;case"keydown":case"keyup":m=TR;break;case"focusin":v="focus",m=Xd;break;case"focusout":v="blur",m=Xd;break;case"beforeblur":case"afterblur":m=Xd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=ly;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=dR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=bR;break;case Sw:case Tw:case Aw:m=pR;break;case Cw:m=IR;break;case"scroll":m=uR;break;case"wheel":m=kR;break;case"copy":case"cut":case"paste":m=gR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=cy}var T=(e&4)!==0,S=!T&&t==="scroll",y=T?p!==null?p+"Capture":null:p;T=[];for(var E=c,A;E!==null;){A=E;var x=A.stateNode;if(A.tag===5&&x!==null&&(A=x,y!==null&&(x=oa(E,y),x!=null&&T.push(fa(E,x,A)))),S)break;E=E.return}0<T.length&&(p=new m(p,v,null,n,d),h.push({event:p,listeners:T}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==cf&&(v=n.relatedTarget||n.fromElement)&&(ui(v)||v[qn]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=c,v=v?ui(v):null,v!==null&&(S=xi(v),v!==S||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(T=ly,x="onMouseLeave",y="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(T=cy,x="onPointerLeave",y="onPointerEnter",E="pointer"),S=m==null?p:ss(m),A=v==null?p:ss(v),p=new T(x,E+"leave",m,n,d),p.target=S,p.relatedTarget=A,x=null,ui(d)===c&&(T=new T(y,E+"enter",v,n,d),T.target=A,T.relatedTarget=S,x=T),S=x,m&&v)t:{for(T=m,y=v,E=0,A=T;A;A=Qi(A))E++;for(A=0,x=y;x;x=Qi(x))A++;for(;0<E-A;)T=Qi(T),E--;for(;0<A-E;)y=Qi(y),A--;for(;E--;){if(T===y||y!==null&&T===y.alternate)break t;T=Qi(T),y=Qi(y)}T=null}else T=null;m!==null&&wy(h,p,m,T,!1),v!==null&&S!==null&&wy(h,S,v,T,!0)}}e:{if(p=c?ss(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var F=LR;else if(fy(p))if(vw)F=BR;else{F=UR;var L=FR}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(F=jR);if(F&&(F=F(t,c))){gw(h,F,n,d);break e}L&&L(t,p,c),t==="focusout"&&(L=p._wrapperState)&&L.controlled&&p.type==="number"&&sf(p,"number",p.value)}switch(L=c?ss(c):window,t){case"focusin":(fy(L)||L.contentEditable==="true")&&(rs=L,vf=c,zo=null);break;case"focusout":zo=vf=rs=null;break;case"mousedown":yf=!0;break;case"contextmenu":case"mouseup":case"dragend":yf=!1,yy(h,n,d);break;case"selectionchange":if(zR)break;case"keydown":case"keyup":yy(h,n,d)}var C;if(im)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else ns?pw(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(fw&&n.locale!=="ko"&&(ns||_!=="onCompositionStart"?_==="onCompositionEnd"&&ns&&(C=hw()):(gr=d,tm="value"in gr?gr.value:gr.textContent,ns=!0)),L=Mu(c,_),0<L.length&&(_=new uy(_,t,null,n,d),h.push({event:_,listeners:L}),C?_.data=C:(C=mw(n),C!==null&&(_.data=C)))),(C=PR?NR(t,n):MR(t,n))&&(c=Mu(c,"onBeforeInput"),0<c.length&&(d=new uy("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=C))}Rw(h,e)})}function fa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Mu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=oa(t,n),s!=null&&r.unshift(fa(t,s,i)),s=oa(t,e),s!=null&&r.push(fa(t,s,i))),t=t.return}return r}function Qi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function wy(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=oa(n,s),l!=null&&o.unshift(fa(n,l,a))):i||(l=oa(n,s),l!=null&&o.push(fa(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var QR=/\r\n?/g,YR=/\u0000|\uFFFD/g;function Sy(t){return(typeof t=="string"?t:""+t).replace(QR,`
`).replace(YR,"")}function Pl(t,e,n){if(e=Sy(e),Sy(t)!==e&&n)throw Error(B(425))}function Ou(){}var _f=null,Ef=null;function wf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Sf=typeof setTimeout=="function"?setTimeout:void 0,KR=typeof clearTimeout=="function"?clearTimeout:void 0,Ty=typeof Promise=="function"?Promise:void 0,XR=typeof queueMicrotask=="function"?queueMicrotask:typeof Ty<"u"?function(t){return Ty.resolve(null).then(t).catch(ZR)}:Sf;function ZR(t){setTimeout(function(){throw t})}function sh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ua(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ua(e)}function Rr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ay(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var qs=Math.random().toString(36).slice(2),An="__reactFiber$"+qs,pa="__reactProps$"+qs,qn="__reactContainer$"+qs,Tf="__reactEvents$"+qs,JR="__reactListeners$"+qs,eI="__reactHandles$"+qs;function ui(t){var e=t[An];if(e)return e;for(var n=t.parentNode;n;){if(e=n[qn]||n[An]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ay(t);t!==null;){if(n=t[An])return n;t=Ay(t)}return e}t=n,n=t.parentNode}return null}function ja(t){return t=t[An]||t[qn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ss(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function Uc(t){return t[pa]||null}var Af=[],os=-1;function qr(t){return{current:t}}function Te(t){0>os||(t.current=Af[os],Af[os]=null,os--)}function _e(t,e){os++,Af[os]=t.current,t.current=e}var Ur={},St=qr(Ur),Nt=qr(!1),Ei=Ur;function Rs(t,e){var n=t.type.contextTypes;if(!n)return Ur;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Mt(t){return t=t.childContextTypes,t!=null}function Vu(){Te(Nt),Te(St)}function Cy(t,e,n){if(St.current!==Ur)throw Error(B(168));_e(St,e),_e(Nt,n)}function Dw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(B(108,Fb(t)||"Unknown",i));return xe({},n,r)}function Lu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ur,Ei=St.current,_e(St,t),_e(Nt,Nt.current),!0}function by(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=Dw(t,e,Ei),r.__reactInternalMemoizedMergedChildContext=t,Te(Nt),Te(St),_e(St,t)):Te(Nt),_e(Nt,n)}var Un=null,jc=!1,oh=!1;function kw(t){Un===null?Un=[t]:Un.push(t)}function tI(t){jc=!0,kw(t)}function Gr(){if(!oh&&Un!==null){oh=!0;var t=0,e=me;try{var n=Un;for(me=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Un=null,jc=!1}catch(i){throw Un!==null&&(Un=Un.slice(t+1)),tw(Xp,Gr),i}finally{me=e,oh=!1}}return null}var as=[],ls=0,Fu=null,Uu=0,Qt=[],Yt=0,wi=null,jn=1,Bn="";function ti(t,e){as[ls++]=Uu,as[ls++]=Fu,Fu=t,Uu=e}function xw(t,e,n){Qt[Yt++]=jn,Qt[Yt++]=Bn,Qt[Yt++]=wi,wi=t;var r=jn;t=Bn;var i=32-pn(r)-1;r&=~(1<<i),n+=1;var s=32-pn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,jn=1<<32-pn(e)+i|n<<i|r,Bn=s+t}else jn=1<<s|n<<i|r,Bn=t}function om(t){t.return!==null&&(ti(t,1),xw(t,1,0))}function am(t){for(;t===Fu;)Fu=as[--ls],as[ls]=null,Uu=as[--ls],as[ls]=null;for(;t===wi;)wi=Qt[--Yt],Qt[Yt]=null,Bn=Qt[--Yt],Qt[Yt]=null,jn=Qt[--Yt],Qt[Yt]=null}var $t=null,jt=null,Ce=!1,hn=null;function Pw(t,e){var n=Xt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ry(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,$t=t,jt=Rr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,$t=t,jt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=wi!==null?{id:jn,overflow:Bn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Xt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,$t=t,jt=null,!0):!1;default:return!1}}function Cf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function bf(t){if(Ce){var e=jt;if(e){var n=e;if(!Ry(t,e)){if(Cf(t))throw Error(B(418));e=Rr(n.nextSibling);var r=$t;e&&Ry(t,e)?Pw(r,n):(t.flags=t.flags&-4097|2,Ce=!1,$t=t)}}else{if(Cf(t))throw Error(B(418));t.flags=t.flags&-4097|2,Ce=!1,$t=t}}}function Iy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;$t=t}function Nl(t){if(t!==$t)return!1;if(!Ce)return Iy(t),Ce=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!wf(t.type,t.memoizedProps)),e&&(e=jt)){if(Cf(t))throw Nw(),Error(B(418));for(;e;)Pw(t,e),e=Rr(e.nextSibling)}if(Iy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){jt=Rr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}jt=null}}else jt=$t?Rr(t.stateNode.nextSibling):null;return!0}function Nw(){for(var t=jt;t;)t=Rr(t.nextSibling)}function Is(){jt=$t=null,Ce=!1}function lm(t){hn===null?hn=[t]:hn.push(t)}var nI=tr.ReactCurrentBatchConfig;function Ao(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function Ml(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Dy(t){var e=t._init;return e(t._payload)}function Mw(t){function e(y,E){if(t){var A=y.deletions;A===null?(y.deletions=[E],y.flags|=16):A.push(E)}}function n(y,E){if(!t)return null;for(;E!==null;)e(y,E),E=E.sibling;return null}function r(y,E){for(y=new Map;E!==null;)E.key!==null?y.set(E.key,E):y.set(E.index,E),E=E.sibling;return y}function i(y,E){return y=xr(y,E),y.index=0,y.sibling=null,y}function s(y,E,A){return y.index=A,t?(A=y.alternate,A!==null?(A=A.index,A<E?(y.flags|=2,E):A):(y.flags|=2,E)):(y.flags|=1048576,E)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,E,A,x){return E===null||E.tag!==6?(E=fh(A,y.mode,x),E.return=y,E):(E=i(E,A),E.return=y,E)}function l(y,E,A,x){var F=A.type;return F===ts?d(y,E,A.props.children,x,A.key):E!==null&&(E.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===cr&&Dy(F)===E.type)?(x=i(E,A.props),x.ref=Ao(y,E,A),x.return=y,x):(x=fu(A.type,A.key,A.props,null,y.mode,x),x.ref=Ao(y,E,A),x.return=y,x)}function c(y,E,A,x){return E===null||E.tag!==4||E.stateNode.containerInfo!==A.containerInfo||E.stateNode.implementation!==A.implementation?(E=ph(A,y.mode,x),E.return=y,E):(E=i(E,A.children||[]),E.return=y,E)}function d(y,E,A,x,F){return E===null||E.tag!==7?(E=gi(A,y.mode,x,F),E.return=y,E):(E=i(E,A),E.return=y,E)}function h(y,E,A){if(typeof E=="string"&&E!==""||typeof E=="number")return E=fh(""+E,y.mode,A),E.return=y,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Tl:return A=fu(E.type,E.key,E.props,null,y.mode,A),A.ref=Ao(y,null,E),A.return=y,A;case es:return E=ph(E,y.mode,A),E.return=y,E;case cr:var x=E._init;return h(y,x(E._payload),A)}if(No(E)||_o(E))return E=gi(E,y.mode,A,null),E.return=y,E;Ml(y,E)}return null}function p(y,E,A,x){var F=E!==null?E.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return F!==null?null:a(y,E,""+A,x);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Tl:return A.key===F?l(y,E,A,x):null;case es:return A.key===F?c(y,E,A,x):null;case cr:return F=A._init,p(y,E,F(A._payload),x)}if(No(A)||_o(A))return F!==null?null:d(y,E,A,x,null);Ml(y,A)}return null}function m(y,E,A,x,F){if(typeof x=="string"&&x!==""||typeof x=="number")return y=y.get(A)||null,a(E,y,""+x,F);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Tl:return y=y.get(x.key===null?A:x.key)||null,l(E,y,x,F);case es:return y=y.get(x.key===null?A:x.key)||null,c(E,y,x,F);case cr:var L=x._init;return m(y,E,A,L(x._payload),F)}if(No(x)||_o(x))return y=y.get(A)||null,d(E,y,x,F,null);Ml(E,x)}return null}function v(y,E,A,x){for(var F=null,L=null,C=E,_=E=0,b=null;C!==null&&_<A.length;_++){C.index>_?(b=C,C=null):b=C.sibling;var R=p(y,C,A[_],x);if(R===null){C===null&&(C=b);break}t&&C&&R.alternate===null&&e(y,C),E=s(R,E,_),L===null?F=R:L.sibling=R,L=R,C=b}if(_===A.length)return n(y,C),Ce&&ti(y,_),F;if(C===null){for(;_<A.length;_++)C=h(y,A[_],x),C!==null&&(E=s(C,E,_),L===null?F=C:L.sibling=C,L=C);return Ce&&ti(y,_),F}for(C=r(y,C);_<A.length;_++)b=m(C,y,_,A[_],x),b!==null&&(t&&b.alternate!==null&&C.delete(b.key===null?_:b.key),E=s(b,E,_),L===null?F=b:L.sibling=b,L=b);return t&&C.forEach(function(k){return e(y,k)}),Ce&&ti(y,_),F}function T(y,E,A,x){var F=_o(A);if(typeof F!="function")throw Error(B(150));if(A=F.call(A),A==null)throw Error(B(151));for(var L=F=null,C=E,_=E=0,b=null,R=A.next();C!==null&&!R.done;_++,R=A.next()){C.index>_?(b=C,C=null):b=C.sibling;var k=p(y,C,R.value,x);if(k===null){C===null&&(C=b);break}t&&C&&k.alternate===null&&e(y,C),E=s(k,E,_),L===null?F=k:L.sibling=k,L=k,C=b}if(R.done)return n(y,C),Ce&&ti(y,_),F;if(C===null){for(;!R.done;_++,R=A.next())R=h(y,R.value,x),R!==null&&(E=s(R,E,_),L===null?F=R:L.sibling=R,L=R);return Ce&&ti(y,_),F}for(C=r(y,C);!R.done;_++,R=A.next())R=m(C,y,_,R.value,x),R!==null&&(t&&R.alternate!==null&&C.delete(R.key===null?_:R.key),E=s(R,E,_),L===null?F=R:L.sibling=R,L=R);return t&&C.forEach(function(P){return e(y,P)}),Ce&&ti(y,_),F}function S(y,E,A,x){if(typeof A=="object"&&A!==null&&A.type===ts&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case Tl:e:{for(var F=A.key,L=E;L!==null;){if(L.key===F){if(F=A.type,F===ts){if(L.tag===7){n(y,L.sibling),E=i(L,A.props.children),E.return=y,y=E;break e}}else if(L.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===cr&&Dy(F)===L.type){n(y,L.sibling),E=i(L,A.props),E.ref=Ao(y,L,A),E.return=y,y=E;break e}n(y,L);break}else e(y,L);L=L.sibling}A.type===ts?(E=gi(A.props.children,y.mode,x,A.key),E.return=y,y=E):(x=fu(A.type,A.key,A.props,null,y.mode,x),x.ref=Ao(y,E,A),x.return=y,y=x)}return o(y);case es:e:{for(L=A.key;E!==null;){if(E.key===L)if(E.tag===4&&E.stateNode.containerInfo===A.containerInfo&&E.stateNode.implementation===A.implementation){n(y,E.sibling),E=i(E,A.children||[]),E.return=y,y=E;break e}else{n(y,E);break}else e(y,E);E=E.sibling}E=ph(A,y.mode,x),E.return=y,y=E}return o(y);case cr:return L=A._init,S(y,E,L(A._payload),x)}if(No(A))return v(y,E,A,x);if(_o(A))return T(y,E,A,x);Ml(y,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,E!==null&&E.tag===6?(n(y,E.sibling),E=i(E,A),E.return=y,y=E):(n(y,E),E=fh(A,y.mode,x),E.return=y,y=E),o(y)):n(y,E)}return S}var Ds=Mw(!0),Ow=Mw(!1),ju=qr(null),Bu=null,us=null,um=null;function cm(){um=us=Bu=null}function dm(t){var e=ju.current;Te(ju),t._currentValue=e}function Rf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ys(t,e){Bu=t,um=us=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(xt=!0),t.firstContext=null)}function tn(t){var e=t._currentValue;if(um!==t)if(t={context:t,memoizedValue:e,next:null},us===null){if(Bu===null)throw Error(B(308));us=t,Bu.dependencies={lanes:0,firstContext:t}}else us=us.next=t;return e}var ci=null;function hm(t){ci===null?ci=[t]:ci.push(t)}function Vw(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,hm(e)):(n.next=i.next,i.next=n),e.interleaved=n,Gn(t,r)}function Gn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var dr=!1;function fm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function $n(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ir(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ae&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Gn(t,n)}return i=r.interleaved,i===null?(e.next=e,hm(r)):(e.next=i.next,i.next=e),r.interleaved=e,Gn(t,n)}function au(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zp(t,n)}}function ky(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function $u(t,e,n,r){var i=t.updateQueue;dr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=c=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,T=a;switch(p=e,m=n,T.tag){case 1:if(v=T.payload,typeof v=="function"){h=v.call(m,h,p);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=T.payload,p=typeof v=="function"?v.call(m,h,p):v,p==null)break e;h=xe({},h,p);break e;case 2:dr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=h):d=d.next=m,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ti|=o,t.lanes=o,t.memoizedState=h}}function xy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var Ba={},In=qr(Ba),ma=qr(Ba),ga=qr(Ba);function di(t){if(t===Ba)throw Error(B(174));return t}function pm(t,e){switch(_e(ga,e),_e(ma,t),_e(In,Ba),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:af(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=af(e,t)}Te(In),_e(In,e)}function ks(){Te(In),Te(ma),Te(ga)}function Fw(t){di(ga.current);var e=di(In.current),n=af(e,t.type);e!==n&&(_e(ma,t),_e(In,n))}function mm(t){ma.current===t&&(Te(In),Te(ma))}var De=qr(0);function Hu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ah=[];function gm(){for(var t=0;t<ah.length;t++)ah[t]._workInProgressVersionPrimary=null;ah.length=0}var lu=tr.ReactCurrentDispatcher,lh=tr.ReactCurrentBatchConfig,Si=0,ke=null,Qe=null,Ze=null,zu=!1,Wo=!1,va=0,rI=0;function ft(){throw Error(B(321))}function vm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!vn(t[n],e[n]))return!1;return!0}function ym(t,e,n,r,i,s){if(Si=s,ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,lu.current=t===null||t.memoizedState===null?aI:lI,t=n(r,i),Wo){s=0;do{if(Wo=!1,va=0,25<=s)throw Error(B(301));s+=1,Ze=Qe=null,e.updateQueue=null,lu.current=uI,t=n(r,i)}while(Wo)}if(lu.current=Wu,e=Qe!==null&&Qe.next!==null,Si=0,Ze=Qe=ke=null,zu=!1,e)throw Error(B(300));return t}function _m(){var t=va!==0;return va=0,t}function Sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?ke.memoizedState=Ze=t:Ze=Ze.next=t,Ze}function nn(){if(Qe===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=Qe.next;var e=Ze===null?ke.memoizedState:Ze.next;if(e!==null)Ze=e,Qe=t;else{if(t===null)throw Error(B(310));Qe=t,t={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},Ze===null?ke.memoizedState=Ze=t:Ze=Ze.next=t}return Ze}function ya(t,e){return typeof e=="function"?e(t):e}function uh(t){var e=nn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=Qe,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((Si&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,ke.lanes|=d,Ti|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,vn(r,e.memoizedState)||(xt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ke.lanes|=s,Ti|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ch(t){var e=nn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);vn(s,e.memoizedState)||(xt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Uw(){}function jw(t,e){var n=ke,r=nn(),i=e(),s=!vn(r.memoizedState,i);if(s&&(r.memoizedState=i,xt=!0),r=r.queue,Em(Hw.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ze!==null&&Ze.memoizedState.tag&1){if(n.flags|=2048,_a(9,$w.bind(null,n,r,i,e),void 0,null),et===null)throw Error(B(349));Si&30||Bw(n,e,i)}return i}function Bw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ke.updateQueue,e===null?(e={lastEffect:null,stores:null},ke.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function $w(t,e,n,r){e.value=n,e.getSnapshot=r,zw(e)&&Ww(t)}function Hw(t,e,n){return n(function(){zw(e)&&Ww(t)})}function zw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!vn(t,n)}catch{return!0}}function Ww(t){var e=Gn(t,1);e!==null&&mn(e,t,1,-1)}function Py(t){var e=Sn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ya,lastRenderedState:t},e.queue=t,t=t.dispatch=oI.bind(null,ke,t),[e.memoizedState,t]}function _a(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ke.updateQueue,e===null?(e={lastEffect:null,stores:null},ke.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function qw(){return nn().memoizedState}function uu(t,e,n,r){var i=Sn();ke.flags|=t,i.memoizedState=_a(1|e,n,void 0,r===void 0?null:r)}function Bc(t,e,n,r){var i=nn();r=r===void 0?null:r;var s=void 0;if(Qe!==null){var o=Qe.memoizedState;if(s=o.destroy,r!==null&&vm(r,o.deps)){i.memoizedState=_a(e,n,s,r);return}}ke.flags|=t,i.memoizedState=_a(1|e,n,s,r)}function Ny(t,e){return uu(8390656,8,t,e)}function Em(t,e){return Bc(2048,8,t,e)}function Gw(t,e){return Bc(4,2,t,e)}function Qw(t,e){return Bc(4,4,t,e)}function Yw(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Kw(t,e,n){return n=n!=null?n.concat([t]):null,Bc(4,4,Yw.bind(null,e,t),n)}function wm(){}function Xw(t,e){var n=nn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&vm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Zw(t,e){var n=nn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&vm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Jw(t,e,n){return Si&21?(vn(n,e)||(n=iw(),ke.lanes|=n,Ti|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,xt=!0),t.memoizedState=n)}function iI(t,e){var n=me;me=n!==0&&4>n?n:4,t(!0);var r=lh.transition;lh.transition={};try{t(!1),e()}finally{me=n,lh.transition=r}}function eS(){return nn().memoizedState}function sI(t,e,n){var r=kr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},tS(t))nS(e,n);else if(n=Vw(t,e,n,r),n!==null){var i=bt();mn(n,t,r,i),rS(n,e,r)}}function oI(t,e,n){var r=kr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(tS(t))nS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,vn(a,o)){var l=e.interleaved;l===null?(i.next=i,hm(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Vw(t,e,i,r),n!==null&&(i=bt(),mn(n,t,r,i),rS(n,e,r))}}function tS(t){var e=t.alternate;return t===ke||e!==null&&e===ke}function nS(t,e){Wo=zu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function rS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zp(t,n)}}var Wu={readContext:tn,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useInsertionEffect:ft,useLayoutEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useMutableSource:ft,useSyncExternalStore:ft,useId:ft,unstable_isNewReconciler:!1},aI={readContext:tn,useCallback:function(t,e){return Sn().memoizedState=[t,e===void 0?null:e],t},useContext:tn,useEffect:Ny,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,uu(4194308,4,Yw.bind(null,e,t),n)},useLayoutEffect:function(t,e){return uu(4194308,4,t,e)},useInsertionEffect:function(t,e){return uu(4,2,t,e)},useMemo:function(t,e){var n=Sn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Sn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=sI.bind(null,ke,t),[r.memoizedState,t]},useRef:function(t){var e=Sn();return t={current:t},e.memoizedState=t},useState:Py,useDebugValue:wm,useDeferredValue:function(t){return Sn().memoizedState=t},useTransition:function(){var t=Py(!1),e=t[0];return t=iI.bind(null,t[1]),Sn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ke,i=Sn();if(Ce){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),et===null)throw Error(B(349));Si&30||Bw(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Ny(Hw.bind(null,r,s,t),[t]),r.flags|=2048,_a(9,$w.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Sn(),e=et.identifierPrefix;if(Ce){var n=Bn,r=jn;n=(r&~(1<<32-pn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=va++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=rI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},lI={readContext:tn,useCallback:Xw,useContext:tn,useEffect:Em,useImperativeHandle:Kw,useInsertionEffect:Gw,useLayoutEffect:Qw,useMemo:Zw,useReducer:uh,useRef:qw,useState:function(){return uh(ya)},useDebugValue:wm,useDeferredValue:function(t){var e=nn();return Jw(e,Qe.memoizedState,t)},useTransition:function(){var t=uh(ya)[0],e=nn().memoizedState;return[t,e]},useMutableSource:Uw,useSyncExternalStore:jw,useId:eS,unstable_isNewReconciler:!1},uI={readContext:tn,useCallback:Xw,useContext:tn,useEffect:Em,useImperativeHandle:Kw,useInsertionEffect:Gw,useLayoutEffect:Qw,useMemo:Zw,useReducer:ch,useRef:qw,useState:function(){return ch(ya)},useDebugValue:wm,useDeferredValue:function(t){var e=nn();return Qe===null?e.memoizedState=t:Jw(e,Qe.memoizedState,t)},useTransition:function(){var t=ch(ya)[0],e=nn().memoizedState;return[t,e]},useMutableSource:Uw,useSyncExternalStore:jw,useId:eS,unstable_isNewReconciler:!1};function cn(t,e){if(t&&t.defaultProps){e=xe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function If(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:xe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var $c={isMounted:function(t){return(t=t._reactInternals)?xi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=bt(),i=kr(t),s=$n(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ir(t,s,i),e!==null&&(mn(e,t,i,r),au(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=bt(),i=kr(t),s=$n(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ir(t,s,i),e!==null&&(mn(e,t,i,r),au(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=bt(),r=kr(t),i=$n(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ir(t,i,r),e!==null&&(mn(e,t,r,n),au(e,t,r))}};function My(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!da(n,r)||!da(i,s):!0}function iS(t,e,n){var r=!1,i=Ur,s=e.contextType;return typeof s=="object"&&s!==null?s=tn(s):(i=Mt(e)?Ei:St.current,r=e.contextTypes,s=(r=r!=null)?Rs(t,i):Ur),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=$c,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Oy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&$c.enqueueReplaceState(e,e.state,null)}function Df(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},fm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=tn(s):(s=Mt(e)?Ei:St.current,i.context=Rs(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(If(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&$c.enqueueReplaceState(i,i.state,null),$u(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function xs(t,e){try{var n="",r=e;do n+=Lb(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function dh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function kf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var cI=typeof WeakMap=="function"?WeakMap:Map;function sS(t,e,n){n=$n(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Gu||(Gu=!0,jf=r),kf(t,e)},n}function oS(t,e,n){n=$n(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){kf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){kf(t,e),typeof r!="function"&&(Dr===null?Dr=new Set([this]):Dr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Vy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new cI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=AI.bind(null,t,e,n),e.then(t,t))}function Ly(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Fy(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=$n(-1,1),e.tag=2,Ir(n,e,1))),n.lanes|=1),t)}var dI=tr.ReactCurrentOwner,xt=!1;function Ct(t,e,n,r){e.child=t===null?Ow(e,null,n,r):Ds(e,t.child,n,r)}function Uy(t,e,n,r,i){n=n.render;var s=e.ref;return ys(e,i),r=ym(t,e,n,r,s,i),n=_m(),t!==null&&!xt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Qn(t,e,i)):(Ce&&n&&om(e),e.flags|=1,Ct(t,e,r,i),e.child)}function jy(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Dm(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,aS(t,e,s,r,i)):(t=fu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:da,n(o,r)&&t.ref===e.ref)return Qn(t,e,i)}return e.flags|=1,t=xr(s,r),t.ref=e.ref,t.return=e,e.child=t}function aS(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(da(s,r)&&t.ref===e.ref)if(xt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(xt=!0);else return e.lanes=t.lanes,Qn(t,e,i)}return xf(t,e,n,r,i)}function lS(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(ds,Ft),Ft|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,_e(ds,Ft),Ft|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,_e(ds,Ft),Ft|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,_e(ds,Ft),Ft|=r;return Ct(t,e,i,n),e.child}function uS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function xf(t,e,n,r,i){var s=Mt(n)?Ei:St.current;return s=Rs(e,s),ys(e,i),n=ym(t,e,n,r,s,i),r=_m(),t!==null&&!xt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Qn(t,e,i)):(Ce&&r&&om(e),e.flags|=1,Ct(t,e,n,i),e.child)}function By(t,e,n,r,i){if(Mt(n)){var s=!0;Lu(e)}else s=!1;if(ys(e,i),e.stateNode===null)cu(t,e),iS(e,n,r),Df(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=tn(c):(c=Mt(n)?Ei:St.current,c=Rs(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Oy(e,o,r,c),dr=!1;var p=e.memoizedState;o.state=p,$u(e,r,o,i),l=e.memoizedState,a!==r||p!==l||Nt.current||dr?(typeof d=="function"&&(If(e,n,d,r),l=e.memoizedState),(a=dr||My(e,n,a,r,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Lw(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:cn(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=tn(l):(l=Mt(n)?Ei:St.current,l=Rs(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&Oy(e,o,r,l),dr=!1,p=e.memoizedState,o.state=p,$u(e,r,o,i);var v=e.memoizedState;a!==h||p!==v||Nt.current||dr?(typeof m=="function"&&(If(e,n,m,r),v=e.memoizedState),(c=dr||My(e,n,c,r,p,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Pf(t,e,n,r,s,i)}function Pf(t,e,n,r,i,s){uS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&by(e,n,!1),Qn(t,e,s);r=e.stateNode,dI.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ds(e,t.child,null,s),e.child=Ds(e,null,a,s)):Ct(t,e,a,s),e.memoizedState=r.state,i&&by(e,n,!0),e.child}function cS(t){var e=t.stateNode;e.pendingContext?Cy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Cy(t,e.context,!1),pm(t,e.containerInfo)}function $y(t,e,n,r,i){return Is(),lm(i),e.flags|=256,Ct(t,e,n,r),e.child}var Nf={dehydrated:null,treeContext:null,retryLane:0};function Mf(t){return{baseLanes:t,cachePool:null,transitions:null}}function dS(t,e,n){var r=e.pendingProps,i=De.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),_e(De,i&1),t===null)return bf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Wc(o,r,0,null),t=gi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Mf(n),e.memoizedState=Nf,t):Sm(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return hI(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=xr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=xr(a,s):(s=gi(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Mf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Nf,r}return s=t.child,t=s.sibling,r=xr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Sm(t,e){return e=Wc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ol(t,e,n,r){return r!==null&&lm(r),Ds(e,t.child,null,n),t=Sm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function hI(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=dh(Error(B(422))),Ol(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Wc({mode:"visible",children:r.children},i,0,null),s=gi(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ds(e,t.child,null,o),e.child.memoizedState=Mf(o),e.memoizedState=Nf,s);if(!(e.mode&1))return Ol(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(B(419)),r=dh(s,r,void 0),Ol(t,e,o,r)}if(a=(o&t.childLanes)!==0,xt||a){if(r=et,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Gn(t,i),mn(r,t,i,-1))}return Im(),r=dh(Error(B(421))),Ol(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=CI.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,jt=Rr(i.nextSibling),$t=e,Ce=!0,hn=null,t!==null&&(Qt[Yt++]=jn,Qt[Yt++]=Bn,Qt[Yt++]=wi,jn=t.id,Bn=t.overflow,wi=e),e=Sm(e,r.children),e.flags|=4096,e)}function Hy(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Rf(t.return,e,n)}function hh(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function hS(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ct(t,e,r.children,n),r=De.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Hy(t,n,e);else if(t.tag===19)Hy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(_e(De,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Hu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),hh(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Hu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}hh(e,!0,n,null,s);break;case"together":hh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function cu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Qn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ti|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=xr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=xr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function fI(t,e,n){switch(e.tag){case 3:cS(e),Is();break;case 5:Fw(e);break;case 1:Mt(e.type)&&Lu(e);break;case 4:pm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;_e(ju,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(_e(De,De.current&1),e.flags|=128,null):n&e.child.childLanes?dS(t,e,n):(_e(De,De.current&1),t=Qn(t,e,n),t!==null?t.sibling:null);_e(De,De.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return hS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),_e(De,De.current),r)break;return null;case 22:case 23:return e.lanes=0,lS(t,e,n)}return Qn(t,e,n)}var fS,Of,pS,mS;fS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Of=function(){};pS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,di(In.current);var s=null;switch(n){case"input":i=nf(t,i),r=nf(t,r),s=[];break;case"select":i=xe({},i,{value:void 0}),r=xe({},r,{value:void 0}),s=[];break;case"textarea":i=of(t,i),r=of(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ou)}lf(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ia.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ia.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&we("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};mS=function(t,e,n,r){n!==r&&(e.flags|=4)};function Co(t,e){if(!Ce)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function pt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function pI(t,e,n){var r=e.pendingProps;switch(am(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(e),null;case 1:return Mt(e.type)&&Vu(),pt(e),null;case 3:return r=e.stateNode,ks(),Te(Nt),Te(St),gm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Nl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,hn!==null&&(Hf(hn),hn=null))),Of(t,e),pt(e),null;case 5:mm(e);var i=di(ga.current);if(n=e.type,t!==null&&e.stateNode!=null)pS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return pt(e),null}if(t=di(In.current),Nl(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[An]=e,r[pa]=s,t=(e.mode&1)!==0,n){case"dialog":we("cancel",r),we("close",r);break;case"iframe":case"object":case"embed":we("load",r);break;case"video":case"audio":for(i=0;i<Oo.length;i++)we(Oo[i],r);break;case"source":we("error",r);break;case"img":case"image":case"link":we("error",r),we("load",r);break;case"details":we("toggle",r);break;case"input":Zv(r,s),we("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},we("invalid",r);break;case"textarea":ey(r,s),we("invalid",r)}lf(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Pl(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Pl(r.textContent,a,t),i=["children",""+a]):ia.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&we("scroll",r)}switch(n){case"input":Al(r),Jv(r,s,!0);break;case"textarea":Al(r),ty(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ou)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=HE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[An]=e,t[pa]=r,fS(t,e,!1,!1),e.stateNode=t;e:{switch(o=uf(n,r),n){case"dialog":we("cancel",t),we("close",t),i=r;break;case"iframe":case"object":case"embed":we("load",t),i=r;break;case"video":case"audio":for(i=0;i<Oo.length;i++)we(Oo[i],t);i=r;break;case"source":we("error",t),i=r;break;case"img":case"image":case"link":we("error",t),we("load",t),i=r;break;case"details":we("toggle",t),i=r;break;case"input":Zv(t,r),i=nf(t,r),we("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=xe({},r,{value:void 0}),we("invalid",t);break;case"textarea":ey(t,r),i=of(t,r),we("invalid",t);break;default:i=r}lf(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?qE(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&zE(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&sa(t,l):typeof l=="number"&&sa(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ia.hasOwnProperty(s)?l!=null&&s==="onScroll"&&we("scroll",t):l!=null&&qp(t,s,l,o))}switch(n){case"input":Al(t),Jv(t,r,!1);break;case"textarea":Al(t),ty(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Fr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ps(t,!!r.multiple,s,!1):r.defaultValue!=null&&ps(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ou)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return pt(e),null;case 6:if(t&&e.stateNode!=null)mS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=di(ga.current),di(In.current),Nl(e)){if(r=e.stateNode,n=e.memoizedProps,r[An]=e,(s=r.nodeValue!==n)&&(t=$t,t!==null))switch(t.tag){case 3:Pl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Pl(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[An]=e,e.stateNode=r}return pt(e),null;case 13:if(Te(De),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ce&&jt!==null&&e.mode&1&&!(e.flags&128))Nw(),Is(),e.flags|=98560,s=!1;else if(s=Nl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(B(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(317));s[An]=e}else Is(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;pt(e),s=!1}else hn!==null&&(Hf(hn),hn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||De.current&1?Ye===0&&(Ye=3):Im())),e.updateQueue!==null&&(e.flags|=4),pt(e),null);case 4:return ks(),Of(t,e),t===null&&ha(e.stateNode.containerInfo),pt(e),null;case 10:return dm(e.type._context),pt(e),null;case 17:return Mt(e.type)&&Vu(),pt(e),null;case 19:if(Te(De),s=e.memoizedState,s===null)return pt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Co(s,!1);else{if(Ye!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Hu(t),o!==null){for(e.flags|=128,Co(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return _e(De,De.current&1|2),e.child}t=t.sibling}s.tail!==null&&Fe()>Ps&&(e.flags|=128,r=!0,Co(s,!1),e.lanes=4194304)}else{if(!r)if(t=Hu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Co(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ce)return pt(e),null}else 2*Fe()-s.renderingStartTime>Ps&&n!==1073741824&&(e.flags|=128,r=!0,Co(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Fe(),e.sibling=null,n=De.current,_e(De,r?n&1|2:n&1),e):(pt(e),null);case 22:case 23:return Rm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ft&1073741824&&(pt(e),e.subtreeFlags&6&&(e.flags|=8192)):pt(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function mI(t,e){switch(am(e),e.tag){case 1:return Mt(e.type)&&Vu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ks(),Te(Nt),Te(St),gm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return mm(e),null;case 13:if(Te(De),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));Is()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Te(De),null;case 4:return ks(),null;case 10:return dm(e.type._context),null;case 22:case 23:return Rm(),null;case 24:return null;default:return null}}var Vl=!1,vt=!1,gI=typeof WeakSet=="function"?WeakSet:Set,W=null;function cs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ve(t,e,r)}else n.current=null}function Vf(t,e,n){try{n()}catch(r){Ve(t,e,r)}}var zy=!1;function vI(t,e){if(_f=Pu,t=Ew(),sm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,p=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===t)break t;if(p===n&&++c===i&&(a=o),p===s&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ef={focusedElem:t,selectionRange:n},Pu=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var T=v.memoizedProps,S=v.memoizedState,y=e.stateNode,E=y.getSnapshotBeforeUpdate(e.elementType===e.type?T:cn(e.type,T),S);y.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(x){Ve(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return v=zy,zy=!1,v}function qo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Vf(e,n,s)}i=i.next}while(i!==r)}}function Hc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Lf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function gS(t){var e=t.alternate;e!==null&&(t.alternate=null,gS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[An],delete e[pa],delete e[Tf],delete e[JR],delete e[eI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function vS(t){return t.tag===5||t.tag===3||t.tag===4}function Wy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||vS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ff(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ou));else if(r!==4&&(t=t.child,t!==null))for(Ff(t,e,n),t=t.sibling;t!==null;)Ff(t,e,n),t=t.sibling}function Uf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Uf(t,e,n),t=t.sibling;t!==null;)Uf(t,e,n),t=t.sibling}var nt=null,dn=!1;function ar(t,e,n){for(n=n.child;n!==null;)yS(t,e,n),n=n.sibling}function yS(t,e,n){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(Oc,n)}catch{}switch(n.tag){case 5:vt||cs(n,e);case 6:var r=nt,i=dn;nt=null,ar(t,e,n),nt=r,dn=i,nt!==null&&(dn?(t=nt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):nt.removeChild(n.stateNode));break;case 18:nt!==null&&(dn?(t=nt,n=n.stateNode,t.nodeType===8?sh(t.parentNode,n):t.nodeType===1&&sh(t,n),ua(t)):sh(nt,n.stateNode));break;case 4:r=nt,i=dn,nt=n.stateNode.containerInfo,dn=!0,ar(t,e,n),nt=r,dn=i;break;case 0:case 11:case 14:case 15:if(!vt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Vf(n,e,o),i=i.next}while(i!==r)}ar(t,e,n);break;case 1:if(!vt&&(cs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ve(n,e,a)}ar(t,e,n);break;case 21:ar(t,e,n);break;case 22:n.mode&1?(vt=(r=vt)||n.memoizedState!==null,ar(t,e,n),vt=r):ar(t,e,n);break;default:ar(t,e,n)}}function qy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new gI),e.forEach(function(r){var i=bI.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function un(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:nt=a.stateNode,dn=!1;break e;case 3:nt=a.stateNode.containerInfo,dn=!0;break e;case 4:nt=a.stateNode.containerInfo,dn=!0;break e}a=a.return}if(nt===null)throw Error(B(160));yS(s,o,i),nt=null,dn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Ve(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)_S(e,t),e=e.sibling}function _S(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(un(e,t),wn(t),r&4){try{qo(3,t,t.return),Hc(3,t)}catch(T){Ve(t,t.return,T)}try{qo(5,t,t.return)}catch(T){Ve(t,t.return,T)}}break;case 1:un(e,t),wn(t),r&512&&n!==null&&cs(n,n.return);break;case 5:if(un(e,t),wn(t),r&512&&n!==null&&cs(n,n.return),t.flags&32){var i=t.stateNode;try{sa(i,"")}catch(T){Ve(t,t.return,T)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&BE(i,s),uf(a,o);var c=uf(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?qE(i,h):d==="dangerouslySetInnerHTML"?zE(i,h):d==="children"?sa(i,h):qp(i,d,h,c)}switch(a){case"input":rf(i,s);break;case"textarea":$E(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?ps(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?ps(i,!!s.multiple,s.defaultValue,!0):ps(i,!!s.multiple,s.multiple?[]:"",!1))}i[pa]=s}catch(T){Ve(t,t.return,T)}}break;case 6:if(un(e,t),wn(t),r&4){if(t.stateNode===null)throw Error(B(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(T){Ve(t,t.return,T)}}break;case 3:if(un(e,t),wn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ua(e.containerInfo)}catch(T){Ve(t,t.return,T)}break;case 4:un(e,t),wn(t);break;case 13:un(e,t),wn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Cm=Fe())),r&4&&qy(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(vt=(c=vt)||d,un(e,t),vt=c):un(e,t),wn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(W=t,d=t.child;d!==null;){for(h=W=d;W!==null;){switch(p=W,m=p.child,p.tag){case 0:case 11:case 14:case 15:qo(4,p,p.return);break;case 1:cs(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(T){Ve(r,n,T)}}break;case 5:cs(p,p.return);break;case 22:if(p.memoizedState!==null){Qy(h);continue}}m!==null?(m.return=p,W=m):Qy(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=WE("display",o))}catch(T){Ve(t,t.return,T)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(T){Ve(t,t.return,T)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:un(e,t),wn(t),r&4&&qy(t);break;case 21:break;default:un(e,t),wn(t)}}function wn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(vS(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(sa(i,""),r.flags&=-33);var s=Wy(t);Uf(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Wy(t);Ff(t,a,o);break;default:throw Error(B(161))}}catch(l){Ve(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function yI(t,e,n){W=t,ES(t)}function ES(t,e,n){for(var r=(t.mode&1)!==0;W!==null;){var i=W,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Vl;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||vt;a=Vl;var c=vt;if(Vl=o,(vt=l)&&!c)for(W=i;W!==null;)o=W,l=o.child,o.tag===22&&o.memoizedState!==null?Yy(i):l!==null?(l.return=o,W=l):Yy(i);for(;s!==null;)W=s,ES(s),s=s.sibling;W=i,Vl=a,vt=c}Gy(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,W=s):Gy(t)}}function Gy(t){for(;W!==null;){var e=W;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:vt||Hc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!vt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:cn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&xy(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}xy(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ua(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}vt||e.flags&512&&Lf(e)}catch(p){Ve(e,e.return,p)}}if(e===t){W=null;break}if(n=e.sibling,n!==null){n.return=e.return,W=n;break}W=e.return}}function Qy(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var n=e.sibling;if(n!==null){n.return=e.return,W=n;break}W=e.return}}function Yy(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Hc(4,e)}catch(l){Ve(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ve(e,i,l)}}var s=e.return;try{Lf(e)}catch(l){Ve(e,s,l)}break;case 5:var o=e.return;try{Lf(e)}catch(l){Ve(e,o,l)}}}catch(l){Ve(e,e.return,l)}if(e===t){W=null;break}var a=e.sibling;if(a!==null){a.return=e.return,W=a;break}W=e.return}}var _I=Math.ceil,qu=tr.ReactCurrentDispatcher,Tm=tr.ReactCurrentOwner,Jt=tr.ReactCurrentBatchConfig,ae=0,et=null,He=null,st=0,Ft=0,ds=qr(0),Ye=0,Ea=null,Ti=0,zc=0,Am=0,Go=null,kt=null,Cm=0,Ps=1/0,Fn=null,Gu=!1,jf=null,Dr=null,Ll=!1,vr=null,Qu=0,Qo=0,Bf=null,du=-1,hu=0;function bt(){return ae&6?Fe():du!==-1?du:du=Fe()}function kr(t){return t.mode&1?ae&2&&st!==0?st&-st:nI.transition!==null?(hu===0&&(hu=iw()),hu):(t=me,t!==0||(t=window.event,t=t===void 0?16:dw(t.type)),t):1}function mn(t,e,n,r){if(50<Qo)throw Qo=0,Bf=null,Error(B(185));Fa(t,n,r),(!(ae&2)||t!==et)&&(t===et&&(!(ae&2)&&(zc|=n),Ye===4&&fr(t,st)),Ot(t,r),n===1&&ae===0&&!(e.mode&1)&&(Ps=Fe()+500,jc&&Gr()))}function Ot(t,e){var n=t.callbackNode;nR(t,e);var r=xu(t,t===et?st:0);if(r===0)n!==null&&iy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&iy(n),e===1)t.tag===0?tI(Ky.bind(null,t)):kw(Ky.bind(null,t)),XR(function(){!(ae&6)&&Gr()}),n=null;else{switch(sw(r)){case 1:n=Xp;break;case 4:n=nw;break;case 16:n=ku;break;case 536870912:n=rw;break;default:n=ku}n=IS(n,wS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function wS(t,e){if(du=-1,hu=0,ae&6)throw Error(B(327));var n=t.callbackNode;if(_s()&&t.callbackNode!==n)return null;var r=xu(t,t===et?st:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Yu(t,r);else{e=r;var i=ae;ae|=2;var s=TS();(et!==t||st!==e)&&(Fn=null,Ps=Fe()+500,mi(t,e));do try{SI();break}catch(a){SS(t,a)}while(!0);cm(),qu.current=s,ae=i,He!==null?e=0:(et=null,st=0,e=Ye)}if(e!==0){if(e===2&&(i=pf(t),i!==0&&(r=i,e=$f(t,i))),e===1)throw n=Ea,mi(t,0),fr(t,r),Ot(t,Fe()),n;if(e===6)fr(t,r);else{if(i=t.current.alternate,!(r&30)&&!EI(i)&&(e=Yu(t,r),e===2&&(s=pf(t),s!==0&&(r=s,e=$f(t,s))),e===1))throw n=Ea,mi(t,0),fr(t,r),Ot(t,Fe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:ni(t,kt,Fn);break;case 3:if(fr(t,r),(r&130023424)===r&&(e=Cm+500-Fe(),10<e)){if(xu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){bt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Sf(ni.bind(null,t,kt,Fn),e);break}ni(t,kt,Fn);break;case 4:if(fr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-pn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Fe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_I(r/1960))-r,10<r){t.timeoutHandle=Sf(ni.bind(null,t,kt,Fn),r);break}ni(t,kt,Fn);break;case 5:ni(t,kt,Fn);break;default:throw Error(B(329))}}}return Ot(t,Fe()),t.callbackNode===n?wS.bind(null,t):null}function $f(t,e){var n=Go;return t.current.memoizedState.isDehydrated&&(mi(t,e).flags|=256),t=Yu(t,e),t!==2&&(e=kt,kt=n,e!==null&&Hf(e)),t}function Hf(t){kt===null?kt=t:kt.push.apply(kt,t)}function EI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!vn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function fr(t,e){for(e&=~Am,e&=~zc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-pn(e),r=1<<n;t[n]=-1,e&=~r}}function Ky(t){if(ae&6)throw Error(B(327));_s();var e=xu(t,0);if(!(e&1))return Ot(t,Fe()),null;var n=Yu(t,e);if(t.tag!==0&&n===2){var r=pf(t);r!==0&&(e=r,n=$f(t,r))}if(n===1)throw n=Ea,mi(t,0),fr(t,e),Ot(t,Fe()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ni(t,kt,Fn),Ot(t,Fe()),null}function bm(t,e){var n=ae;ae|=1;try{return t(e)}finally{ae=n,ae===0&&(Ps=Fe()+500,jc&&Gr())}}function Ai(t){vr!==null&&vr.tag===0&&!(ae&6)&&_s();var e=ae;ae|=1;var n=Jt.transition,r=me;try{if(Jt.transition=null,me=1,t)return t()}finally{me=r,Jt.transition=n,ae=e,!(ae&6)&&Gr()}}function Rm(){Ft=ds.current,Te(ds)}function mi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,KR(n)),He!==null)for(n=He.return;n!==null;){var r=n;switch(am(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Vu();break;case 3:ks(),Te(Nt),Te(St),gm();break;case 5:mm(r);break;case 4:ks();break;case 13:Te(De);break;case 19:Te(De);break;case 10:dm(r.type._context);break;case 22:case 23:Rm()}n=n.return}if(et=t,He=t=xr(t.current,null),st=Ft=e,Ye=0,Ea=null,Am=zc=Ti=0,kt=Go=null,ci!==null){for(e=0;e<ci.length;e++)if(n=ci[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ci=null}return t}function SS(t,e){do{var n=He;try{if(cm(),lu.current=Wu,zu){for(var r=ke.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}zu=!1}if(Si=0,Ze=Qe=ke=null,Wo=!1,va=0,Tm.current=null,n===null||n.return===null){Ye=1,Ea=e,He=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=st,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Ly(o);if(m!==null){m.flags&=-257,Fy(m,o,a,s,e),m.mode&1&&Vy(s,c,e),e=m,l=c;var v=e.updateQueue;if(v===null){var T=new Set;T.add(l),e.updateQueue=T}else v.add(l);break e}else{if(!(e&1)){Vy(s,c,e),Im();break e}l=Error(B(426))}}else if(Ce&&a.mode&1){var S=Ly(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Fy(S,o,a,s,e),lm(xs(l,a));break e}}s=l=xs(l,a),Ye!==4&&(Ye=2),Go===null?Go=[s]:Go.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=sS(s,l,e);ky(s,y);break e;case 1:a=l;var E=s.type,A=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Dr===null||!Dr.has(A)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=oS(s,a,e);ky(s,x);break e}}s=s.return}while(s!==null)}CS(n)}catch(F){e=F,He===n&&n!==null&&(He=n=n.return);continue}break}while(!0)}function TS(){var t=qu.current;return qu.current=Wu,t===null?Wu:t}function Im(){(Ye===0||Ye===3||Ye===2)&&(Ye=4),et===null||!(Ti&268435455)&&!(zc&268435455)||fr(et,st)}function Yu(t,e){var n=ae;ae|=2;var r=TS();(et!==t||st!==e)&&(Fn=null,mi(t,e));do try{wI();break}catch(i){SS(t,i)}while(!0);if(cm(),ae=n,qu.current=r,He!==null)throw Error(B(261));return et=null,st=0,Ye}function wI(){for(;He!==null;)AS(He)}function SI(){for(;He!==null&&!Gb();)AS(He)}function AS(t){var e=RS(t.alternate,t,Ft);t.memoizedProps=t.pendingProps,e===null?CS(t):He=e,Tm.current=null}function CS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=mI(n,e),n!==null){n.flags&=32767,He=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ye=6,He=null;return}}else if(n=pI(n,e,Ft),n!==null){He=n;return}if(e=e.sibling,e!==null){He=e;return}He=e=t}while(e!==null);Ye===0&&(Ye=5)}function ni(t,e,n){var r=me,i=Jt.transition;try{Jt.transition=null,me=1,TI(t,e,n,r)}finally{Jt.transition=i,me=r}return null}function TI(t,e,n,r){do _s();while(vr!==null);if(ae&6)throw Error(B(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(rR(t,s),t===et&&(He=et=null,st=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ll||(Ll=!0,IS(ku,function(){return _s(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Jt.transition,Jt.transition=null;var o=me;me=1;var a=ae;ae|=4,Tm.current=null,vI(t,n),_S(n,t),HR(Ef),Pu=!!_f,Ef=_f=null,t.current=n,yI(n),Qb(),ae=a,me=o,Jt.transition=s}else t.current=n;if(Ll&&(Ll=!1,vr=t,Qu=i),s=t.pendingLanes,s===0&&(Dr=null),Xb(n.stateNode),Ot(t,Fe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gu)throw Gu=!1,t=jf,jf=null,t;return Qu&1&&t.tag!==0&&_s(),s=t.pendingLanes,s&1?t===Bf?Qo++:(Qo=0,Bf=t):Qo=0,Gr(),null}function _s(){if(vr!==null){var t=sw(Qu),e=Jt.transition,n=me;try{if(Jt.transition=null,me=16>t?16:t,vr===null)var r=!1;else{if(t=vr,vr=null,Qu=0,ae&6)throw Error(B(331));var i=ae;for(ae|=4,W=t.current;W!==null;){var s=W,o=s.child;if(W.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(W=c;W!==null;){var d=W;switch(d.tag){case 0:case 11:case 15:qo(8,d,s)}var h=d.child;if(h!==null)h.return=d,W=h;else for(;W!==null;){d=W;var p=d.sibling,m=d.return;if(gS(d),d===c){W=null;break}if(p!==null){p.return=m,W=p;break}W=m}}}var v=s.alternate;if(v!==null){var T=v.child;if(T!==null){v.child=null;do{var S=T.sibling;T.sibling=null,T=S}while(T!==null)}}W=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,W=o;else e:for(;W!==null;){if(s=W,s.flags&2048)switch(s.tag){case 0:case 11:case 15:qo(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,W=y;break e}W=s.return}}var E=t.current;for(W=E;W!==null;){o=W;var A=o.child;if(o.subtreeFlags&2064&&A!==null)A.return=o,W=A;else e:for(o=E;W!==null;){if(a=W,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Hc(9,a)}}catch(F){Ve(a,a.return,F)}if(a===o){W=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,W=x;break e}W=a.return}}if(ae=i,Gr(),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(Oc,t)}catch{}r=!0}return r}finally{me=n,Jt.transition=e}}return!1}function Xy(t,e,n){e=xs(n,e),e=sS(t,e,1),t=Ir(t,e,1),e=bt(),t!==null&&(Fa(t,1,e),Ot(t,e))}function Ve(t,e,n){if(t.tag===3)Xy(t,t,n);else for(;e!==null;){if(e.tag===3){Xy(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Dr===null||!Dr.has(r))){t=xs(n,t),t=oS(e,t,1),e=Ir(e,t,1),t=bt(),e!==null&&(Fa(e,1,t),Ot(e,t));break}}e=e.return}}function AI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=bt(),t.pingedLanes|=t.suspendedLanes&n,et===t&&(st&n)===n&&(Ye===4||Ye===3&&(st&130023424)===st&&500>Fe()-Cm?mi(t,0):Am|=n),Ot(t,e)}function bS(t,e){e===0&&(t.mode&1?(e=Rl,Rl<<=1,!(Rl&130023424)&&(Rl=4194304)):e=1);var n=bt();t=Gn(t,e),t!==null&&(Fa(t,e,n),Ot(t,n))}function CI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),bS(t,n)}function bI(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),bS(t,n)}var RS;RS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Nt.current)xt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return xt=!1,fI(t,e,n);xt=!!(t.flags&131072)}else xt=!1,Ce&&e.flags&1048576&&xw(e,Uu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;cu(t,e),t=e.pendingProps;var i=Rs(e,St.current);ys(e,n),i=ym(null,e,r,t,i,n);var s=_m();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Mt(r)?(s=!0,Lu(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,fm(e),i.updater=$c,e.stateNode=i,i._reactInternals=e,Df(e,r,t,n),e=Pf(null,e,r,!0,s,n)):(e.tag=0,Ce&&s&&om(e),Ct(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(cu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=II(r),t=cn(r,t),i){case 0:e=xf(null,e,r,t,n);break e;case 1:e=By(null,e,r,t,n);break e;case 11:e=Uy(null,e,r,t,n);break e;case 14:e=jy(null,e,r,cn(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:cn(r,i),xf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:cn(r,i),By(t,e,r,i,n);case 3:e:{if(cS(e),t===null)throw Error(B(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Lw(t,e),$u(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=xs(Error(B(423)),e),e=$y(t,e,r,n,i);break e}else if(r!==i){i=xs(Error(B(424)),e),e=$y(t,e,r,n,i);break e}else for(jt=Rr(e.stateNode.containerInfo.firstChild),$t=e,Ce=!0,hn=null,n=Ow(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Is(),r===i){e=Qn(t,e,n);break e}Ct(t,e,r,n)}e=e.child}return e;case 5:return Fw(e),t===null&&bf(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,wf(r,i)?o=null:s!==null&&wf(r,s)&&(e.flags|=32),uS(t,e),Ct(t,e,o,n),e.child;case 6:return t===null&&bf(e),null;case 13:return dS(t,e,n);case 4:return pm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ds(e,null,r,n):Ct(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:cn(r,i),Uy(t,e,r,i,n);case 7:return Ct(t,e,e.pendingProps,n),e.child;case 8:return Ct(t,e,e.pendingProps.children,n),e.child;case 12:return Ct(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,_e(ju,r._currentValue),r._currentValue=o,s!==null)if(vn(s.value,o)){if(s.children===i.children&&!Nt.current){e=Qn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=$n(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Rf(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(B(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Rf(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ct(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ys(e,n),i=tn(i),r=r(i),e.flags|=1,Ct(t,e,r,n),e.child;case 14:return r=e.type,i=cn(r,e.pendingProps),i=cn(r.type,i),jy(t,e,r,i,n);case 15:return aS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:cn(r,i),cu(t,e),e.tag=1,Mt(r)?(t=!0,Lu(e)):t=!1,ys(e,n),iS(e,r,i),Df(e,r,i,n),Pf(null,e,r,!0,t,n);case 19:return hS(t,e,n);case 22:return lS(t,e,n)}throw Error(B(156,e.tag))};function IS(t,e){return tw(t,e)}function RI(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xt(t,e,n,r){return new RI(t,e,n,r)}function Dm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function II(t){if(typeof t=="function")return Dm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Qp)return 11;if(t===Yp)return 14}return 2}function xr(t,e){var n=t.alternate;return n===null?(n=Xt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function fu(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Dm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ts:return gi(n.children,i,s,e);case Gp:o=8,i|=8;break;case Zh:return t=Xt(12,n,e,i|2),t.elementType=Zh,t.lanes=s,t;case Jh:return t=Xt(13,n,e,i),t.elementType=Jh,t.lanes=s,t;case ef:return t=Xt(19,n,e,i),t.elementType=ef,t.lanes=s,t;case FE:return Wc(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case VE:o=10;break e;case LE:o=9;break e;case Qp:o=11;break e;case Yp:o=14;break e;case cr:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=Xt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function gi(t,e,n,r){return t=Xt(7,t,r,e),t.lanes=n,t}function Wc(t,e,n,r){return t=Xt(22,t,r,e),t.elementType=FE,t.lanes=n,t.stateNode={isHidden:!1},t}function fh(t,e,n){return t=Xt(6,t,null,e),t.lanes=n,t}function ph(t,e,n){return e=Xt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function DI(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qd(0),this.expirationTimes=Qd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function km(t,e,n,r,i,s,o,a,l){return t=new DI(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Xt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},fm(s),t}function kI(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:es,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function DS(t){if(!t)return Ur;t=t._reactInternals;e:{if(xi(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Mt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(Mt(n))return Dw(t,n,e)}return e}function kS(t,e,n,r,i,s,o,a,l){return t=km(n,r,!0,t,i,s,o,a,l),t.context=DS(null),n=t.current,r=bt(),i=kr(n),s=$n(r,i),s.callback=e??null,Ir(n,s,i),t.current.lanes=i,Fa(t,i,r),Ot(t,r),t}function qc(t,e,n,r){var i=e.current,s=bt(),o=kr(i);return n=DS(n),e.context===null?e.context=n:e.pendingContext=n,e=$n(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ir(i,e,o),t!==null&&(mn(t,i,o,s),au(t,i,o)),o}function Ku(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Zy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function xm(t,e){Zy(t,e),(t=t.alternate)&&Zy(t,e)}function xI(){return null}var xS=typeof reportError=="function"?reportError:function(t){console.error(t)};function Pm(t){this._internalRoot=t}Gc.prototype.render=Pm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));qc(t,e,null,null)};Gc.prototype.unmount=Pm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ai(function(){qc(null,t,null,null)}),e[qn]=null}};function Gc(t){this._internalRoot=t}Gc.prototype.unstable_scheduleHydration=function(t){if(t){var e=lw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<hr.length&&e!==0&&e<hr[n].priority;n++);hr.splice(n,0,t),n===0&&cw(t)}};function Nm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Qc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Jy(){}function PI(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Ku(o);s.call(c)}}var o=kS(e,r,t,0,null,!1,!1,"",Jy);return t._reactRootContainer=o,t[qn]=o.current,ha(t.nodeType===8?t.parentNode:t),Ai(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Ku(l);a.call(c)}}var l=km(t,0,!1,null,null,!1,!1,"",Jy);return t._reactRootContainer=l,t[qn]=l.current,ha(t.nodeType===8?t.parentNode:t),Ai(function(){qc(e,l,n,r)}),l}function Yc(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Ku(o);a.call(l)}}qc(e,o,t,i)}else o=PI(n,e,t,i,r);return Ku(o)}ow=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Mo(e.pendingLanes);n!==0&&(Zp(e,n|1),Ot(e,Fe()),!(ae&6)&&(Ps=Fe()+500,Gr()))}break;case 13:Ai(function(){var r=Gn(t,1);if(r!==null){var i=bt();mn(r,t,1,i)}}),xm(t,1)}};Jp=function(t){if(t.tag===13){var e=Gn(t,134217728);if(e!==null){var n=bt();mn(e,t,134217728,n)}xm(t,134217728)}};aw=function(t){if(t.tag===13){var e=kr(t),n=Gn(t,e);if(n!==null){var r=bt();mn(n,t,e,r)}xm(t,e)}};lw=function(){return me};uw=function(t,e){var n=me;try{return me=t,e()}finally{me=n}};df=function(t,e,n){switch(e){case"input":if(rf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Uc(r);if(!i)throw Error(B(90));jE(r),rf(r,i)}}}break;case"textarea":$E(t,n);break;case"select":e=n.value,e!=null&&ps(t,!!n.multiple,e,!1)}};YE=bm;KE=Ai;var NI={usingClientEntryPoint:!1,Events:[ja,ss,Uc,GE,QE,bm]},bo={findFiberByHostInstance:ui,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},MI={bundleType:bo.bundleType,version:bo.version,rendererPackageName:bo.rendererPackageName,rendererConfig:bo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=JE(t),t===null?null:t.stateNode},findFiberByHostInstance:bo.findFiberByHostInstance||xI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fl.isDisabled&&Fl.supportsFiber)try{Oc=Fl.inject(MI),Rn=Fl}catch{}}Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NI;Wt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nm(e))throw Error(B(200));return kI(t,e,null,n)};Wt.createRoot=function(t,e){if(!Nm(t))throw Error(B(299));var n=!1,r="",i=xS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=km(t,1,!1,null,null,n,!1,r,i),t[qn]=e.current,ha(t.nodeType===8?t.parentNode:t),new Pm(e)};Wt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=JE(e),t=t===null?null:t.stateNode,t};Wt.flushSync=function(t){return Ai(t)};Wt.hydrate=function(t,e,n){if(!Qc(e))throw Error(B(200));return Yc(null,t,e,!0,n)};Wt.hydrateRoot=function(t,e,n){if(!Nm(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=xS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=kS(e,null,t,1,n??null,i,!1,s,o),t[qn]=e.current,ha(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Gc(e)};Wt.render=function(t,e,n){if(!Qc(e))throw Error(B(200));return Yc(null,t,e,!1,n)};Wt.unmountComponentAtNode=function(t){if(!Qc(t))throw Error(B(40));return t._reactRootContainer?(Ai(function(){Yc(null,null,t,!1,function(){t._reactRootContainer=null,t[qn]=null})}),!0):!1};Wt.unstable_batchedUpdates=bm;Wt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Qc(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return Yc(t,e,n,!1,r)};Wt.version="18.3.1-next-f1338f8080-20240426";function PS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(PS)}catch(t){console.error(t)}}PS(),PE.exports=Wt;var wa=PE.exports,e0=wa;Kh.createRoot=e0.createRoot,Kh.hydrateRoot=e0.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sa(){return Sa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sa.apply(this,arguments)}var yr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(yr||(yr={}));const t0="popstate";function OI(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return zf("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Xu(i)}return LI(e,n,null,t)}function We(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function NS(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function VI(){return Math.random().toString(36).substr(2,8)}function n0(t,e){return{usr:t.state,key:t.key,idx:e}}function zf(t,e,n,r){return n===void 0&&(n=null),Sa({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Gs(e):e,{state:n,key:e&&e.key||r||VI()})}function Xu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Gs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function LI(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=yr.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(Sa({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=yr.Pop;let S=d(),y=S==null?null:S-c;c=S,l&&l({action:a,location:T.location,delta:y})}function p(S,y){a=yr.Push;let E=zf(T.location,S,y);c=d()+1;let A=n0(E,c),x=T.createHref(E);try{o.pushState(A,"",x)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(x)}s&&l&&l({action:a,location:T.location,delta:1})}function m(S,y){a=yr.Replace;let E=zf(T.location,S,y);c=d();let A=n0(E,c),x=T.createHref(E);o.replaceState(A,"",x),s&&l&&l({action:a,location:T.location,delta:0})}function v(S){let y=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof S=="string"?S:Xu(S);return E=E.replace(/ $/,"%20"),We(y,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,y)}let T={get action(){return a},get location(){return t(i,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(t0,h),l=S,()=>{i.removeEventListener(t0,h),l=null}},createHref(S){return e(i,S)},createURL:v,encodeLocation(S){let y=v(S);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:m,go(S){return o.go(S)}};return T}var r0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(r0||(r0={}));function FI(t,e,n){return n===void 0&&(n="/"),UI(t,e,n,!1)}function UI(t,e,n,r){let i=typeof e=="string"?Gs(e):e,s=Mm(i.pathname||"/",n);if(s==null)return null;let o=MS(t);jI(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=XI(s);a=YI(o[l],c,r)}return a}function MS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(We(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Pr([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(We(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),MS(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:GI(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of OS(s.path))i(s,o,l)}),e}function OS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=OS(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function jI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:QI(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const BI=/^:[\w-]+$/,$I=3,HI=2,zI=1,WI=10,qI=-2,i0=t=>t==="*";function GI(t,e){let n=t.split("/"),r=n.length;return n.some(i0)&&(r+=qI),e&&(r+=HI),n.filter(i=>!i0(i)).reduce((i,s)=>i+(BI.test(s)?$I:s===""?zI:WI),r)}function QI(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function YI(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=s0({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=s0({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Pr([s,h.pathname]),pathnameBase:tD(Pr([s,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(s=Pr([s,h.pathnameBase]))}return o}function s0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=KI(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:p,isOptional:m}=d;if(p==="*"){let T=a[h]||"";o=s.slice(0,s.length-T.length).replace(/(.)\/+$/,"$1")}const v=a[h];return m&&!v?c[p]=void 0:c[p]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function KI(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),NS(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function XI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return NS(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Mm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function ZI(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Gs(t):t;return{pathname:n?n.startsWith("/")?n:JI(n,e):e,search:nD(r),hash:rD(i)}}function JI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function mh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function eD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function VS(t,e){let n=eD(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function LS(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Gs(t):(i=Sa({},t),We(!i.pathname||!i.pathname.includes("?"),mh("?","pathname","search",i)),We(!i.pathname||!i.pathname.includes("#"),mh("#","pathname","hash",i)),We(!i.search||!i.search.includes("#"),mh("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=ZI(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Pr=t=>t.join("/").replace(/\/\/+/g,"/"),tD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),nD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,rD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function iD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const FS=["post","put","patch","delete"];new Set(FS);const sD=["get",...FS];new Set(sD);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ta(){return Ta=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ta.apply(this,arguments)}const Om=I.createContext(null),oD=I.createContext(null),Pi=I.createContext(null),Kc=I.createContext(null),Ni=I.createContext({outlet:null,matches:[],isDataRoute:!1}),US=I.createContext(null);function aD(t,e){let{relative:n}=e===void 0?{}:e;$a()||We(!1);let{basename:r,navigator:i}=I.useContext(Pi),{hash:s,pathname:o,search:a}=BS(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Pr([r,o])),i.createHref({pathname:l,search:a,hash:s})}function $a(){return I.useContext(Kc)!=null}function Ha(){return $a()||We(!1),I.useContext(Kc).location}function jS(t){I.useContext(Pi).static||I.useLayoutEffect(t)}function lD(){let{isDataRoute:t}=I.useContext(Ni);return t?wD():uD()}function uD(){$a()||We(!1);let t=I.useContext(Om),{basename:e,future:n,navigator:r}=I.useContext(Pi),{matches:i}=I.useContext(Ni),{pathname:s}=Ha(),o=JSON.stringify(VS(i,n.v7_relativeSplatPath)),a=I.useRef(!1);return jS(()=>{a.current=!0}),I.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=LS(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Pr([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,s,t])}function BS(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=I.useContext(Pi),{matches:i}=I.useContext(Ni),{pathname:s}=Ha(),o=JSON.stringify(VS(i,r.v7_relativeSplatPath));return I.useMemo(()=>LS(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function cD(t,e){return dD(t,e)}function dD(t,e,n,r){$a()||We(!1);let{navigator:i}=I.useContext(Pi),{matches:s}=I.useContext(Ni),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Ha(),d;if(e){var h;let S=typeof e=="string"?Gs(e):e;l==="/"||(h=S.pathname)!=null&&h.startsWith(l)||We(!1),d=S}else d=c;let p=d.pathname||"/",m=p;if(l!=="/"){let S=l.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(S.length).join("/")}let v=FI(t,{pathname:m}),T=gD(v&&v.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:Pr([l,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:Pr([l,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),s,n,r);return e&&T?I.createElement(Kc.Provider,{value:{location:Ta({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:yr.Pop}},T):T}function hD(){let t=ED(),e=iD(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:i},n):null,null)}const fD=I.createElement(hD,null);class pD extends I.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?I.createElement(Ni.Provider,{value:this.props.routeContext},I.createElement(US.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function mD(t){let{routeContext:e,match:n,children:r}=t,i=I.useContext(Om);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),I.createElement(Ni.Provider,{value:e},r)}function gD(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||We(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:p,errors:m}=n,v=h.route.loader&&p[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||v){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let m,v=!1,T=null,S=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,T=h.route.errorElement||fD,l&&(c<0&&p===0?(v=!0,S=null):c===p&&(v=!0,S=h.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,p+1)),E=()=>{let A;return m?A=T:v?A=S:h.route.Component?A=I.createElement(h.route.Component,null):h.route.element?A=h.route.element:A=d,I.createElement(mD,{match:h,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:A})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?I.createElement(pD,{location:n.location,revalidation:n.revalidation,component:T,error:m,children:E(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):E()},null)}var $S=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}($S||{}),Zu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Zu||{});function vD(t){let e=I.useContext(Om);return e||We(!1),e}function yD(t){let e=I.useContext(oD);return e||We(!1),e}function _D(t){let e=I.useContext(Ni);return e||We(!1),e}function HS(t){let e=_D(),n=e.matches[e.matches.length-1];return n.route.id||We(!1),n.route.id}function ED(){var t;let e=I.useContext(US),n=yD(Zu.UseRouteError),r=HS(Zu.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function wD(){let{router:t}=vD($S.UseNavigateStable),e=HS(Zu.UseNavigateStable),n=I.useRef(!1);return jS(()=>{n.current=!0}),I.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ta({fromRouteId:e},s)))},[t,e])}function Wf(t){We(!1)}function SD(t){let{basename:e="/",children:n=null,location:r,navigationType:i=yr.Pop,navigator:s,static:o=!1,future:a}=t;$a()&&We(!1);let l=e.replace(/^\/*/,"/"),c=I.useMemo(()=>({basename:l,navigator:s,static:o,future:Ta({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Gs(r));let{pathname:d="/",search:h="",hash:p="",state:m=null,key:v="default"}=r,T=I.useMemo(()=>{let S=Mm(d,l);return S==null?null:{location:{pathname:S,search:h,hash:p,state:m,key:v},navigationType:i}},[l,d,h,p,m,v,i]);return T==null?null:I.createElement(Pi.Provider,{value:c},I.createElement(Kc.Provider,{children:n,value:T}))}function TD(t){let{children:e,location:n}=t;return cD(qf(e),n)}new Promise(()=>{});function qf(t,e){e===void 0&&(e=[]);let n=[];return I.Children.forEach(t,(r,i)=>{if(!I.isValidElement(r))return;let s=[...e,i];if(r.type===I.Fragment){n.push.apply(n,qf(r.props.children,s));return}r.type!==Wf&&We(!1),!r.props.index||!r.props.children||We(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=qf(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gf(){return Gf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gf.apply(this,arguments)}function AD(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function CD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function bD(t,e){return t.button===0&&(!e||e==="_self")&&!CD(t)}const RD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ID="6";try{window.__reactRouterVersion=ID}catch{}const DD="startTransition",o0=Cs[DD];function kD(t){let{basename:e,children:n,future:r,window:i}=t,s=I.useRef();s.current==null&&(s.current=OI({window:i,v5Compat:!0}));let o=s.current,[a,l]=I.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=I.useCallback(h=>{c&&o0?o0(()=>l(h)):l(h)},[l,c]);return I.useLayoutEffect(()=>o.listen(d),[o,d]),I.createElement(SD,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const xD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",PD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,a0=I.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h}=e,p=AD(e,RD),{basename:m}=I.useContext(Pi),v,T=!1;if(typeof c=="string"&&PD.test(c)&&(v=c,xD))try{let A=new URL(window.location.href),x=c.startsWith("//")?new URL(A.protocol+c):new URL(c),F=Mm(x.pathname,m);x.origin===A.origin&&F!=null?c=F+x.search+x.hash:T=!0}catch{}let S=aD(c,{relative:i}),y=ND(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:h});function E(A){r&&r(A),A.defaultPrevented||y(A)}return I.createElement("a",Gf({},p,{href:v||S,onClick:T||s?r:E,ref:n,target:l}))});var l0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(l0||(l0={}));var u0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(u0||(u0={}));function ND(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=lD(),c=Ha(),d=BS(t,{relative:o});return I.useCallback(h=>{if(bD(h,n)){h.preventDefault();let p=r!==void 0?r:Xu(c)===Xu(d);l(t,{replace:p,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,d,r,i,n,t,s,o,a])}let MD={data:""},OD=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||MD,VD=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,LD=/\/\*[^]*?\*\/|  +/g,c0=/\n+/g,pr=(t,e)=>{let n="",r="",i="";for(let s in t){let o=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+o+";":r+=s[1]=="f"?pr(o,s):s+"{"+pr(o,s[1]=="k"?"":e)+"}":typeof o=="object"?r+=pr(o,e?e.replace(/([^,])+/g,a=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=pr.p?pr.p(s,o):s+":"+o+";")}return n+(e&&i?e+"{"+i+"}":i)+r},Ln={},zS=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+zS(t[n]);return e}return t},FD=(t,e,n,r,i)=>{let s=zS(t),o=Ln[s]||(Ln[s]=(l=>{let c=0,d=11;for(;c<l.length;)d=101*d+l.charCodeAt(c++)>>>0;return"go"+d})(s));if(!Ln[o]){let l=s!==t?t:(c=>{let d,h,p=[{}];for(;d=VD.exec(c.replace(LD,""));)d[4]?p.shift():d[3]?(h=d[3].replace(c0," ").trim(),p.unshift(p[0][h]=p[0][h]||{})):p[0][d[1]]=d[2].replace(c0," ").trim();return p[0]})(t);Ln[o]=pr(i?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&Ln.g?Ln.g:null;return n&&(Ln.g=Ln[o]),((l,c,d,h)=>{h?c.data=c.data.replace(h,l):c.data.indexOf(l)===-1&&(c.data=d?l+c.data:c.data+l)})(Ln[o],e,r,a),o},UD=(t,e,n)=>t.reduce((r,i,s)=>{let o=e[s];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":pr(a,""):a===!1?"":a}return r+i+(o??"")},"");function Xc(t){let e=this||{},n=t.call?t(e.p):t;return FD(n.unshift?n.raw?UD(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,OD(e.target),e.g,e.o,e.k)}let WS,Qf,Yf;Xc.bind({g:1});let Yn=Xc.bind({k:1});function jD(t,e,n,r){pr.p=e,WS=t,Qf=n,Yf=r}function Qr(t,e){let n=this||{};return function(){let r=arguments;function i(s,o){let a=Object.assign({},s),l=a.className||i.className;n.p=Object.assign({theme:Qf&&Qf()},a),n.o=/ *go\d+/.test(l),a.className=Xc.apply(n,r)+(l?" "+l:"");let c=t;return t[0]&&(c=a.as||t,delete a.as),Yf&&c[0]&&Yf(a),WS(c,a)}return i}}var BD=t=>typeof t=="function",Ju=(t,e)=>BD(t)?t(e):t,$D=(()=>{let t=0;return()=>(++t).toString()})(),qS=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),HD=20,pu=new Map,zD=1e3,d0=t=>{if(pu.has(t))return;let e=setTimeout(()=>{pu.delete(t),Mi({type:4,toastId:t})},zD);pu.set(t,e)},WD=t=>{let e=pu.get(t);e&&clearTimeout(e)},Kf=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,HD)};case 1:return e.toast.id&&WD(e.toast.id),{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:n}=e;return t.toasts.find(s=>s.id===n.id)?Kf(t,{type:1,toast:n}):Kf(t,{type:0,toast:n});case 3:let{toastId:r}=e;return r?d0(r):t.toasts.forEach(s=>{d0(s.id)}),{...t,toasts:t.toasts.map(s=>s.id===r||r===void 0?{...s,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},mu=[],gu={toasts:[],pausedAt:void 0},Mi=t=>{gu=Kf(gu,t),mu.forEach(e=>{e(gu)})},qD={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},GD=(t={})=>{let[e,n]=I.useState(gu);I.useEffect(()=>(mu.push(n),()=>{let i=mu.indexOf(n);i>-1&&mu.splice(i,1)}),[e]);let r=e.toasts.map(i=>{var s,o;return{...t,...t[i.type],...i,duration:i.duration||((s=t[i.type])==null?void 0:s.duration)||(t==null?void 0:t.duration)||qD[i.type],style:{...t.style,...(o=t[i.type])==null?void 0:o.style,...i.style}}});return{...e,toasts:r}},QD=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||$D()}),za=t=>(e,n)=>{let r=QD(e,t,n);return Mi({type:2,toast:r}),r.id},Bt=(t,e)=>za("blank")(t,e);Bt.error=za("error");Bt.success=za("success");Bt.loading=za("loading");Bt.custom=za("custom");Bt.dismiss=t=>{Mi({type:3,toastId:t})};Bt.remove=t=>Mi({type:4,toastId:t});Bt.promise=(t,e,n)=>{let r=Bt.loading(e.loading,{...n,...n==null?void 0:n.loading});return t.then(i=>(Bt.success(Ju(e.success,i),{id:r,...n,...n==null?void 0:n.success}),i)).catch(i=>{Bt.error(Ju(e.error,i),{id:r,...n,...n==null?void 0:n.error})}),t};var YD=(t,e)=>{Mi({type:1,toast:{id:t,height:e}})},KD=()=>{Mi({type:5,time:Date.now()})},XD=t=>{let{toasts:e,pausedAt:n}=GD(t);I.useEffect(()=>{if(n)return;let s=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(s-a.createdAt);if(l<0){a.visible&&Bt.dismiss(a.id);return}return setTimeout(()=>Bt.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=I.useCallback(()=>{n&&Mi({type:6,time:Date.now()})},[n]),i=I.useCallback((s,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:c}=o||{},d=e.filter(m=>(m.position||c)===(s.position||c)&&m.height),h=d.findIndex(m=>m.id===s.id),p=d.filter((m,v)=>v<h&&m.visible).length;return d.filter(m=>m.visible).slice(...a?[p+1]:[0,p]).reduce((m,v)=>m+(v.height||0)+l,0)},[e]);return{toasts:e,handlers:{updateHeight:YD,startPause:KD,endPause:r,calculateOffset:i}}},ZD=Yn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,JD=Yn`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ek=Yn`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,tk=Qr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ZD} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${JD} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${ek} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,nk=Yn`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,rk=Qr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${nk} 1s linear infinite;
`,ik=Yn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,sk=Yn`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,ok=Qr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ik} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${sk} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,ak=Qr("div")`
  position: absolute;
`,lk=Qr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,uk=Yn`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ck=Qr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${uk} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,dk=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?I.createElement(ck,null,e):e:n==="blank"?null:I.createElement(lk,null,I.createElement(rk,{...r}),n!=="loading"&&I.createElement(ak,null,n==="error"?I.createElement(tk,{...r}):I.createElement(ok,{...r})))},hk=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,fk=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,pk="0%{opacity:0;} 100%{opacity:1;}",mk="0%{opacity:1;} 100%{opacity:0;}",gk=Qr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,vk=Qr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,yk=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=qS()?[pk,mk]:[hk(n),fk(n)];return{animation:e?`${Yn(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Yn(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},_k=I.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?yk(t.position||e||"top-center",t.visible):{opacity:0},s=I.createElement(dk,{toast:t}),o=I.createElement(vk,{...t.ariaProps},Ju(t.message,t));return I.createElement(gk,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:s,message:o}):I.createElement(I.Fragment,null,s,o))});jD(I.createElement);var Ek=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let s=I.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return I.createElement("div",{ref:s,className:e,style:n},i)},wk=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:qS()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},Sk=Xc`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ul=16,Tk=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:s,containerClassName:o})=>{let{toasts:a,handlers:l}=XD(n);return I.createElement("div",{style:{position:"fixed",zIndex:9999,top:Ul,left:Ul,right:Ul,bottom:Ul,pointerEvents:"none",...s},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(c=>{let d=c.position||e,h=l.calculateOffset(c,{reverseOrder:t,gutter:r,defaultPosition:e}),p=wk(d,h);return I.createElement(Ek,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?Sk:"",style:p},c.type==="custom"?Ju(c.message,c):i?i(c):I.createElement(_k,{toast:c,position:d}))}))},Zt=Bt;function Ak({title:t,titleId:e,...n},r){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?I.createElement("title",{id:e},t):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const Ck=I.forwardRef(Ak);function bk({title:t,titleId:e,...n},r){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?I.createElement("title",{id:e},t):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const Rk=I.forwardRef(bk);function Ik({title:t,titleId:e,...n},r){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?I.createElement("title",{id:e},t):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"}))}const Dk=I.forwardRef(Ik);function kk({title:t,titleId:e,...n},r){return I.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?I.createElement("title",{id:e},t):null,I.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const xk=I.forwardRef(kk);function Pk({children:t}){const e=Ha(),[n,r]=I.useState(!1),i=[{name:"Calendario",icon:Rk,href:"/"},{name:"Reservas",icon:Dk,href:"/my-reservations"}];return $.jsxs("div",{className:"min-h-screen bg-gray-50",children:[$.jsxs("nav",{className:"bg-white shadow-sm",children:[$.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:$.jsxs("div",{className:"flex h-16 justify-between",children:[$.jsxs("div",{className:"flex",children:[$.jsx("div",{className:"flex flex-shrink-0 items-center",children:$.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Sala Gourmet"})}),$.jsx("div",{className:"hidden sm:ml-6 sm:flex sm:space-x-8",children:i.map(s=>{const o=s.icon;return $.jsxs(a0,{to:s.href,className:`${e.pathname===s.href?"border-indigo-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"} inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium`,children:[$.jsx(o,{className:"h-5 w-5 mr-1"}),s.name]},s.name)})})]}),$.jsx("div",{className:"flex items-center sm:hidden",children:$.jsxs("button",{type:"button",className:"inline-flex items-center justify-center rounded-md p-2 text-gray-400 hover:bg-gray-100 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500",onClick:()=>r(!n),children:[$.jsx("span",{className:"sr-only",children:"Abrir menú principal"}),n?$.jsx(xk,{className:"block h-6 w-6","aria-hidden":"true"}):$.jsx(Ck,{className:"block h-6 w-6","aria-hidden":"true"})]})})]})}),$.jsx("div",{className:`${n?"block":"hidden"} sm:hidden`,children:$.jsx("div",{className:"space-y-1 pb-3 pt-2",children:i.map(s=>{const o=s.icon;return $.jsxs(a0,{to:s.href,className:`${e.pathname===s.href?"bg-indigo-50 border-indigo-500 text-indigo-700":"border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700"} block pl-3 pr-4 py-2 border-l-4 text-base font-medium flex items-center`,onClick:()=>r(!1),children:[$.jsx(o,{className:"h-5 w-5 mr-2"}),s.name]},s.name)})})})]}),$.jsx("main",{className:"mx-auto max-w-7xl py-6 sm:px-6 lg:px-8",children:$.jsx("div",{className:"px-4 sm:px-0",children:t})})]})}var Zc,Y,GS,QS,Ns,ai,h0,YS,KS,ec={},XS=[],Nk=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function _r(t,e){for(var n in e)t[n]=e[n];return t}function ZS(t){var e=t.parentNode;e&&e.removeChild(t)}function O(t,e,n){var r,i,s,o={};for(s in e)s=="key"?r=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?Zc.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return vu(t,o,r,i,null)}function vu(t,e,n,r,i){var s={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++GS};return i==null&&Y.vnode!=null&&Y.vnode(s),s}function Kn(){return{current:null}}function Ue(t){return t.children}function Mk(t,e,n,r,i){var s;for(s in n)s==="children"||s==="key"||s in e||tc(t,s,null,n[s],r);for(s in e)i&&typeof e[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||n[s]===e[s]||tc(t,s,e[s],n[s],r)}function f0(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||Nk.test(e)?n:n+"px"}function tc(t,e,n,r,i){var s;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||f0(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||f0(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?r||t.addEventListener(e,s?m0:p0,s):t.removeEventListener(e,s?m0:p0,s);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,n))}}function p0(t){Ns=!0;try{return this.l[t.type+!1](Y.event?Y.event(t):t)}finally{Ns=!1}}function m0(t){Ns=!0;try{return this.l[t.type+!0](Y.event?Y.event(t):t)}finally{Ns=!1}}function Ht(t,e){this.props=t,this.context=e}function Aa(t,e){if(e==null)return t.__?Aa(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?Aa(t):null}function JS(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return JS(t)}}function Ok(t){Ns?setTimeout(t):YS(t)}function Xf(t){(!t.__d&&(t.__d=!0)&&ai.push(t)&&!nc.__r++||h0!==Y.debounceRendering)&&((h0=Y.debounceRendering)||Ok)(nc)}function nc(){var t,e,n,r,i,s,o,a;for(ai.sort(function(l,c){return l.__v.__b-c.__v.__b});t=ai.shift();)t.__d&&(e=ai.length,r=void 0,i=void 0,o=(s=(n=t).__v).__e,(a=n.__P)&&(r=[],(i=_r({},s)).__v=s.__v+1,Vm(a,s,i,n.__n,a.ownerSVGElement!==void 0,s.__h!=null?[o]:null,r,o??Aa(s),s.__h),iT(r,s),s.__e!=o&&JS(s)),ai.length>e&&ai.sort(function(l,c){return l.__v.__b-c.__v.__b}));nc.__r=0}function eT(t,e,n,r,i,s,o,a,l,c){var d,h,p,m,v,T,S,y=r&&r.__k||XS,E=y.length;for(n.__k=[],d=0;d<e.length;d++)if((m=n.__k[d]=(m=e[d])==null||typeof m=="boolean"?null:typeof m=="string"||typeof m=="number"||typeof m=="bigint"?vu(null,m,null,null,m):Array.isArray(m)?vu(Ue,{children:m},null,null,null):m.__b>0?vu(m.type,m.props,m.key,m.ref?m.ref:null,m.__v):m)!=null){if(m.__=n,m.__b=n.__b+1,(p=y[d])===null||p&&m.key==p.key&&m.type===p.type)y[d]=void 0;else for(h=0;h<E;h++){if((p=y[h])&&m.key==p.key&&m.type===p.type){y[h]=void 0;break}p=null}Vm(t,m,p=p||ec,i,s,o,a,l,c),v=m.__e,(h=m.ref)&&p.ref!=h&&(S||(S=[]),p.ref&&S.push(p.ref,null,m),S.push(h,m.__c||v,m)),v!=null?(T==null&&(T=v),typeof m.type=="function"&&m.__k===p.__k?m.__d=l=tT(m,l,t):l=nT(t,m,p,y,v,l),typeof n.type=="function"&&(n.__d=l)):l&&p.__e==l&&l.parentNode!=t&&(l=Aa(p))}for(n.__e=T,d=E;d--;)y[d]!=null&&(typeof n.type=="function"&&y[d].__e!=null&&y[d].__e==n.__d&&(n.__d=rT(r).nextSibling),oT(y[d],y[d]));if(S)for(d=0;d<S.length;d++)sT(S[d],S[++d],S[++d])}function tT(t,e,n){for(var r,i=t.__k,s=0;i&&s<i.length;s++)(r=i[s])&&(r.__=t,e=typeof r.type=="function"?tT(r,e,n):nT(n,r,r,i,r.__e,e));return e}function rc(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(n){rc(n,e)}):e.push(t)),e}function nT(t,e,n,r,i,s){var o,a,l;if(e.__d!==void 0)o=e.__d,e.__d=void 0;else if(n==null||i!=s||i.parentNode==null)e:if(s==null||s.parentNode!==t)t.appendChild(i),o=null;else{for(a=s,l=0;(a=a.nextSibling)&&l<r.length;l+=1)if(a==i)break e;t.insertBefore(i,s),o=s}return o!==void 0?o:i.nextSibling}function rT(t){var e,n,r;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((n=t.__k[e])&&(r=rT(n)))return r}return null}function Vm(t,e,n,r,i,s,o,a,l){var c,d,h,p,m,v,T,S,y,E,A,x,F,L,C,_=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(l=n.__h,a=e.__e=n.__e,e.__h=null,s=[a]),(c=Y.__b)&&c(e);try{e:if(typeof _=="function"){if(S=e.props,y=(c=_.contextType)&&r[c.__c],E=c?y?y.props.value:c.__:r,n.__c?T=(d=e.__c=n.__c).__=d.__E:("prototype"in _&&_.prototype.render?e.__c=d=new _(S,E):(e.__c=d=new Ht(S,E),d.constructor=_,d.render=Lk),y&&y.sub(d),d.props=S,d.state||(d.state={}),d.context=E,d.__n=r,h=d.__d=!0,d.__h=[],d._sb=[]),d.__s==null&&(d.__s=d.state),_.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=_r({},d.__s)),_r(d.__s,_.getDerivedStateFromProps(S,d.__s))),p=d.props,m=d.state,d.__v=e,h)_.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(_.getDerivedStateFromProps==null&&S!==p&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(S,E),!d.__e&&d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(S,d.__s,E)===!1||e.__v===n.__v){for(e.__v!==n.__v&&(d.props=S,d.state=d.__s,d.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(b){b&&(b.__=e)}),A=0;A<d._sb.length;A++)d.__h.push(d._sb[A]);d._sb=[],d.__h.length&&o.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(S,d.__s,E),d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(p,m,v)})}if(d.context=E,d.props=S,d.__P=t,x=Y.__r,F=0,"prototype"in _&&_.prototype.render){for(d.state=d.__s,d.__d=!1,x&&x(e),c=d.render(d.props,d.state,d.context),L=0;L<d._sb.length;L++)d.__h.push(d._sb[L]);d._sb=[]}else do d.__d=!1,x&&x(e),c=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++F<25);d.state=d.__s,d.getChildContext!=null&&(r=_r(_r({},r),d.getChildContext())),h||d.getSnapshotBeforeUpdate==null||(v=d.getSnapshotBeforeUpdate(p,m)),C=c!=null&&c.type===Ue&&c.key==null?c.props.children:c,eT(t,Array.isArray(C)?C:[C],e,n,r,i,s,o,a,l),d.base=e.__e,e.__h=null,d.__h.length&&o.push(d),T&&(d.__E=d.__=null),d.__e=!1}else s==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=Vk(n.__e,e,n,r,i,s,o,l);(c=Y.diffed)&&c(e)}catch(b){e.__v=null,(l||s!=null)&&(e.__e=a,e.__h=!!l,s[s.indexOf(a)]=null),Y.__e(b,e,n)}}function iT(t,e){Y.__c&&Y.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(r){r.call(n)})}catch(r){Y.__e(r,n.__v)}})}function Vk(t,e,n,r,i,s,o,a){var l,c,d,h=n.props,p=e.props,m=e.type,v=0;if(m==="svg"&&(i=!0),s!=null){for(;v<s.length;v++)if((l=s[v])&&"setAttribute"in l==!!m&&(m?l.localName===m:l.nodeType===3)){t=l,s[v]=null;break}}if(t==null){if(m===null)return document.createTextNode(p);t=i?document.createElementNS("http://www.w3.org/2000/svg",m):document.createElement(m,p.is&&p),s=null,a=!1}if(m===null)h===p||a&&t.data===p||(t.data=p);else{if(s=s&&Zc.call(t.childNodes),c=(h=n.props||ec).dangerouslySetInnerHTML,d=p.dangerouslySetInnerHTML,!a){if(s!=null)for(h={},v=0;v<t.attributes.length;v++)h[t.attributes[v].name]=t.attributes[v].value;(d||c)&&(d&&(c&&d.__html==c.__html||d.__html===t.innerHTML)||(t.innerHTML=d&&d.__html||""))}if(Mk(t,p,h,i,a),d)e.__k=[];else if(v=e.props.children,eT(t,Array.isArray(v)?v:[v],e,n,r,i&&m!=="foreignObject",s,o,s?s[0]:n.__k&&Aa(n,0),a),s!=null)for(v=s.length;v--;)s[v]!=null&&ZS(s[v]);a||("value"in p&&(v=p.value)!==void 0&&(v!==t.value||m==="progress"&&!v||m==="option"&&v!==h.value)&&tc(t,"value",v,h.value,!1),"checked"in p&&(v=p.checked)!==void 0&&v!==t.checked&&tc(t,"checked",v,h.checked,!1))}return t}function sT(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){Y.__e(r,n)}}function oT(t,e,n){var r,i;if(Y.unmount&&Y.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||sT(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){Y.__e(s,e)}r.base=r.__P=null,t.__c=void 0}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&oT(r[i],e,n||typeof t.type!="function");n||t.__e==null||ZS(t.__e),t.__=t.__e=t.__d=void 0}function Lk(t,e,n){return this.constructor(t,n)}function Ca(t,e,n){var r,i,s;Y.__&&Y.__(t,e),i=(r=typeof n=="function")?null:e.__k,s=[],Vm(e,t=(!r&&n||e).__k=O(Ue,null,[t]),i||ec,ec,e.ownerSVGElement!==void 0,!r&&n?[n]:i?null:e.firstChild?Zc.call(e.childNodes):null,s,!r&&n?n:i?i.__e:e.firstChild,r),iT(s,t)}function Fk(t,e){var n={__c:e="__cC"+KS++,__:t,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,s;return this.getChildContext||(i=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.some(function(a){a.__e=!0,Xf(a)})},this.sub=function(o){i.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),a&&a.call(o)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}Zc=XS.slice,Y={__e:function(t,e,n,r){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},GS=0,QS=function(t){return t!=null&&t.constructor===void 0},Ns=!1,Ht.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=_r({},this.state),typeof t=="function"&&(t=t(_r({},n),this.props)),t&&_r(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),Xf(this))},Ht.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Xf(this))},Ht.prototype.render=Ue,ai=[],YS=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,nc.__r=0,KS=0;var Tn,gh,g0,aT=[],vh=[],v0=Y.__b,y0=Y.__r,_0=Y.diffed,E0=Y.__c,w0=Y.unmount;function Uk(){for(var t;t=aT.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(yu),t.__H.__h.forEach(Zf),t.__H.__h=[]}catch(e){t.__H.__h=[],Y.__e(e,t.__v)}}Y.__b=function(t){Tn=null,v0&&v0(t)},Y.__r=function(t){y0&&y0(t);var e=(Tn=t.__c).__H;e&&(gh===Tn?(e.__h=[],Tn.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=vh,n.__N=n.i=void 0})):(e.__h.forEach(yu),e.__h.forEach(Zf),e.__h=[])),gh=Tn},Y.diffed=function(t){_0&&_0(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(aT.push(e)!==1&&g0===Y.requestAnimationFrame||((g0=Y.requestAnimationFrame)||jk)(Uk)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==vh&&(n.__=n.__V),n.i=void 0,n.__V=vh})),gh=Tn=null},Y.__c=function(t,e){e.some(function(n){try{n.__h.forEach(yu),n.__h=n.__h.filter(function(r){return!r.__||Zf(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],Y.__e(r,n.__v)}}),E0&&E0(t,e)},Y.unmount=function(t){w0&&w0(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{yu(r)}catch(i){e=i}}),n.__H=void 0,e&&Y.__e(e,n.__v))};var S0=typeof requestAnimationFrame=="function";function jk(t){var e,n=function(){clearTimeout(r),S0&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);S0&&(e=requestAnimationFrame(n))}function yu(t){var e=Tn,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),Tn=e}function Zf(t){var e=Tn;t.__c=t.__(),Tn=e}function Bk(t,e){for(var n in e)t[n]=e[n];return t}function T0(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var r in e)if(r!=="__source"&&t[r]!==e[r])return!0;return!1}function A0(t){this.props=t}(A0.prototype=new Ht).isPureReactComponent=!0,A0.prototype.shouldComponentUpdate=function(t,e){return T0(this.props,t)||T0(this.state,e)};var C0=Y.__b;Y.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),C0&&C0(t)};var $k=Y.__e;Y.__e=function(t,e,n,r){if(t.then){for(var i,s=e;s=s.__;)if((i=s.__c)&&i.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),i.__c(t,e)}$k(t,e,n,r)};var b0=Y.unmount;function lT(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),t.__c.__H=null),(t=Bk({},t)).__c!=null&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(r){return lT(r,e,n)})),t}function uT(t,e,n){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(r){return uT(r,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=n)),t}function yh(){this.__u=0,this.t=null,this.__b=null}function cT(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function jl(){this.u=null,this.o=null}Y.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),b0&&b0(t)},(yh.prototype=new Ht).__c=function(t,e){var n=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(n);var i=cT(r.__v),s=!1,o=function(){s||(s=!0,n.__R=null,i?i(a):a())};n.__R=o;var a=function(){if(!--r.__u){if(r.state.__a){var c=r.state.__a;r.__v.__k[0]=uT(c,c.__c.__P,c.__c.__O)}var d;for(r.setState({__a:r.__b=null});d=r.t.pop();)d.forceUpdate()}},l=e.__h===!0;r.__u++||l||r.setState({__a:r.__b=r.__v.__k[0]}),t.then(o,o)},yh.prototype.componentWillUnmount=function(){this.t=[]},yh.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=lT(this.__b,n,r.__O=r.__P)}this.__b=null}var i=e.__a&&O(Ue,null,t.fallback);return i&&(i.__h=null),[O(Ue,null,e.__a?null:t.children),i]};var R0=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function Hk(t){return this.getChildContext=function(){return t.context},t.children}function zk(t){var e=this,n=t.i;e.componentWillUnmount=function(){Ca(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.__v?(e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(r){this.childNodes.push(r),e.i.appendChild(r)},insertBefore:function(r,i){this.childNodes.push(r),e.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.i.removeChild(r)}}),Ca(O(Hk,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function Wk(t,e){var n=O(zk,{__v:t,i:e});return n.containerInfo=e,n}(jl.prototype=new Ht).__a=function(t){var e=this,n=cT(e.__v),r=e.o.get(t);return r[0]++,function(i){var s=function(){e.props.revealOrder?(r.push(i),R0(e,t,r)):i()};n?n(s):s()}},jl.prototype.render=function(t){this.u=null,this.o=new Map;var e=rc(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},jl.prototype.componentDidUpdate=jl.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){R0(t,n,e)})};var qk=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Gk=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Qk=typeof document<"u",Yk=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};Ht.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(Ht.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var I0=Y.event;function Kk(){}function Xk(){return this.cancelBubble}function Zk(){return this.defaultPrevented}Y.event=function(t){return I0&&(t=I0(t)),t.persist=Kk,t.isPropagationStopped=Xk,t.isDefaultPrevented=Zk,t.nativeEvent=t};var D0={configurable:!0,get:function(){return this.class}},k0=Y.vnode;Y.vnode=function(t){var e=t.type,n=t.props,r=n;if(typeof e=="string"){var i=e.indexOf("-")===-1;for(var s in r={},n){var o=n[s];Qk&&s==="children"&&e==="noscript"||s==="value"&&"defaultValue"in n&&o==null||(s==="defaultValue"&&"value"in n&&n.value==null?s="value":s==="download"&&o===!0?o="":/ondoubleclick/i.test(s)?s="ondblclick":/^onchange(textarea|input)/i.test(s+e)&&!Yk(n.type)?s="oninput":/^onfocus$/i.test(s)?s="onfocusin":/^onblur$/i.test(s)?s="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(s)?s=s.toLowerCase():i&&Gk.test(s)?s=s.replace(/[A-Z0-9]/g,"-$&").toLowerCase():o===null&&(o=void 0),/^oninput$/i.test(s)&&(s=s.toLowerCase(),r[s]&&(s="oninputCapture")),r[s]=o)}e=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=rc(n.children).forEach(function(a){a.props.selected=r.value.indexOf(a.props.value)!=-1})),e=="select"&&r.defaultValue!=null&&(r.value=rc(n.children).forEach(function(a){a.props.selected=r.multiple?r.defaultValue.indexOf(a.props.value)!=-1:r.defaultValue==a.props.value})),t.props=r,n.class!=n.className&&(D0.enumerable="className"in n,n.className!=null&&(r.class=n.className),Object.defineProperty(r,"className",D0))}t.$$typeof=qk,k0&&k0(t)};var x0=Y.__r;Y.__r=function(t){x0&&x0(t),t.__c};const dT=[],Jf=new Map;function hT(t){dT.push(t),Jf.forEach(e=>{pT(e,t)})}function Jk(t){t.isConnected&&t.getRootNode&&fT(t.getRootNode())}function fT(t){let e=Jf.get(t);if(!e||!e.isConnected){if(e=t.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const n=tx();n&&(e.nonce=n);const r=t===document?document.head:t,i=t===document?r.querySelector("script,link[rel=stylesheet],link[as=style],style"):r.firstChild;r.insertBefore(e,i)}Jf.set(t,e),ex(e)}}function ex(t){for(const e of dT)pT(t,e)}function pT(t,e){const{sheet:n}=t,r=n.cssRules.length;e.split("}").forEach((i,s)=>{i=i.trim(),i&&n.insertRule(i+"}",r+s)})}let _h;function tx(){return _h===void 0&&(_h=nx()),_h}function nx(){const t=document.querySelector('meta[name="csp-nonce"]');if(t&&t.hasAttribute("content"))return t.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&fT(document);var rx=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';hT(rx);class Lm{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:n}=this;n[e]=(n[e]||0)+1,this.clearTimeout()}resume(e="",n){let{pauseDepths:r}=this;e in r&&(n?delete r[e]:(r[e]-=1,r[e]<=0&&delete r[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function Fm(t){t.parentNode&&t.parentNode.removeChild(t)}function _t(t,e){if(t.closest)return t.closest(e);if(!document.documentElement.contains(t))return null;do{if(ix(t,e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null}function ix(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector).call(t,e)}function sx(t,e){let n=t instanceof HTMLElement?[t]:t,r=[];for(let i=0;i<n.length;i+=1){let s=n[i].querySelectorAll(e);for(let o=0;o<s.length;o+=1)r.push(s[o])}return r}const ox=/(top|left|right|bottom|width|height)$/i;function Yo(t,e){for(let n in e)mT(t,n,e[n])}function mT(t,e,n){n==null?t.style[e]="":typeof n=="number"&&ox.test(e)?t.style[e]=`${n}px`:t.style[e]=n}function gT(t){var e,n;return(n=(e=t.composedPath)===null||e===void 0?void 0:e.call(t)[0])!==null&&n!==void 0?n:t.target}let P0=0;function Jc(){return P0+=1,"fc-dom-"+P0}function ed(t){t.preventDefault()}function ax(t,e){return n=>{let r=_t(n.target,t);r&&e.call(r,n,r)}}function vT(t,e,n,r){let i=ax(n,r);return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}function lx(t,e,n,r){let i;return vT(t,"mouseover",e,(s,o)=>{if(o!==i){i=o,n(s,o);let a=l=>{i=null,r(l,o),o.removeEventListener("mouseleave",a)};o.addEventListener("mouseleave",a)}})}const N0=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function ux(t,e){let n=r=>{e(r),N0.forEach(i=>{t.removeEventListener(i,n)})};N0.forEach(r=>{t.addEventListener(r,n)})}function yT(t){return Object.assign({onClick:t},_T(t))}function _T(t){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(t(e),e.preventDefault())}}}let M0=0;function Oi(){return M0+=1,String(M0)}function Um(){document.body.classList.add("fc-not-allowed")}function jm(){document.body.classList.remove("fc-not-allowed")}function cx(t){t.style.userSelect="none",t.style.webkitUserSelect="none",t.addEventListener("selectstart",ed)}function dx(t){t.style.userSelect="",t.style.webkitUserSelect="",t.removeEventListener("selectstart",ed)}function hx(t){t.addEventListener("contextmenu",ed)}function fx(t){t.removeEventListener("contextmenu",ed)}function px(t){let e=[],n=[],r,i;for(typeof t=="string"?n=t.split(/\s*,\s*/):typeof t=="function"?n=[t]:Array.isArray(t)&&(n=t),r=0;r<n.length;r+=1)i=n[r],typeof i=="string"?e.push(i.charAt(0)==="-"?{field:i.substring(1),order:-1}:{field:i,order:1}):typeof i=="function"&&e.push({func:i});return e}function mx(t,e,n){let r,i;for(r=0;r<n.length;r+=1)if(i=gx(t,e,n[r]),i)return i;return 0}function gx(t,e,n){return n.func?n.func(t,e):vx(t[n.field],e[n.field])*(n.order||1)}function vx(t,e){return!t&&!e?0:e==null?-1:t==null?1:typeof t=="string"||typeof e=="string"?String(t).localeCompare(String(e)):t-e}function Eh(t,e){let n=String(t);return"000".substr(0,e-n.length)+n}function Ko(t,e,n){return typeof t=="function"?t(...e):typeof t=="string"?e.reduce((r,i,s)=>r.replace("$"+s,i||""),t):n}function yx(t,e){return t-e}function wh(t){return t%1===0}function _x(t){let e=t.querySelector(".fc-scrollgrid-shrink-frame"),n=t.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw new Error("needs fc-scrollgrid-shrink-cushion className");return t.getBoundingClientRect().width-e.getBoundingClientRect().width+n.getBoundingClientRect().width}const Ex=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function ce(t,e){return typeof t=="string"?wx(t):typeof t=="object"&&t?O0(t):typeof t=="number"?O0({[e||"milliseconds"]:t}):null}function wx(t){let e=Ex.exec(t);if(e){let n=e[1]?-1:1;return{years:0,months:0,days:n*(e[2]?parseInt(e[2],10):0),milliseconds:n*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function O0(t){let e={years:t.years||t.year||0,months:t.months||t.month||0,days:t.days||t.day||0,milliseconds:(t.hours||t.hour||0)*60*60*1e3+(t.minutes||t.minute||0)*60*1e3+(t.seconds||t.second||0)*1e3+(t.milliseconds||t.millisecond||t.ms||0)},n=t.weeks||t.week;return n&&(e.days+=n*7,e.specifiedWeeks=!0),e}function Sx(t,e){return t.years===e.years&&t.months===e.months&&t.days===e.days&&t.milliseconds===e.milliseconds}function Tx(t,e){return{years:t.years-e.years,months:t.months-e.months,days:t.days-e.days,milliseconds:t.milliseconds-e.milliseconds}}function Ax(t){return Es(t)/365}function Cx(t){return Es(t)/30}function Es(t){return ba(t)/864e5}function ba(t){return t.years*(365*864e5)+t.months*(30*864e5)+t.days*864e5+t.milliseconds}function ep(t){let e=t.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return t.days?t.specifiedWeeks&&t.days%7===0?{unit:"week",value:t.days/7}:{unit:"day",value:t.days}:t.months?{unit:"month",value:t.months}:t.years?{unit:"year",value:t.years}:{unit:"millisecond",value:0}}function jr(t,e,n){if(t===e)return!0;let r=t.length,i;if(r!==e.length)return!1;for(i=0;i<r;i+=1)if(!(n?n(t[i],e[i]):t[i]===e[i]))return!1;return!0}const bx=["sun","mon","tue","wed","thu","fri","sat"];function V0(t,e){let n=Er(t);return n[2]+=e*7,Pt(n)}function wt(t,e){let n=Er(t);return n[2]+=e,Pt(n)}function Br(t,e){let n=Er(t);return n[6]+=e,Pt(n)}function Rx(t,e){return Qs(t,e)/7}function Qs(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60*24)}function Ix(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60)}function Dx(t,e){return(e.valueOf()-t.valueOf())/(1e3*60)}function kx(t,e){return(e.valueOf()-t.valueOf())/1e3}function xx(t,e){let n=be(t),r=be(e);return{years:0,months:0,days:Math.round(Qs(n,r)),milliseconds:e.valueOf()-r.valueOf()-(t.valueOf()-n.valueOf())}}function Px(t,e){let n=ic(t,e);return n!==null&&n%7===0?n/7:null}function ic(t,e){return wr(t)===wr(e)?Math.round(Qs(t,e)):null}function be(t){return Pt([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()])}function Nx(t){return Pt([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours()])}function Mx(t){return Pt([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()])}function Ox(t){return Pt([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()])}function Vx(t,e,n){let r=t.getUTCFullYear(),i=Sh(t,r,e,n);if(i<1)return Sh(t,r-1,e,n);let s=Sh(t,r+1,e,n);return s>=1?Math.min(i,s):i}function Sh(t,e,n,r){let i=Pt([e,0,1+Lx(e,n,r)]),s=be(t),o=Math.round(Qs(i,s));return Math.floor(o/7)+1}function Lx(t,e,n){let r=7+e-n;return-((7+Pt([t,0,r]).getUTCDay()-e)%7)+r-1}function L0(t){return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()]}function F0(t){return new Date(t[0],t[1]||0,t[2]==null?1:t[2],t[3]||0,t[4]||0,t[5]||0)}function Er(t){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]}function Pt(t){return t.length===1&&(t=t.concat([0])),new Date(Date.UTC(...t))}function ET(t){return!isNaN(t.valueOf())}function wr(t){return t.getUTCHours()*1e3*60*60+t.getUTCMinutes()*1e3*60+t.getUTCSeconds()*1e3+t.getUTCMilliseconds()}function Fx(t,e,n=!1){let r=t.toISOString();return r=r.replace(".000",""),n&&(r=r.replace("T00:00:00Z","")),r.length>10&&(e==null?r=r.replace("Z",""):e!==0&&(r=r.replace("Z",$m(e,!0)))),r}function Bm(t){return t.toISOString().replace(/T.*$/,"")}function Ux(t){return t.toISOString().match(/^\d{4}-\d{2}/)[0]}function $m(t,e=!1){let n=t<0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),s=Math.round(r%60);return e?`${n+Eh(i,2)}:${Eh(s,2)}`:`GMT${n}${i}${s?`:${Eh(s,2)}`:""}`}function de(t,e,n){let r,i;return function(...s){if(!r)i=t.apply(this,s);else if(!jr(r,s)){let o=t.apply(this,s);(!e||!e(o,i))&&(i=o)}return r=s,i}}function _u(t,e,n){let r,i;return s=>(r?Pn(r,s)||(i=t.call(this,s)):i=t.call(this,s),r=s,i)}const U0={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},sc={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},Bl=/\s*([ap])\.?m\.?/i,jx=/,/g,Bx=/\s+/g,$x=/\u200e/g,Hx=/UTC|GMT/;class zx{constructor(e){let n={},r={},i=0;for(let s in e)s in U0?(r[s]=e[s],i=Math.max(U0[s],i)):(n[s]=e[s],s in sc&&(i=Math.max(sc[s],i)));this.standardDateProps=n,this.extendedSettings=r,this.severity=i,this.buildFormattingFunc=de(j0)}format(e,n){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,n)(e)}formatRange(e,n,r,i){let{standardDateProps:s,extendedSettings:o}=this,a=Kx(e.marker,n.marker,r.calendarSystem);if(!a)return this.format(e,r);let l=a;l>1&&(s.year==="numeric"||s.year==="2-digit")&&(s.month==="numeric"||s.month==="2-digit")&&(s.day==="numeric"||s.day==="2-digit")&&(l=1);let c=this.format(e,r),d=this.format(n,r);if(c===d)return c;let h=Xx(s,l),p=j0(h,o,r),m=p(e),v=p(n),T=Zx(c,m,d,v),S=o.separator||i||r.defaultSeparator||"";return T?T.before+m+S+v+T.after:c+S+d}getLargestUnit(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function j0(t,e,n){let r=Object.keys(t).length;return r===1&&t.timeZoneName==="short"?i=>$m(i.timeZoneOffset):r===0&&e.week?i=>Yx(n.computeWeekNumber(i.marker),n.weekText,n.weekTextLong,n.locale,e.week):Wx(t,e,n)}function Wx(t,e,n){t=Object.assign({},t),e=Object.assign({},e),qx(t,e),t.timeZone="UTC";let r=new Intl.DateTimeFormat(n.locale.codes,t),i;if(e.omitZeroMinute){let s=Object.assign({},t);delete s.minute,i=new Intl.DateTimeFormat(n.locale.codes,s)}return s=>{let{marker:o}=s,a;i&&!o.getUTCMinutes()?a=i:a=r;let l=a.format(o);return Gx(l,s,t,e,n)}}function qx(t,e){t.timeZoneName&&(t.hour||(t.hour="2-digit"),t.minute||(t.minute="2-digit")),t.timeZoneName==="long"&&(t.timeZoneName="short"),e.omitZeroMinute&&(t.second||t.millisecond)&&delete e.omitZeroMinute}function Gx(t,e,n,r,i){return t=t.replace($x,""),n.timeZoneName==="short"&&(t=Qx(t,i.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":$m(e.timeZoneOffset))),r.omitCommas&&(t=t.replace(jx,"").trim()),r.omitZeroMinute&&(t=t.replace(":00","")),r.meridiem===!1?t=t.replace(Bl,"").trim():r.meridiem==="narrow"?t=t.replace(Bl,(s,o)=>o.toLocaleLowerCase()):r.meridiem==="short"?t=t.replace(Bl,(s,o)=>`${o.toLocaleLowerCase()}m`):r.meridiem==="lowercase"&&(t=t.replace(Bl,s=>s.toLocaleLowerCase())),t=t.replace(Bx," "),t=t.trim(),t}function Qx(t,e){let n=!1;return t=t.replace(Hx,()=>(n=!0,e)),n||(t+=` ${e}`),t}function Yx(t,e,n,r,i){let s=[];return i==="long"?s.push(n):(i==="short"||i==="narrow")&&s.push(e),(i==="long"||i==="short")&&s.push(" "),s.push(r.simpleNumberFormat.format(t)),r.options.direction==="rtl"&&s.reverse(),s.join("")}function Kx(t,e,n){return n.getMarkerYear(t)!==n.getMarkerYear(e)?5:n.getMarkerMonth(t)!==n.getMarkerMonth(e)?4:n.getMarkerDay(t)!==n.getMarkerDay(e)?2:wr(t)!==wr(e)?1:0}function Xx(t,e){let n={};for(let r in t)(!(r in sc)||sc[r]<=e)&&(n[r]=t[r]);return n}function Zx(t,e,n,r){let i=0;for(;i<t.length;){let s=t.indexOf(e,i);if(s===-1)break;let o=t.substr(0,s);i=s+e.length;let a=t.substr(i),l=0;for(;l<n.length;){let c=n.indexOf(r,l);if(c===-1)break;let d=n.substr(0,c);l=c+r.length;let h=n.substr(l);if(o===d&&a===h)return{before:o,after:a}}}return null}function B0(t,e){let n=e.markerToArray(t.marker);return{marker:t.marker,timeZoneOffset:t.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function oc(t,e,n,r){let i=B0(t,n.calendarSystem),s=e?B0(e,n.calendarSystem):null;return{date:i,start:i,end:s,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:r||n.defaultSeparator}}class Jx{constructor(e){this.cmdStr=e}format(e,n,r){return n.cmdFormatter(this.cmdStr,oc(e,null,n,r))}formatRange(e,n,r,i){return r.cmdFormatter(this.cmdStr,oc(e,n,r,i))}}class eP{constructor(e){this.func=e}format(e,n,r){return this.func(oc(e,null,n,r))}formatRange(e,n,r,i){return this.func(oc(e,n,r,i))}}function Je(t){return typeof t=="object"&&t?new zx(t):typeof t=="string"?new Jx(t):typeof t=="function"?new eP(t):null}const $0={navLinkDayClick:M,navLinkWeekClick:M,duration:ce,bootstrapFontAwesome:M,buttonIcons:M,customButtons:M,defaultAllDayEventDuration:ce,defaultTimedEventDuration:ce,nextDayThreshold:ce,scrollTime:ce,scrollTimeReset:Boolean,slotMinTime:ce,slotMaxTime:ce,dayPopoverFormat:Je,slotDuration:ce,snapDuration:ce,headerToolbar:M,footerToolbar:M,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:Je,dayHeaderClassNames:M,dayHeaderContent:M,dayHeaderDidMount:M,dayHeaderWillUnmount:M,dayCellClassNames:M,dayCellContent:M,dayCellDidMount:M,dayCellWillUnmount:M,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:M,weekNumbers:Boolean,weekNumberClassNames:M,weekNumberContent:M,weekNumberDidMount:M,weekNumberWillUnmount:M,editable:Boolean,viewClassNames:M,viewDidMount:M,viewWillUnmount:M,nowIndicator:Boolean,nowIndicatorClassNames:M,nowIndicatorContent:M,nowIndicatorDidMount:M,nowIndicatorWillUnmount:M,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:M,locale:M,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:M,eventOrder:px,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:M,contentHeight:M,direction:String,weekNumberFormat:Je,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:M,initialDate:M,now:M,eventDataTransform:M,stickyHeaderDates:M,stickyFooterScrollbar:M,viewHeight:M,defaultAllDay:Boolean,eventSourceFailure:M,eventSourceSuccess:M,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:M,eventConstraint:M,eventAllow:M,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:M,eventContent:M,eventDidMount:M,eventWillUnmount:M,selectConstraint:M,selectOverlap:M,selectAllow:M,droppable:Boolean,unselectCancel:String,slotLabelFormat:M,slotLaneClassNames:M,slotLaneContent:M,slotLaneDidMount:M,slotLaneWillUnmount:M,slotLabelClassNames:M,slotLabelContent:M,slotLabelDidMount:M,slotLabelWillUnmount:M,dayMaxEvents:M,dayMaxEventRows:M,dayMinWidth:Number,slotLabelInterval:ce,allDayText:String,allDayClassNames:M,allDayContent:M,allDayDidMount:M,allDayWillUnmount:M,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:Je,rerenderDelay:Number,moreLinkText:M,moreLinkHint:M,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:M,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:ce,hiddenDays:M,fixedWeekCount:Boolean,validRange:M,visibleRange:M,titleFormat:M,eventInteractive:Boolean,noEventsText:String,viewHint:M,navLinkHint:M,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:M,moreLinkClassNames:M,moreLinkContent:M,moreLinkDidMount:M,moreLinkWillUnmount:M,monthStartFormat:Je,handleCustomRendering:M,customRenderingMetaMap:M,customRenderingReplaces:Boolean},Xo={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" – ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},H0={datesSet:M,eventsSet:M,eventAdd:M,eventChange:M,eventRemove:M,windowResize:M,eventClick:M,eventMouseEnter:M,eventMouseLeave:M,select:M,unselect:M,loading:M,_unmount:M,_beforeprint:M,_afterprint:M,_noEventDrop:M,_noEventResize:M,_resize:M,_scrollRequest:M},z0={buttonText:M,buttonHints:M,views:M,plugins:M,initialEvents:M,events:M,eventSources:M},ri={headerToolbar:ii,footerToolbar:ii,buttonText:ii,buttonHints:ii,buttonIcons:ii,dateIncrement:ii,plugins:$l,events:$l,eventSources:$l,resources:$l};function ii(t,e){return typeof t=="object"&&typeof e=="object"&&t&&e?Pn(t,e):t===e}function $l(t,e){return Array.isArray(t)&&Array.isArray(e)?jr(t,e):t===e}const tP={type:String,component:M,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:M,usesMinMaxTime:Boolean,classNames:M,content:M,didMount:M,willUnmount:M};function Th(t){return zm(t,ri)}function Hm(t,e){let n={},r={};for(let i in e)i in t&&(n[i]=e[i](t[i]));for(let i in t)i in e||(r[i]=t[i]);return{refined:n,extra:r}}function M(t){return t}const{hasOwnProperty:ac}=Object.prototype;function zm(t,e){let n={};if(e){for(let r in e)if(e[r]===ii){let i=[];for(let s=t.length-1;s>=0;s-=1){let o=t[s][r];if(typeof o=="object"&&o)i.unshift(o);else if(o!==void 0){n[r]=o;break}}i.length&&(n[r]=zm(i))}}for(let r=t.length-1;r>=0;r-=1){let i=t[r];for(let s in i)s in n||(n[s]=i[s])}return n}function Ci(t,e){let n={};for(let r in t)e(t[r],r)&&(n[r]=t[r]);return n}function Vi(t,e){let n={};for(let r in t)n[r]=e(t[r],r);return n}function wT(t){let e={};for(let n of t)e[n]=!0;return e}function Wm(t){let e=[];for(let n in t)e.push(t[n]);return e}function Pn(t,e){if(t===e)return!0;for(let n in t)if(ac.call(t,n)&&!(n in e))return!1;for(let n in e)if(ac.call(e,n)&&t[n]!==e[n])return!1;return!0}const nP=/^on[A-Z]/;function rP(t,e){const n=tp(t,e);for(let r of n)if(!nP.test(r))return!1;return!0}function tp(t,e){let n=[];for(let r in t)ac.call(t,r)&&(r in e||n.push(r));for(let r in e)ac.call(e,r)&&t[r]!==e[r]&&n.push(r);return n}function Ah(t,e,n={}){if(t===e)return!0;for(let r in e)if(!(r in t&&iP(t[r],e[r],n[r])))return!1;for(let r in t)if(!(r in e))return!1;return!0}function iP(t,e,n){return t===e||n===!0?!0:n?n(t,e):!1}function sP(t,e=0,n,r=1){let i=[];n==null&&(n=Object.keys(t).length);for(let s=e;s<n;s+=r){let o=t[s];o!==void 0&&i.push(o)}return i}let ST={};function oP(t,e){ST[t]=e}function aP(t){return new ST[t]}class lP{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return Pt(e)}markerToArray(e){return Er(e)}}oP("gregory",lP);const uP=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function cP(t){let e=uP.exec(t);if(e){let n=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(ET(n)){let r=null;return e[13]&&(r=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:n,isTimeUnspecified:!e[6],timeZoneOffset:r}}}return null}class dP{constructor(e){let n=this.timeZone=e.timeZone,r=n!=="local"&&n!=="UTC";e.namedTimeZoneImpl&&r&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(n)),this.canComputeOffset=!!(!r||this.namedTimeZoneImpl),this.calendarSystem=aP(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let n=this.createMarkerMeta(e);return n===null?null:n.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):Pt(L0(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let n=null;return typeof e=="number"?n=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(n=this.timestampToMarker(e))):Array.isArray(e)&&(n=Pt(e)),n===null||!ET(n)?null:{marker:n,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let n=cP(e);if(n===null)return null;let{marker:r}=n,i=null;return n.timeZoneOffset!==null&&(this.canComputeOffset?r=this.timestampToMarker(r.valueOf()-n.timeZoneOffset*60*1e3):i=n.timeZoneOffset),{marker:r,isTimeUnspecified:n.isTimeUnspecified,forcedTzo:i}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]+=n.years,r[1]+=n.months,r[2]+=n.days,r[6]+=n.milliseconds,this.calendarSystem.arrayToMarker(r)}subtract(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]-=n.years,r[1]-=n.months,r[2]-=n.days,r[6]-=n.milliseconds,this.calendarSystem.arrayToMarker(r)}addYears(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]+=n,this.calendarSystem.arrayToMarker(r)}addMonths(e,n){let r=this.calendarSystem.markerToArray(e);return r[1]+=n,this.calendarSystem.arrayToMarker(r)}diffWholeYears(e,n){let{calendarSystem:r}=this;return wr(e)===wr(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)&&r.getMarkerMonth(e)===r.getMarkerMonth(n)?r.getMarkerYear(n)-r.getMarkerYear(e):null}diffWholeMonths(e,n){let{calendarSystem:r}=this;return wr(e)===wr(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)?r.getMarkerMonth(n)-r.getMarkerMonth(e)+(r.getMarkerYear(n)-r.getMarkerYear(e))*12:null}greatestWholeUnit(e,n){let r=this.diffWholeYears(e,n);return r!==null?{unit:"year",value:r}:(r=this.diffWholeMonths(e,n),r!==null?{unit:"month",value:r}:(r=Px(e,n),r!==null?{unit:"week",value:r}:(r=ic(e,n),r!==null?{unit:"day",value:r}:(r=Ix(e,n),wh(r)?{unit:"hour",value:r}:(r=Dx(e,n),wh(r)?{unit:"minute",value:r}:(r=kx(e,n),wh(r)?{unit:"second",value:r}:{unit:"millisecond",value:n.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,n,r){let i;return r.years&&(i=this.diffWholeYears(e,n),i!==null)?i/Ax(r):r.months&&(i=this.diffWholeMonths(e,n),i!==null)?i/Cx(r):r.days&&(i=ic(e,n),i!==null)?i/Es(r):(n.valueOf()-e.valueOf())/ba(r)}startOf(e,n){return n==="year"?this.startOfYear(e):n==="month"?this.startOfMonth(e):n==="week"?this.startOfWeek(e):n==="day"?be(e):n==="hour"?Nx(e):n==="minute"?Mx(e):n==="second"?Ox(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):Vx(e,this.weekDow,this.weekDoy)}format(e,n,r={}){return n.format({marker:e,timeZoneOffset:r.forcedTzo!=null?r.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,n,r,i={}){return i.isEndExclusive&&(n=Br(n,-1)),r.formatRange({marker:e,timeZoneOffset:i.forcedStartTzo!=null?i.forcedStartTzo:this.offsetForMarker(e)},{marker:n,timeZoneOffset:i.forcedEndTzo!=null?i.forcedEndTzo:this.offsetForMarker(n)},this,i.defaultSeparator)}formatIso(e,n={}){let r=null;return n.omitTimeZoneOffset||(n.forcedTzo!=null?r=n.forcedTzo:r=this.offsetForMarker(e)),Fx(e,r,n.omitTime)}timestampToMarker(e){return this.timeZone==="local"?Pt(L0(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):Pt(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-F0(Er(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(Er(e)):null}toDate(e,n){return this.timeZone==="local"?F0(Er(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(Er(e))*1e3*60):new Date(e.valueOf()-(n||0))}}class Wa{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let n,r;if(typeof e=="object"&&e){n=Object.assign({},this.iconClasses);for(r in e)n[r]=this.applyIconOverridePrefix(e[r]);this.iconClasses=n}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let n=this.iconOverridePrefix;return n&&e.indexOf(n)!==0&&(e=n+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,n){let r;return n&&this.rtlIconClasses?r=this.rtlIconClasses[e]||this.iconClasses[e]:r=this.iconClasses[e],r?`${this.baseIconClass} ${r}`:""}getCustomButtonIconClass(e){let n;return this.iconOverrideCustomButtonOption&&(n=e[this.iconOverrideCustomButtonOption],n)?`${this.baseIconClass} ${this.applyIconOverridePrefix(n)}`:""}}Wa.prototype.classes={};Wa.prototype.iconClasses={};Wa.prototype.baseIconClass="";Wa.prototype.iconOverridePrefix="";function lc(t){t();let e=Y.debounceRendering,n=[];function r(i){n.push(i)}for(Y.debounceRendering=r,Ca(O(hP,{}),document.createElement("div"));n.length;)n.shift()();Y.debounceRendering=e}class hP extends Ht{render(){return O("div",{})}componentDidMount(){this.setState({})}}function TT(t){let e=Fk(t),n=e.Provider;return e.Provider=function(){let r=!this.getChildContext,i=n.apply(this,arguments);if(r){let s=[];this.shouldComponentUpdate=o=>{this.props.value!==o.value&&s.forEach(a=>{a.context=o.value,a.forceUpdate()})},this.sub=o=>{s.push(o);let a=o.componentWillUnmount;o.componentWillUnmount=()=>{s.splice(s.indexOf(o),1),a&&a.call(o)}}}return i},e}class fP{constructor(e,n,r,i){this.execFunc=e,this.emitter=n,this.scrollTime=r,this.scrollTimeReset=i,this.handleScrollRequest=s=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},s),this.drain()},n.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const Li=TT({});function pP(t,e,n,r,i,s,o,a,l,c,d,h,p){return{dateEnv:i,options:n,pluginHooks:o,emitter:c,dispatch:a,getCurrentData:l,calendarApi:d,viewSpec:t,viewApi:e,dateProfileGenerator:r,theme:s,isRtl:n.direction==="rtl",addResizeHandler(m){c.on("_resize",m)},removeResizeHandler(m){c.off("_resize",m)},createScrollResponder(m){return new fP(m,c,ce(n.scrollTime),n.scrollTimeReset)},registerInteractiveComponent:h,unregisterInteractiveComponent:p}}class Fi extends Ht{shouldComponentUpdate(e,n){return this.debug&&console.log(tp(e,this.props),tp(n,this.state)),!Ah(this.props,e,this.propEquality)||!Ah(this.state,n,this.stateEquality)}safeSetState(e){Ah(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}Fi.addPropsEquality=mP;Fi.addStateEquality=gP;Fi.contextType=Li;Fi.prototype.propEquality={};Fi.prototype.stateEquality={};class Ne extends Fi{}Ne.contextType=Li;function mP(t){let e=Object.create(this.prototype.propEquality);Object.assign(e,t),this.prototype.propEquality=e}function gP(t){let e=Object.create(this.prototype.stateEquality);Object.assign(e,t),this.prototype.stateEquality=e}function Xn(t,e){typeof t=="function"?t(e):t&&(t.current=e)}class qm extends Ne{constructor(){super(...arguments),this.id=Oi(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:n}=this.context,{generatorName:r}=this.props;(!n.customRenderingReplaces||!np(r,n))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&Xn(this.props.elRef,e)}}render(){const{props:e,context:n}=this,{options:r}=n,{customGenerator:i,defaultGenerator:s,renderProps:o}=e,a=AT(e,[],this.handleEl);let l=!1,c,d=[],h;if(i!=null){const p=typeof i=="function"?i(o,O):i;if(p===!0)l=!0;else{const m=p&&typeof p=="object";m&&"html"in p?a.dangerouslySetInnerHTML={__html:p.html}:m&&"domNodes"in p?d=Array.prototype.slice.call(p.domNodes):(m?QS(p):typeof p!="function")?c=p:h=p}}else l=!np(e.generatorName,r);return l&&s&&(c=s(o)),this.queuedDomNodes=d,this.currentGeneratorMeta=h,O(e.elTag,a,c)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var n;const{props:r,context:i}=this,{handleCustomRendering:s,customRenderingMetaMap:o}=i.options;if(s){const a=(n=this.currentGeneratorMeta)!==null&&n!==void 0?n:o==null?void 0:o[r.generatorName];a&&s(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:a},r),{elClasses:(r.elClasses||[]).filter(vP)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:n}=this,r=this.base;if(!jr(e,n)){n.forEach(Fm);for(let i of e)r.appendChild(i);this.currentDomNodes=e}}}qm.addPropsEquality({elClasses:jr,elStyle:Pn,elAttrs:rP,renderProps:Pn});function np(t,e){var n;return!!(e.handleCustomRendering&&t&&(!((n=e.customRenderingMetaMap)===null||n===void 0)&&n[t]))}function AT(t,e,n){const r=Object.assign(Object.assign({},t.elAttrs),{ref:n});return(t.elClasses||e)&&(r.className=(t.elClasses||[]).concat(e||[]).concat(r.className||[]).filter(Boolean).join(" ")),t.elStyle&&(r.style=t.elStyle),r}function vP(t){return!!t}const CT=TT(0);class nr extends Ht{constructor(){super(...arguments),this.InnerContent=yP.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(Xn(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,n=_P(e.classNameGenerator,e.renderProps);if(e.children){const r=AT(e,n,this.handleEl),i=e.children(this.InnerContent,e.renderProps,r);return e.elTag?O(e.elTag,r,i):i}else return O(qm,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(n),renderId:this.context}))}componentDidMount(){var e,n;this.el?(n=(e=this.props).didMount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,n;(n=(e=this.props).willUnmount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}nr.contextType=CT;function yP(t,e){const n=t.props;return O(qm,Object.assign({renderProps:n.renderProps,generatorName:n.generatorName,customGenerator:n.customGenerator,defaultGenerator:n.defaultGenerator,renderId:t.context},e))}function _P(t,e){const n=typeof t=="function"?t(e):t||[];return typeof n=="string"?[n]:n}class W0 extends Ne{render(){let{props:e,context:n}=this,{options:r}=n,i={view:n.viewApi};return O(nr,Object.assign({},e,{elTag:e.elTag||"div",elClasses:[...bT(e.viewSpec),...e.elClasses||[]],renderProps:i,classNameGenerator:r.viewClassNames,generatorName:void 0,didMount:r.viewDidMount,willUnmount:r.viewWillUnmount}),()=>e.children)}}function bT(t){return[`fc-${t.type}-view`,"fc-view"]}function EP(t,e){let n=null,r=null;return t.start&&(n=e.createMarker(t.start)),t.end&&(r=e.createMarker(t.end)),!n&&!r||n&&r&&r<n?null:{start:n,end:r}}function q0(t,e){let n=[],{start:r}=e,i,s;for(t.sort(wP),i=0;i<t.length;i+=1)s=t[i],s.start>r&&n.push({start:r,end:s.start}),s.end>r&&(r=s.end);return r<e.end&&n.push({start:r,end:e.end}),n}function wP(t,e){return t.start.valueOf()-e.start.valueOf()}function Ms(t,e){let{start:n,end:r}=t,i=null;return e.start!==null&&(n===null?n=e.start:n=new Date(Math.max(n.valueOf(),e.start.valueOf()))),e.end!=null&&(r===null?r=e.end:r=new Date(Math.min(r.valueOf(),e.end.valueOf()))),(n===null||r===null||n<r)&&(i={start:n,end:r}),i}function SP(t,e){return(t.start===null?null:t.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(t.end===null?null:t.end.valueOf())===(e.end===null?null:e.end.valueOf())}function Gm(t,e){return(t.end===null||e.start===null||t.end>e.start)&&(t.start===null||e.end===null||t.start<e.end)}function td(t,e){return(t.start===null||e.start!==null&&e.start>=t.start)&&(t.end===null||e.end!==null&&e.end<=t.end)}function Nr(t,e){return(t.start===null||e>=t.start)&&(t.end===null||e<t.end)}function TP(t,e){return e.start!=null&&t<e.start?e.start:e.end!=null&&t>=e.end?new Date(e.end.valueOf()-1):t}function RT(t){let e=Math.floor(Qs(t.start,t.end))||1,n=be(t.start),r=wt(n,e);return{start:n,end:r}}function IT(t,e=ce(0)){let n=null,r=null;if(t.end){r=be(t.end);let i=t.end.valueOf()-r.valueOf();i&&i>=ba(e)&&(r=wt(r,1))}return t.start&&(n=be(t.start),r&&r<=n&&(r=wt(n,1))),{start:n,end:r}}function hs(t,e,n,r){return r==="year"?ce(n.diffWholeYears(t,e),"year"):r==="month"?ce(n.diffWholeMonths(t,e),"month"):xx(t,e)}function AP(t,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return t}}function CP(t,e){let n=t.initialDate;return n!=null?e.createMarker(n):qa(t.now,e)}function qa(t,e){return typeof t=="function"&&(t=t()),t==null?e.createNowMarker():e.createMarker(t)}class DT{constructor(e){this.props=e,this.nowDate=qa(e.nowInput,e.dateEnv),this.initHiddenDays()}buildPrev(e,n,r){let{dateEnv:i}=this.props,s=i.subtract(i.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(s,-1,r)}buildNext(e,n,r){let{dateEnv:i}=this.props,s=i.add(i.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(s,1,r)}build(e,n,r=!0){let{props:i}=this,s,o,a,l,c,d;return s=this.buildValidRange(),s=this.trimHiddenDays(s),r&&(e=TP(e,s)),o=this.buildCurrentRangeInfo(e,n),a=/^(year|month|week|day)$/.test(o.unit),l=this.buildRenderRange(this.trimHiddenDays(o.range),o.unit,a),l=this.trimHiddenDays(l),c=l,i.showNonCurrentDates||(c=Ms(c,o.range)),c=this.adjustActiveRange(c),c=Ms(c,s),d=Gm(o.range,s),Nr(l,e)||(e=l.start),{currentDate:e,validRange:s,currentRange:o.range,currentRangeUnit:o.unit,isRangeAllDay:a,activeRange:c,renderRange:l,slotMinTime:i.slotMinTime,slotMaxTime:i.slotMaxTime,isValid:d,dateIncrement:this.buildDateIncrement(o.duration)}}buildValidRange(){let e=this.props.validRangeInput,n=typeof e=="function"?e.call(this.props.calendarApi,this.nowDate):e;return this.refineRange(n)||{start:null,end:null}}buildCurrentRangeInfo(e,n){let{props:r}=this,i=null,s=null,o=null,a;return r.duration?(i=r.duration,s=r.durationUnit,o=this.buildRangeFromDuration(e,n,i,s)):(a=this.props.dayCount)?(s="day",o=this.buildRangeFromDayCount(e,n,a)):(o=this.buildCustomVisibleRange(e))?s=r.dateEnv.greatestWholeUnit(o.start,o.end).unit:(i=this.getFallbackDuration(),s=ep(i).unit,o=this.buildRangeFromDuration(e,n,i,s)),{duration:i,unit:s,range:o}}getFallbackDuration(){return ce({day:1})}adjustActiveRange(e){let{dateEnv:n,usesMinMaxTime:r,slotMinTime:i,slotMaxTime:s}=this.props,{start:o,end:a}=e;return r&&(Es(i)<0&&(o=be(o),o=n.add(o,i)),Es(s)>1&&(a=be(a),a=wt(a,-1),a=n.add(a,s))),{start:o,end:a}}buildRangeFromDuration(e,n,r,i){let{dateEnv:s,dateAlignment:o}=this.props,a,l,c;if(!o){let{dateIncrement:h}=this.props;h&&ba(h)<ba(r)?o=ep(h).unit:o=i}Es(r)<=1&&this.isHiddenDay(a)&&(a=this.skipHiddenDays(a,n),a=be(a));function d(){a=s.startOf(e,o),l=s.add(a,r),c={start:a,end:l}}return d(),this.trimHiddenDays(c)||(e=this.skipHiddenDays(e,n),d()),c}buildRangeFromDayCount(e,n,r){let{dateEnv:i,dateAlignment:s}=this.props,o=0,a=e,l;s&&(a=i.startOf(a,s)),a=be(a),a=this.skipHiddenDays(a,n),l=a;do l=wt(l,1),this.isHiddenDay(l)||(o+=1);while(o<r);return{start:a,end:l}}buildCustomVisibleRange(e){let{props:n}=this,r=n.visibleRangeInput,i=typeof r=="function"?r.call(n.calendarApi,n.dateEnv.toDate(e)):r,s=this.refineRange(i);return s&&(s.start==null||s.end==null)?null:s}buildRenderRange(e,n,r){return e}buildDateIncrement(e){let{dateIncrement:n}=this.props,r;return n||((r=this.props.dateAlignment)?ce(1,r):e||ce({days:1}))}refineRange(e){if(e){let n=EP(e,this.props.dateEnv);return n&&(n=IT(n)),n}return null}initHiddenDays(){let e=this.props.hiddenDays||[],n=[],r=0,i;for(this.props.weekends===!1&&e.push(0,6),i=0;i<7;i+=1)(n[i]=e.indexOf(i)!==-1)||(r+=1);if(!r)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n}trimHiddenDays(e){let{start:n,end:r}=e;return n&&(n=this.skipHiddenDays(n)),r&&(r=this.skipHiddenDays(r,-1,!0)),n==null||r==null||n<r?{start:n,end:r}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,n=1,r=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(r?n:0)+7)%7];)e=wt(e,n);return e}}function Qm(t,e,n,r){return{instanceId:Oi(),defId:t,range:e,forcedStartTzo:n??null,forcedEndTzo:r??null}}function bP(t,e,n,r){for(let i=0;i<r.length;i+=1){let s=r[i].parse(t,n);if(s){let{allDay:o}=t;return o==null&&(o=e,o==null&&(o=s.allDayGuess,o==null&&(o=!1))),{allDay:o,duration:s.duration,typeData:s.typeData,typeId:i}}}return null}function bi(t,e,n){let{dateEnv:r,pluginHooks:i,options:s}=n,{defs:o,instances:a}=t;a=Ci(a,l=>!o[l.defId].recurringDef);for(let l in o){let c=o[l];if(c.recurringDef){let{duration:d}=c.recurringDef;d||(d=c.allDay?s.defaultAllDayEventDuration:s.defaultTimedEventDuration);let h=RP(c,d,e,r,i.recurringTypes);for(let p of h){let m=Qm(l,{start:p,end:r.add(p,d)});a[m.instanceId]=m}}}return{defs:o,instances:a}}function RP(t,e,n,r,i){let o=i[t.recurringDef.typeId].expand(t.recurringDef.typeData,{start:r.subtract(n.start,e),end:n.end},r);return t.allDay&&(o=o.map(be)),o}const Eu={id:String,groupId:String,title:String,url:String,interactive:Boolean},kT={start:M,end:M,date:M,allDay:Boolean},IP=Object.assign(Object.assign(Object.assign({},Eu),kT),{extendedProps:M});function xT(t,e,n,r,i=Ym(n),s,o){let{refined:a,extra:l}=PT(t,n,i),c=kP(e,n),d=bP(a,c,n.dateEnv,n.pluginHooks.recurringTypes);if(d){let p=rp(a,l,e?e.sourceId:"",d.allDay,!!d.duration,n,s);return p.recurringDef={typeId:d.typeId,typeData:d.typeData,duration:d.duration},{def:p,instance:null}}let h=DP(a,c,n,r);if(h){let p=rp(a,l,e?e.sourceId:"",h.allDay,h.hasEnd,n,s),m=Qm(p.defId,h.range,h.forcedStartTzo,h.forcedEndTzo);return o&&p.publicId&&o[p.publicId]&&(m.instanceId=o[p.publicId]),{def:p,instance:m}}return null}function PT(t,e,n=Ym(e)){return Hm(t,n)}function Ym(t){return Object.assign(Object.assign(Object.assign({},uc),IP),t.pluginHooks.eventRefiners)}function rp(t,e,n,r,i,s,o){let a={title:t.title||"",groupId:t.groupId||"",publicId:t.id||"",url:t.url||"",recurringDef:null,defId:(o&&t.id?o[t.id]:"")||Oi(),sourceId:n,allDay:r,hasEnd:i,interactive:t.interactive,ui:cc(t,s),extendedProps:Object.assign(Object.assign({},t.extendedProps||{}),e)};for(let l of s.pluginHooks.eventDefMemberAdders)Object.assign(a,l(t));return Object.freeze(a.ui.classNames),Object.freeze(a.extendedProps),a}function DP(t,e,n,r){let{allDay:i}=t,s,o=null,a=!1,l,c=null,d=t.start!=null?t.start:t.date;if(s=n.dateEnv.createMarkerMeta(d),s)o=s.marker;else if(!r)return null;return t.end!=null&&(l=n.dateEnv.createMarkerMeta(t.end)),i==null&&(e!=null?i=e:i=(!s||s.isTimeUnspecified)&&(!l||l.isTimeUnspecified)),i&&o&&(o=be(o)),l&&(c=l.marker,i&&(c=be(c)),o&&c<=o&&(c=null)),c?a=!0:r||(a=n.options.forceEventDuration||!1,c=n.dateEnv.add(o,i?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration)),{allDay:i,hasEnd:a,range:{start:o,end:c},forcedStartTzo:s?s.forcedTzo:null,forcedEndTzo:l?l.forcedTzo:null}}function kP(t,e){let n=null;return t&&(n=t.defaultAllDay),n==null&&(n=e.options.defaultAllDay),n}function Ra(t,e,n,r,i,s){let o=gn(),a=Ym(n);for(let l of t){let c=xT(l,e,n,r,a,i,s);c&&ip(c,o)}return o}function ip(t,e=gn()){return e.defs[t.def.defId]=t.def,t.instance&&(e.instances[t.instance.instanceId]=t.instance),e}function Km(t,e){let n=t.instances[e];if(n){let r=t.defs[n.defId],i=nd(t,s=>xP(r,s));return i.defs[r.defId]=r,i.instances[n.instanceId]=n,i}return gn()}function xP(t,e){return!!(t.groupId&&t.groupId===e.groupId)}function gn(){return{defs:{},instances:{}}}function Xm(t,e){return{defs:Object.assign(Object.assign({},t.defs),e.defs),instances:Object.assign(Object.assign({},t.instances),e.instances)}}function nd(t,e){let n=Ci(t.defs,e),r=Ci(t.instances,i=>n[i.defId]);return{defs:n,instances:r}}function PP(t,e){let{defs:n,instances:r}=t,i={},s={};for(let o in n)e.defs[o]||(i[o]=n[o]);for(let o in r)!e.instances[o]&&i[r[o].defId]&&(s[o]=r[o]);return{defs:i,instances:s}}function NP(t,e){return Array.isArray(t)?Ra(t,null,e,!0):typeof t=="object"&&t?Ra([t],null,e,!0):t!=null?String(t):null}function G0(t){return Array.isArray(t)?t:typeof t=="string"?t.split(/\s+/):[]}const uc={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:M,overlap:M,allow:M,className:G0,classNames:G0,color:String,backgroundColor:String,borderColor:String,textColor:String},MP={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function cc(t,e){let n=NP(t.constraint,e);return{display:t.display||null,startEditable:t.startEditable!=null?t.startEditable:t.editable,durationEditable:t.durationEditable!=null?t.durationEditable:t.editable,constraints:n!=null?[n]:[],overlap:t.overlap!=null?t.overlap:null,allows:t.allow!=null?[t.allow]:[],backgroundColor:t.backgroundColor||t.color||"",borderColor:t.borderColor||t.color||"",textColor:t.textColor||"",classNames:(t.className||[]).concat(t.classNames||[])}}function OP(t){return t.reduce(VP,MP)}function VP(t,e){return{display:e.display!=null?e.display:t.display,startEditable:e.startEditable!=null?e.startEditable:t.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:t.durationEditable,constraints:t.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:t.overlap,allows:t.allows.concat(e.allows),backgroundColor:e.backgroundColor||t.backgroundColor,borderColor:e.borderColor||t.borderColor,textColor:e.textColor||t.textColor,classNames:t.classNames.concat(e.classNames)}}const LP={id:String,defaultAllDay:Boolean,url:String,format:String,events:M,eventDataTransform:M,success:M,failure:M};function NT(t,e,n=MT(e)){let r;if(typeof t=="string"?r={url:t}:typeof t=="function"||Array.isArray(t)?r={events:t}:typeof t=="object"&&t&&(r=t),r){let{refined:i,extra:s}=Hm(r,n),o=FP(i,e);if(o)return{_raw:t,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:i.defaultAllDay,eventDataTransform:i.eventDataTransform,success:i.success,failure:i.failure,publicId:i.id||"",sourceId:Oi(),sourceDefId:o.sourceDefId,meta:o.meta,ui:cc(i,e),extendedProps:s}}return null}function MT(t){return Object.assign(Object.assign(Object.assign({},uc),LP),t.pluginHooks.eventSourceRefiners)}function FP(t,e){let n=e.pluginHooks.eventSourceDefs;for(let r=n.length-1;r>=0;r-=1){let s=n[r].parseMeta(t);if(s)return{sourceDefId:r,meta:s}}return null}function UP(t,e,n,r,i){switch(e.type){case"RECEIVE_EVENTS":return jP(t,n[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,i);case"RESET_RAW_EVENTS":return BP(t,n[e.sourceId],e.rawEvents,r.activeRange,i);case"ADD_EVENTS":return $P(t,e.eventStore,r?r.activeRange:null,i);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return Xm(t,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?bi(t,r.activeRange,i):t;case"REMOVE_EVENTS":return PP(t,e.eventStore);case"REMOVE_EVENT_SOURCE":return VT(t,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return nd(t,s=>!s.sourceId);case"REMOVE_ALL_EVENTS":return gn();default:return t}}function jP(t,e,n,r,i,s){if(e&&n===e.latestFetchId){let o=Ra(OT(i,e,s),e,s);return r&&(o=bi(o,r,s)),Xm(VT(t,e.sourceId),o)}return t}function BP(t,e,n,r,i){const{defIdMap:s,instanceIdMap:o}=zP(t);let a=Ra(OT(n,e,i),e,i,!1,s,o);return bi(a,r,i)}function OT(t,e,n){let r=n.options.eventDataTransform,i=e?e.eventDataTransform:null;return i&&(t=Q0(t,i)),r&&(t=Q0(t,r)),t}function Q0(t,e){let n;if(!e)n=t;else{n=[];for(let r of t){let i=e(r);i?n.push(i):i==null&&n.push(r)}}return n}function $P(t,e,n,r){return n&&(e=bi(e,n,r)),Xm(t,e)}function Y0(t,e,n){let{defs:r}=t,i=Vi(t.instances,s=>r[s.defId].allDay?s:Object.assign(Object.assign({},s),{range:{start:n.createMarker(e.toDate(s.range.start,s.forcedStartTzo)),end:n.createMarker(e.toDate(s.range.end,s.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:s.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:s.forcedEndTzo}));return{defs:r,instances:i}}function VT(t,e){return nd(t,n=>n.sourceId!==e)}function HP(t,e){return{defs:t.defs,instances:Ci(t.instances,n=>!e[n.instanceId])}}function zP(t){const{defs:e,instances:n}=t,r={},i={};for(let s in e){const o=e[s],{publicId:a}=o;a&&(r[a]=s)}for(let s in n){const o=n[s],a=e[o.defId],{publicId:l}=a;l&&(i[l]=s)}return{defIdMap:r,instanceIdMap:i}}class rd{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,n){WP(this.handlers,e,n)}off(e,n){qP(this.handlers,e,n)}trigger(e,...n){let r=this.handlers[e]||[],i=this.options&&this.options[e],s=[].concat(i||[],r);for(let o of s)o.apply(this.thisContext,n)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function WP(t,e,n){(t[e]||(t[e]=[])).push(n)}function qP(t,e,n){n?t[e]&&(t[e]=t[e].filter(r=>r!==n)):delete t[e]}const GP={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function QP(t,e){return Ra(YP(t),null,e)}function YP(t){let e;return t===!0?e=[{}]:Array.isArray(t)?e=t.filter(n=>n.daysOfWeek):typeof t=="object"&&t?e=[t]:e=[],e=e.map(n=>Object.assign(Object.assign({},GP),n)),e}function LT(t,e,n){n.emitter.trigger("select",Object.assign(Object.assign({},Zm(t,n)),{jsEvent:e?e.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function KP(t,e){e.emitter.trigger("unselect",{jsEvent:t?t.origEvent:null,view:e.viewApi||e.calendarApi.view})}function Zm(t,e){let n={};for(let r of e.pluginHooks.dateSpanTransforms)Object.assign(n,r(t,e));return Object.assign(n,dN(t,e.dateEnv)),n}function K0(t,e,n){let{dateEnv:r,options:i}=n,s=e;return t?(s=be(s),s=r.add(s,i.defaultAllDayEventDuration)):s=r.add(s,i.defaultTimedEventDuration),s}function Jm(t,e,n,r){let i=dc(t.defs,e),s=gn();for(let o in t.defs){let a=t.defs[o];s.defs[o]=XP(a,i[o],n,r)}for(let o in t.instances){let a=t.instances[o],l=s.defs[a.defId];s.instances[o]=ZP(a,l,i[a.defId],n,r)}return s}function XP(t,e,n,r){let i=n.standardProps||{};i.hasEnd==null&&e.durationEditable&&(n.startDelta||n.endDelta)&&(i.hasEnd=!0);let s=Object.assign(Object.assign(Object.assign({},t),i),{ui:Object.assign(Object.assign({},t.ui),i.ui)});n.extendedProps&&(s.extendedProps=Object.assign(Object.assign({},s.extendedProps),n.extendedProps));for(let o of r.pluginHooks.eventDefMutationAppliers)o(s,n,r);return!s.hasEnd&&r.options.forceEventDuration&&(s.hasEnd=!0),s}function ZP(t,e,n,r,i){let{dateEnv:s}=i,o=r.standardProps&&r.standardProps.allDay===!0,a=r.standardProps&&r.standardProps.hasEnd===!1,l=Object.assign({},t);return o&&(l.range=RT(l.range)),r.datesDelta&&n.startEditable&&(l.range={start:s.add(l.range.start,r.datesDelta),end:s.add(l.range.end,r.datesDelta)}),r.startDelta&&n.durationEditable&&(l.range={start:s.add(l.range.start,r.startDelta),end:l.range.end}),r.endDelta&&n.durationEditable&&(l.range={start:l.range.start,end:s.add(l.range.end,r.endDelta)}),a&&(l.range={start:l.range.start,end:K0(e.allDay,l.range.start,i)}),e.allDay&&(l.range={start:be(l.range.start),end:be(l.range.end)}),l.range.end<l.range.start&&(l.range.end=K0(e.allDay,l.range.start,i)),l}class Ki{constructor(e,n){this.context=e,this.internalEventSource=n}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class Re{constructor(e,n,r){this._context=e,this._def=n,this._instance=r||null}setProp(e,n){if(e in kT)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")n=Eu[e](n),this.mutate({standardProps:{publicId:n}});else if(e in Eu)n=Eu[e](n),this.mutate({standardProps:{[e]:n}});else if(e in uc){let r=uc[e](n);e==="color"?r={backgroundColor:n,borderColor:n}:e==="editable"?r={startEditable:n,durationEditable:n}:r={[e]:n},this.mutate({standardProps:{ui:r}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,n){this.mutate({extendedProps:{[e]:n}})}setStart(e,n={}){let{dateEnv:r}=this._context,i=r.createMarker(e);if(i&&this._instance){let s=this._instance.range,o=hs(s.start,i,r,n.granularity);n.maintainDuration?this.mutate({datesDelta:o}):this.mutate({startDelta:o})}}setEnd(e,n={}){let{dateEnv:r}=this._context,i;if(!(e!=null&&(i=r.createMarker(e),!i))&&this._instance)if(i){let s=hs(this._instance.range.end,i,r,n.granularity);this.mutate({endDelta:s})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,n,r={}){let{dateEnv:i}=this._context,s={allDay:r.allDay},o=i.createMarker(e),a;if(o&&!(n!=null&&(a=i.createMarker(n),!a))&&this._instance){let l=this._instance.range;r.allDay===!0&&(l=RT(l));let c=hs(l.start,o,i,r.granularity);if(a){let d=hs(l.end,a,i,r.granularity);Sx(c,d)?this.mutate({datesDelta:c,standardProps:s}):this.mutate({startDelta:c,endDelta:d,standardProps:s})}else s.hasEnd=!1,this.mutate({datesDelta:c,standardProps:s})}}moveStart(e){let n=ce(e);n&&this.mutate({startDelta:n})}moveEnd(e){let n=ce(e);n&&this.mutate({endDelta:n})}moveDates(e){let n=ce(e);n&&this.mutate({datesDelta:n})}setAllDay(e,n={}){let r={allDay:e},{maintainDuration:i}=n;i==null&&(i=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(r.hasEnd=i),this.mutate({standardProps:r})}formatRange(e){let{dateEnv:n}=this._context,r=this._instance,i=Je(e);return this._def.hasEnd?n.formatRange(r.range.start,r.range.end,i,{forcedStartTzo:r.forcedStartTzo,forcedEndTzo:r.forcedEndTzo}):n.format(r.range.start,i,{forcedTzo:r.forcedStartTzo})}mutate(e){let n=this._instance;if(n){let r=this._def,i=this._context,{eventStore:s}=i.getCurrentData(),o=Km(s,n.instanceId);o=Jm(o,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,i);let l=new Re(i,r,n);this._def=o.defs[r.defId],this._instance=o.instances[n.instanceId],i.dispatch({type:"MERGE_EVENTS",eventStore:o}),i.emitter.trigger("eventChange",{oldEvent:l,event:this,relatedEvents:vi(o,i,n),revert(){i.dispatch({type:"RESET_EVENTS",eventStore:s})}})}}remove(){let e=this._context,n=FT(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:n}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:n})}})}get source(){let{sourceId:e}=this._def;return e?new Ki(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let n=this._def,{ui:r}=n,{startStr:i,endStr:s}=this,o={allDay:n.allDay};return n.title&&(o.title=n.title),i&&(o.start=i),s&&(o.end=s),n.publicId&&(o.id=n.publicId),n.groupId&&(o.groupId=n.groupId),n.url&&(o.url=n.url),r.display&&r.display!=="auto"&&(o.display=r.display),e.collapseColor&&r.backgroundColor&&r.backgroundColor===r.borderColor?o.color=r.backgroundColor:(r.backgroundColor&&(o.backgroundColor=r.backgroundColor),r.borderColor&&(o.borderColor=r.borderColor)),r.textColor&&(o.textColor=r.textColor),r.classNames.length&&(o.classNames=r.classNames),Object.keys(n.extendedProps).length&&(e.collapseExtendedProps?Object.assign(o,n.extendedProps):o.extendedProps=n.extendedProps),o}toJSON(){return this.toPlainObject()}}function FT(t){let e=t._def,n=t._instance;return{defs:{[e.defId]:e},instances:n?{[n.instanceId]:n}:{}}}function vi(t,e,n){let{defs:r,instances:i}=t,s=[],o=n?n.instanceId:"";for(let a in i){let l=i[a],c=r[l.defId];l.instanceId!==o&&s.push(new Re(e,c,l))}return s}function X0(t,e,n,r){let i={},s={},o={},a=[],l=[],c=dc(t.defs,e);for(let d in t.defs){let h=t.defs[d];c[h.defId].display==="inverse-background"&&(h.groupId?(i[h.groupId]=[],o[h.groupId]||(o[h.groupId]=h)):s[d]=[])}for(let d in t.instances){let h=t.instances[d],p=t.defs[h.defId],m=c[p.defId],v=h.range,T=!p.allDay&&r?IT(v,r):v,S=Ms(T,n);S&&(m.display==="inverse-background"?p.groupId?i[p.groupId].push(S):s[h.defId].push(S):m.display!=="none"&&(m.display==="background"?a:l).push({def:p,ui:m,instance:h,range:S,isStart:T.start&&T.start.valueOf()===S.start.valueOf(),isEnd:T.end&&T.end.valueOf()===S.end.valueOf()}))}for(let d in i){let h=i[d],p=q0(h,n);for(let m of p){let v=o[d],T=c[v.defId];a.push({def:v,ui:T,instance:null,range:m,isStart:!1,isEnd:!1})}}for(let d in s){let h=s[d],p=q0(h,n);for(let m of p)a.push({def:t.defs[d],ui:c[d],instance:null,range:m,isStart:!1,isEnd:!1})}return{bg:a,fg:l}}function Z0(t,e){t.fcSeg=e}function Os(t){return t.fcSeg||t.parentNode.fcSeg||null}function dc(t,e){return Vi(t,n=>UT(n,e))}function UT(t,e){let n=[];return e[""]&&n.push(e[""]),e[t.defId]&&n.push(e[t.defId]),n.push(t.ui),OP(n)}function JP(t,e){let n=t.map(eN);return n.sort((r,i)=>mx(r,i,e)),n.map(r=>r._seg)}function eN(t){let{eventRange:e}=t,n=e.def,r=e.instance?e.instance.range:e.range,i=r.start?r.start.valueOf():0,s=r.end?r.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},n.extendedProps),n),{id:n.publicId,start:i,end:s,duration:s-i,allDay:Number(n.allDay),_seg:t})}function tN(t,e){let{pluginHooks:n}=e,r=n.isDraggableTransformers,{def:i,ui:s}=t.eventRange,o=s.startEditable;for(let a of r)o=a(o,i,s,e);return o}function nN(t,e){return t.isStart&&t.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function rN(t,e){return t.isEnd&&t.eventRange.ui.durationEditable}function jT(t,e,n,r,i,s,o){let{dateEnv:a,options:l}=n,{displayEventTime:c,displayEventEnd:d}=l,h=t.eventRange.def,p=t.eventRange.instance;c==null&&(c=r!==!1),d==null&&(d=i!==!1);let m=p.range.start,v=p.range.end,T=t.start||t.eventRange.range.start,S=t.end||t.eventRange.range.end,y=be(m).valueOf()===be(T).valueOf(),E=be(Br(v,-1)).valueOf()===be(Br(S,-1)).valueOf();return c&&!h.allDay&&(y||E)?(T=y?m:T,S=E?v:S,d&&h.hasEnd?a.formatRange(T,S,e,{forcedStartTzo:p.forcedStartTzo,forcedEndTzo:p.forcedEndTzo}):a.format(T,e,{forcedTzo:p.forcedStartTzo})):""}function Zo(t,e,n){let r=t.eventRange.range;return{isPast:r.end<=e.start,isFuture:r.start>=e.end,isToday:e&&Nr(e,r.start)}}function iN(t){let e=["fc-event"];return t.isMirror&&e.push("fc-event-mirror"),t.isDraggable&&e.push("fc-event-draggable"),(t.isStartResizable||t.isEndResizable)&&e.push("fc-event-resizable"),t.isDragging&&e.push("fc-event-dragging"),t.isResizing&&e.push("fc-event-resizing"),t.isSelected&&e.push("fc-event-selected"),t.isStart&&e.push("fc-event-start"),t.isEnd&&e.push("fc-event-end"),t.isPast&&e.push("fc-event-past"),t.isToday&&e.push("fc-event-today"),t.isFuture&&e.push("fc-event-future"),e}function sN(t){return t.instance?t.instance.instanceId:`${t.def.defId}:${t.range.start.toISOString()}`}function BT(t,e){let{def:n,instance:r}=t.eventRange,{url:i}=n;if(i)return{href:i};let{emitter:s,options:o}=e,{eventInteractive:a}=o;return a==null&&(a=n.interactive,a==null&&(a=!!s.hasHandlers("eventClick"))),a?_T(l=>{s.trigger("eventClick",{el:l.target,event:new Re(e,n,r),jsEvent:l,view:e.viewApi})}):{}}const oN={start:M,end:M,allDay:Boolean};function aN(t,e,n){let r=lN(t,e),{range:i}=r;if(!i.start)return null;if(!i.end){if(n==null)return null;i.end=e.add(i.start,n)}return r}function lN(t,e){let{refined:n,extra:r}=Hm(t,oN),i=n.start?e.createMarkerMeta(n.start):null,s=n.end?e.createMarkerMeta(n.end):null,{allDay:o}=n;return o==null&&(o=i&&i.isTimeUnspecified&&(!s||s.isTimeUnspecified)),Object.assign({range:{start:i?i.marker:null,end:s?s.marker:null},allDay:o},r)}function uN(t,e){return SP(t.range,e.range)&&t.allDay===e.allDay&&cN(t,e)}function cN(t,e){for(let n in e)if(n!=="range"&&n!=="allDay"&&t[n]!==e[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}function dN(t,e){return Object.assign(Object.assign({},HT(t.range,e,t.allDay)),{allDay:t.allDay})}function $T(t,e,n){return Object.assign(Object.assign({},HT(t,e,n)),{timeZone:e.timeZone})}function HT(t,e,n){return{start:e.toDate(t.start),end:e.toDate(t.end),startStr:e.formatIso(t.start,{omitTime:n}),endStr:e.formatIso(t.end,{omitTime:n})}}function hN(t,e,n){let r=PT({editable:!1},n),i=rp(r.refined,r.extra,"",t.allDay,!0,n);return{def:i,ui:UT(i,e),instance:Qm(i.defId,t.range),range:t.range,isStart:!0,isEnd:!0}}function fN(t,e,n){let r=!1,i=function(a){r||(r=!0,e(a))},s=function(a){r||(r=!0,n(a))},o=t(i,s);o&&typeof o.then=="function"&&o.then(i,s)}class J0 extends Error{constructor(e,n){super(e),this.response=n}}function pN(t,e,n){t=t.toUpperCase();const r={method:t};return t==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(n):(r.body=new URLSearchParams(n),r.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,r).then(i=>{if(i.ok)return i.json().then(s=>[s,i],()=>{throw new J0("Failure parsing JSON",i)});throw new J0("Request failed",i)})}let Ch;function zT(){return Ch==null&&(Ch=mN()),Ch}function mN(){if(typeof document>"u")return!0;let t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.innerHTML="<table><tr><td><div></div></td></tr></table>",t.querySelector("table").style.height="100px",t.querySelector("div").style.height="100%",document.body.appendChild(t);let n=t.querySelector("div").offsetHeight>0;return document.body.removeChild(t),n}class gN extends Ne{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{lc(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{lc(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:n}=e,{forPrint:r}=this.state,i=r||n.height==="auto"||n.contentHeight==="auto",s=!i&&n.height!=null?n.height:"",o=["fc",r?"fc-media-print":"fc-media-screen",`fc-direction-${n.direction}`,e.theme.getClass("root")];return zT()||o.push("fc-liquid-hack"),e.children(o,s,i,r)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}class Ys{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}}function vN(t,e){return{component:t,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function eg(t){return{[t.component.uid]:t}}const sp={};class yN{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,n){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:n})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,n){let{currentDataManager:r}=this;r.currentCalendarOptionsRefiners[e]?r.emitter.on(e,n):console.warn(`Unknown listener name '${e}'`)}off(e,n){this.currentDataManager.emitter.off(e,n)}trigger(e,...n){this.currentDataManager.emitter.trigger(e,...n)}changeView(e,n){this.batchRendering(()=>{if(this.unselect(),n)if(n.start&&n.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:n});else{let{dateEnv:r}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:r.createMarker(n)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,n){let r=this.getCurrentData(),i;n=n||"day",i=r.viewSpecs[n]||this.getUnitViewSpec(n),this.unselect(),i?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:i.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:n,toolbarConfig:r}=this.getCurrentData(),i=[].concat(r.header?r.header.viewsWithButtons:[],r.footer?r.footer.viewsWithButtons:[]),s,o;for(let a in n)i.push(a);for(s=0;s<i.length;s+=1)if(o=n[i[s]],o&&o.singleUnit===e)return o;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:qa(e.calendarOptions.now,e.dateEnv)})}gotoDate(e){let n=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.createMarker(e)})}incrementDate(e){let n=this.getCurrentData(),r=ce(e);r&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.add(n.currentDate,r)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,n){let{dateEnv:r}=this.getCurrentData();return r.format(r.createMarker(e),Je(n))}formatRange(e,n,r){let{dateEnv:i}=this.getCurrentData();return i.formatRange(i.createMarker(e),i.createMarker(n),Je(r),r)}formatIso(e,n){let{dateEnv:r}=this.getCurrentData();return r.formatIso(r.createMarker(e),{omitTime:n})}select(e,n){let r;n==null?e.start!=null?r=e:r={start:e,end:null}:r={start:e,end:n};let i=this.getCurrentData(),s=aN(r,i.dateEnv,ce({days:1}));s&&(this.dispatch({type:"SELECT_DATES",selection:s}),LT(s,null,i))}unselect(e){let n=this.getCurrentData();n.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),KP(e,n))}addEvent(e,n){if(e instanceof Re){let o=e._def,a=e._instance;return this.getCurrentData().eventStore.defs[o.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:ip({def:o,instance:a})}),this.triggerEventAdd(e)),e}let r=this.getCurrentData(),i;if(n instanceof Ki)i=n.internalEventSource;else if(typeof n=="boolean")n&&([i]=Wm(r.eventSources));else if(n!=null){let o=this.getEventSourceById(n);if(!o)return console.warn(`Could not find an event source with ID "${n}"`),null;i=o.internalEventSource}let s=xT(e,i,r,!1);if(s){let o=new Re(r,s.def,s.def.recurringDef?null:s.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:ip(s)}),this.triggerEventAdd(o),o}return null}triggerEventAdd(e){let{emitter:n}=this.getCurrentData();n.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:FT(e)})}})}getEventById(e){let n=this.getCurrentData(),{defs:r,instances:i}=n.eventStore;e=String(e);for(let s in r){let o=r[s];if(o.publicId===e){if(o.recurringDef)return new Re(n,o,null);for(let a in i){let l=i[a];if(l.defId===o.defId)return new Re(n,o,l)}}}return null}getEvents(){let e=this.getCurrentData();return vi(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),n=e.eventSources,r=[];for(let i in n)r.push(new Ki(e,n[i]));return r}getEventSourceById(e){let n=this.getCurrentData(),r=n.eventSources;e=String(e);for(let i in r)if(r[i].publicId===e)return new Ki(n,r[i]);return null}addEventSource(e){let n=this.getCurrentData();if(e instanceof Ki)return n.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let r=NT(e,n);return r?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[r]}),new Ki(n,r)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let n=ce(e);n&&this.trigger("_scrollRequest",{time:n})}}function _N(t,e){return t.left>=e.left&&t.left<e.right&&t.top>=e.top&&t.top<e.bottom}function WT(t,e){let n={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return n.left<n.right&&n.top<n.bottom?n:!1}function EN(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function wN(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function SN(t,e){return{left:t.left-e.left,top:t.top-e.top}}function qT(t,e,n,r){return{dow:t.getUTCDay(),isDisabled:!!(r&&!Nr(r.activeRange,t)),isOther:!!(r&&!Nr(r.currentRange,t)),isToday:!!(e&&Nr(e,t)),isPast:!!(e&&t<e.start),isFuture:!!(e&&t>=e.end)}}function tg(t,e){let n=["fc-day",`fc-day-${bx[t.dow]}`];return t.isDisabled?n.push("fc-day-disabled"):(t.isToday&&(n.push("fc-day-today"),n.push(e.getClass("today"))),t.isPast&&n.push("fc-day-past"),t.isFuture&&n.push("fc-day-future"),t.isOther&&n.push("fc-day-other")),n}const TN=Je({year:"numeric",month:"long",day:"numeric"}),AN=Je({week:"long"});function op(t,e,n="day",r=!0){const{dateEnv:i,options:s,calendarApi:o}=t;let a=i.format(e,n==="week"?AN:TN);if(s.navLinks){let l=i.toDate(e);const c=d=>{let h=n==="day"?s.navLinkDayClick:n==="week"?s.navLinkWeekClick:null;typeof h=="function"?h.call(o,i.toDate(e),d):(typeof h=="string"&&(n=h),o.zoomTo(e,n))};return Object.assign({title:Ko(s.navLinkHint,[a,l],a),"data-navlink":""},r?yT(c):{onClick:c})}return{"aria-label":a}}let bh=null;function CN(){return bh===null&&(bh=bN()),bh}function bN(){let t=document.createElement("div");Yo(t,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),t.innerHTML="<div></div>",document.body.appendChild(t);let n=t.firstChild.getBoundingClientRect().left>t.getBoundingClientRect().left;return Fm(t),n}let Rh;function RN(){return Rh||(Rh=IN()),Rh}function IN(){let t=document.createElement("div");t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",document.body.appendChild(t);let e=GT(t);return document.body.removeChild(t),e}function GT(t){return{x:t.offsetHeight-t.clientHeight,y:t.offsetWidth-t.clientWidth}}function DN(t,e=!1){let n=window.getComputedStyle(t),r=parseInt(n.borderLeftWidth,10)||0,i=parseInt(n.borderRightWidth,10)||0,s=parseInt(n.borderTopWidth,10)||0,o=parseInt(n.borderBottomWidth,10)||0,a=GT(t),l=a.y-r-i,c=a.x-s-o,d={borderLeft:r,borderRight:i,borderTop:s,borderBottom:o,scrollbarBottom:c,scrollbarLeft:0,scrollbarRight:0};return CN()&&n.direction==="rtl"?d.scrollbarLeft=l:d.scrollbarRight=l,e&&(d.paddingLeft=parseInt(n.paddingLeft,10)||0,d.paddingRight=parseInt(n.paddingRight,10)||0,d.paddingTop=parseInt(n.paddingTop,10)||0,d.paddingBottom=parseInt(n.paddingBottom,10)||0),d}function kN(t,e=!1,n){let r=ng(t),i=DN(t,e),s={left:r.left+i.borderLeft+i.scrollbarLeft,right:r.right-i.borderRight-i.scrollbarRight,top:r.top+i.borderTop,bottom:r.bottom-i.borderBottom-i.scrollbarBottom};return e&&(s.left+=i.paddingLeft,s.right-=i.paddingRight,s.top+=i.paddingTop,s.bottom-=i.paddingBottom),s}function ng(t){let e=t.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function xN(t){let e=QT(t),n=t.getBoundingClientRect();for(let r of e){let i=WT(n,r.getBoundingClientRect());if(i)n=i;else return null}return n}function QT(t){let e=[];for(;t instanceof HTMLElement;){let n=window.getComputedStyle(t);if(n.position==="fixed")break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&e.push(t),t=t.parentNode}return e}class hc{constructor(e,n,r,i){this.els=n;let s=this.originClientRect=e.getBoundingClientRect();r&&this.buildElHorizontals(s.left),i&&this.buildElVerticals(s.top)}buildElHorizontals(e){let n=[],r=[];for(let i of this.els){let s=i.getBoundingClientRect();n.push(s.left-e),r.push(s.right-e)}this.lefts=n,this.rights=r}buildElVerticals(e){let n=[],r=[];for(let i of this.els){let s=i.getBoundingClientRect();n.push(s.top-e),r.push(s.bottom-e)}this.tops=n,this.bottoms=r}leftToIndex(e){let{lefts:n,rights:r}=this,i=n.length,s;for(s=0;s<i;s+=1)if(e>=n[s]&&e<r[s])return s}topToIndex(e){let{tops:n,bottoms:r}=this,i=n.length,s;for(s=0;s<i;s+=1)if(e>=n[s]&&e<r[s])return s}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return Hl(this.tops||[],e.tops||[])&&Hl(this.bottoms||[],e.bottoms||[])&&Hl(this.lefts||[],e.lefts||[])&&Hl(this.rights||[],e.rights||[])}}function Hl(t,e){const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(Math.round(t[r])!==Math.round(e[r]))return!1;return!0}class rg{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class PN extends rg{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class NN extends rg{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class Ui extends Ne{constructor(){super(...arguments),this.uid=Oi()}prepareHits(){}queryHit(e,n,r,i){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!_t(e,".fc-event-mirror")}isValidDateDownEl(e){return!_t(e,".fc-event:not(.fc-bg-event)")&&!_t(e,".fc-more-link")&&!_t(e,"a[data-navlink]")&&!_t(e,".fc-popover")}}class MN{constructor(e=n=>n.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let n=[];for(let r of e)this.insertEntry(r,n);return n}insertEntry(e,n){let r=this.findInsertion(e);this.isInsertionValid(r,e)?this.insertEntryAt(e,r):this.handleInvalidInsertion(r,e,n)}isInsertionValid(e,n){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(n)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,n,r){if(this.allowReslicing&&e.touchingEntry){const i=Object.assign(Object.assign({},n),{span:YT(n.span,e.touchingEntry.span)});r.push(i),this.splitEntry(n,e.touchingEntry,r)}else r.push(n)}splitEntry(e,n,r){let i=e.span,s=n.span;i.start<s.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:i.start,end:s.start}},r),i.end>s.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:s.end,end:i.end}},r)}insertEntryAt(e,n){let{entriesByLevel:r,levelCoords:i}=this;n.lateral===-1?(Ih(i,n.level,n.levelCoord),Ih(r,n.level,[e])):Ih(r[n.level],n.lateral,e),this.stackCnts[Jo(e)]=n.stackCnt}findInsertion(e){let{levelCoords:n,entriesByLevel:r,strictOrder:i,stackCnts:s}=this,o=n.length,a=0,l=-1,c=-1,d=null,h=0;for(let v=0;v<o;v+=1){const T=n[v];if(!i&&T>=a+this.getEntryThickness(e))break;let S=r[v],y,E=t_(S,e.span.start,e_),A=E[0]+E[1];for(;(y=S[A])&&y.span.start<e.span.end;){let x=T+this.getEntryThickness(y);x>a&&(a=x,d=y,l=v,c=A),x===a&&(h=Math.max(h,s[Jo(y)]+1)),A+=1}}let p=0;if(d)for(p=l+1;p<o&&n[p]<a;)p+=1;let m=-1;return p<o&&n[p]===a&&(m=t_(r[p],e.span.end,e_)[0]),{touchingLevel:l,touchingLateral:c,touchingEntry:d,stackCnt:h,levelCoord:a,level:p,lateral:m}}toRects(){let{entriesByLevel:e,levelCoords:n}=this,r=e.length,i=[];for(let s=0;s<r;s+=1){let o=e[s],a=n[s];for(let l of o)i.push(Object.assign(Object.assign({},l),{thickness:this.getEntryThickness(l),levelCoord:a}))}return i}}function e_(t){return t.span.end}function Jo(t){return t.index+":"+t.span.start}function YT(t,e){let n=Math.max(t.start,e.start),r=Math.min(t.end,e.end);return n<r?{start:n,end:r}:null}function Ih(t,e,n){t.splice(e,0,n)}function t_(t,e,n){let r=0,i=t.length;if(!i||e<n(t[r]))return[0,0];if(e>n(t[i-1]))return[i,0];for(;r<i;){let s=Math.floor(r+(i-r)/2),o=n(t[s]);if(e<o)i=s;else if(e>o)r=s+1;else return[s,1]}return[r,0]}class ON{constructor(e,n){this.emitter=new rd}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const ig={};function VN(t,e){return!t||e>10?Je({weekday:"short"}):e>1?Je({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):Je({weekday:"long"})}const KT="fc-col-header-cell";function XT(t){return t.text}class LN extends Ne{render(){let{dateEnv:e,options:n,theme:r,viewApi:i}=this.context,{props:s}=this,{date:o,dateProfile:a}=s,l=qT(o,s.todayRange,null,a),c=[KT].concat(tg(l,r)),d=e.format(o,s.dayHeaderFormat),h=!l.isDisabled&&s.colCnt>1?op(this.context,o):{},p=Object.assign(Object.assign(Object.assign({date:e.toDate(o),view:i},s.extraRenderProps),{text:d}),l);return O(nr,{elTag:"th",elClasses:c,elAttrs:Object.assign({role:"columnheader",colSpan:s.colSpan,"data-date":l.isDisabled?void 0:Bm(o)},s.extraDataAttrs),renderProps:p,generatorName:"dayHeaderContent",customGenerator:n.dayHeaderContent,defaultGenerator:XT,classNameGenerator:n.dayHeaderClassNames,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},m=>O("div",{className:"fc-scrollgrid-sync-inner"},!l.isDisabled&&O(m,{elTag:"a",elAttrs:h,elClasses:["fc-col-header-cell-cushion",s.isSticky&&"fc-sticky"]})))}}const FN=Je({weekday:"long"});class UN extends Ne{render(){let{props:e}=this,{dateEnv:n,theme:r,viewApi:i,options:s}=this.context,o=wt(new Date(2592e5),e.dow),a={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},l=n.format(o,e.dayHeaderFormat),c=Object.assign(Object.assign(Object.assign(Object.assign({date:o},a),{view:i}),e.extraRenderProps),{text:l});return O(nr,{elTag:"th",elClasses:[KT,...tg(a,r),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:c,generatorName:"dayHeaderContent",customGenerator:s.dayHeaderContent,defaultGenerator:XT,classNameGenerator:s.dayHeaderClassNames,didMount:s.dayHeaderDidMount,willUnmount:s.dayHeaderWillUnmount},d=>O("div",{className:"fc-scrollgrid-sync-inner"},O(d,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":n.format(o,FN)}})))}}class sg extends Ht{constructor(e,n){super(e,n),this.initialNowDate=qa(n.options.now,n.dateEnv),this.initialNowQueriedMs=new Date().valueOf(),this.state=this.computeTiming().currentState}render(){let{props:e,state:n}=this;return e.children(n.nowDate,n.todayRange)}componentDidMount(){this.setTimeout()}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout()}computeTiming(){let{props:e,context:n}=this,r=Br(this.initialNowDate,new Date().valueOf()-this.initialNowQueriedMs),i=n.dateEnv.startOf(r,e.unit),s=n.dateEnv.add(i,ce(1,e.unit)),o=s.valueOf()-r.valueOf();return o=Math.min(1e3*60*60*24,o),{currentState:{nowDate:i,todayRange:n_(i)},nextState:{nowDate:s,todayRange:n_(s)},waitMs:o}}setTimeout(){let{nextState:e,waitMs:n}=this.computeTiming();this.timeoutId=setTimeout(()=>{this.setState(e,()=>{this.setTimeout()})},n)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}sg.contextType=Li;function n_(t){let e=be(t),n=wt(e,1);return{start:e,end:n}}class jN extends Ne{constructor(){super(...arguments),this.createDayHeaderFormatter=de(BN)}render(){let{context:e}=this,{dates:n,dateProfile:r,datesRepDistinctDays:i,renderIntro:s}=this.props,o=this.createDayHeaderFormatter(e.options.dayHeaderFormat,i,n.length);return O(sg,{unit:"day"},(a,l)=>O("tr",{role:"row"},s&&s("day"),n.map(c=>i?O(LN,{key:c.toISOString(),date:c,dateProfile:r,todayRange:l,colCnt:n.length,dayHeaderFormat:o}):O(UN,{key:c.getUTCDay(),dow:c.getUTCDay(),dayHeaderFormat:o}))))}}function BN(t,e,n){return t||VN(e,n)}class $N{constructor(e,n){let r=e.start,{end:i}=e,s=[],o=[],a=-1;for(;r<i;)n.isHiddenDay(r)?s.push(a+.5):(a+=1,s.push(a),o.push(r)),r=wt(r,1);this.dates=o,this.indices=s,this.cnt=o.length}sliceRange(e){let n=this.getDateDayIndex(e.start),r=this.getDateDayIndex(wt(e.end,-1)),i=Math.max(0,n),s=Math.min(this.cnt-1,r);return i=Math.ceil(i),s=Math.floor(s),i<=s?{firstIndex:i,lastIndex:s,isStart:n===i,isEnd:r===s}:null}getDateDayIndex(e){let{indices:n}=this,r=Math.floor(Qs(this.dates[0],e));return r<0?n[0]-1:r>=n.length?n[n.length-1]+1:n[r]}}class HN{constructor(e,n){let{dates:r}=e,i,s,o;if(n){for(s=r[0].getUTCDay(),i=1;i<r.length&&r[i].getUTCDay()!==s;i+=1);o=Math.ceil(r.length/i)}else o=1,i=r.length;this.rowCnt=o,this.colCnt=i,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let n=0;n<this.rowCnt;n+=1){let r=[];for(let i=0;i<this.colCnt;i+=1)r.push(this.buildCell(n,i));e.push(r)}return e}buildCell(e,n){let r=this.daySeries.dates[e*this.colCnt+n];return{key:r.toISOString(),date:r}}buildHeaderDates(){let e=[];for(let n=0;n<this.colCnt;n+=1)e.push(this.cells[0][n].date);return e}sliceRange(e){let{colCnt:n}=this,r=this.daySeries.sliceRange(e),i=[];if(r){let{firstIndex:s,lastIndex:o}=r,a=s;for(;a<=o;){let l=Math.floor(a/n),c=Math.min((l+1)*n,o+1);i.push({row:l,firstCol:a%n,lastCol:(c-1)%n,isStart:r.isStart&&a===s,isEnd:r.isEnd&&c-1===o}),a=c}}return i}}class zN{constructor(){this.sliceBusinessHours=de(this._sliceBusinessHours),this.sliceDateSelection=de(this._sliceDateSpan),this.sliceEventStore=de(this._sliceEventStore),this.sliceEventDrag=de(this._sliceInteraction),this.sliceEventResize=de(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,n,r,i,...s){let{eventUiBases:o}=e,a=this.sliceEventStore(e.eventStore,o,n,r,...s);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,n,r,o,i,...s),businessHourSegs:this.sliceBusinessHours(e.businessHours,n,r,i,...s),fgEventSegs:a.fg,bgEventSegs:a.bg,eventDrag:this.sliceEventDrag(e.eventDrag,o,n,r,...s),eventResize:this.sliceEventResize(e.eventResize,o,n,r,...s),eventSelection:e.eventSelection}}sliceNowDate(e,n,r,i,...s){return this._sliceDateSpan({range:{start:e,end:Br(e,1)},allDay:!1},n,r,{},i,...s)}_sliceBusinessHours(e,n,r,i,...s){return e?this._sliceEventStore(bi(e,zl(n,!!r),i),{},n,r,...s).bg:[]}_sliceEventStore(e,n,r,i,...s){if(e){let o=X0(e,n,zl(r,!!i),i);return{bg:this.sliceEventRanges(o.bg,s),fg:this.sliceEventRanges(o.fg,s)}}return{bg:[],fg:[]}}_sliceInteraction(e,n,r,i,...s){if(!e)return null;let o=X0(e.mutatedEvents,n,zl(r,!!i),i);return{segs:this.sliceEventRanges(o.fg,s),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,n,r,i,s,...o){if(!e)return[];let a=zl(n,!!r),l=Ms(e.range,a);if(l){e=Object.assign(Object.assign({},e),{range:l});let c=hN(e,i,s),d=this.sliceRange(e.range,...o);for(let h of d)h.eventRange=c;return d}return[]}sliceEventRanges(e,n){let r=[];for(let i of e)r.push(...this.sliceEventRange(i,n));return r}sliceEventRange(e,n){let r=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(r={start:r.start,end:wt(r.start,1)});let i=this.sliceRange(r,...n);for(let s of i)s.eventRange=e,s.isStart=e.isStart&&s.isStart,s.isEnd=e.isEnd&&s.isEnd;return i}}function zl(t,e){let n=t.activeRange;return e?n:{start:Br(n.start,t.slotMinTime.milliseconds),end:Br(n.end,t.slotMaxTime.milliseconds-864e5)}}function ZT(t,e,n){let{instances:r}=t.mutatedEvents;for(let i in r)if(!td(e.validRange,r[i].range))return!1;return JT({eventDrag:t},n)}function WN(t,e,n){return td(e.validRange,t.range)?JT({dateSelection:t},n):!1}function JT(t,e){let n=e.getCurrentData(),r=Object.assign({businessHours:n.businessHours,dateSelection:"",eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},t);return(e.pluginHooks.isPropsValid||qN)(r,e)}function qN(t,e,n={},r){return!(t.eventDrag&&!GN(t,e,n,r)||t.dateSelection&&!QN(t,e,n,r))}function GN(t,e,n,r){let i=e.getCurrentData(),s=t.eventDrag,o=s.mutatedEvents,a=o.defs,l=o.instances,c=dc(a,s.isEvent?t.eventUiBases:{"":i.selectionConfig});r&&(c=Vi(c,r));let d=HP(t.eventStore,s.affectedEvents.instances),h=d.defs,p=d.instances,m=dc(h,t.eventUiBases);for(let v in l){let T=l[v],S=T.range,y=c[T.defId],E=a[T.defId];if(!eA(y.constraints,S,d,t.businessHours,e))return!1;let{eventOverlap:A}=e.options,x=typeof A=="function"?A:null;for(let L in p){let C=p[L];if(Gm(S,C.range)&&(m[C.defId].overlap===!1&&s.isEvent||y.overlap===!1||x&&!x(new Re(e,h[C.defId],C),new Re(e,E,T))))return!1}let F=i.eventStore;for(let L of y.allows){let C=Object.assign(Object.assign({},n),{range:T.range,allDay:E.allDay}),_=F.defs[E.defId],b=F.instances[v],R;if(_?R=new Re(e,_,b):R=new Re(e,E),!L(Zm(C,e),R))return!1}}return!0}function QN(t,e,n,r){let i=t.eventStore,s=i.defs,o=i.instances,a=t.dateSelection,l=a.range,{selectionConfig:c}=e.getCurrentData();if(r&&(c=r(c)),!eA(c.constraints,l,i,t.businessHours,e))return!1;let{selectOverlap:d}=e.options,h=typeof d=="function"?d:null;for(let p in o){let m=o[p];if(Gm(l,m.range)&&(c.overlap===!1||h&&!h(new Re(e,s[m.defId],m),null)))return!1}for(let p of c.allows){let m=Object.assign(Object.assign({},n),a);if(!p(Zm(m,e),null))return!1}return!0}function eA(t,e,n,r,i){for(let s of t)if(!KN(YN(s,e,n,r,i),e))return!1;return!0}function YN(t,e,n,r,i){return t==="businessHours"?Dh(bi(r,e,i)):typeof t=="string"?Dh(nd(n,s=>s.groupId===t)):typeof t=="object"&&t?Dh(bi(t,e,i)):[]}function Dh(t){let{instances:e}=t,n=[];for(let r in e)n.push(e[r].range);return n}function KN(t,e){for(let n of t)if(td(n,e))return!0;return!1}const Wl=/^(visible|hidden)$/;class XN extends Ne{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,Xn(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:n,liquidIsAbsolute:r}=e,i=n&&r,s=["fc-scroller"];return n&&(r?s.push("fc-scroller-liquid-absolute"):s.push("fc-scroller-liquid")),O("div",{ref:this.handleEl,className:s.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:i&&-(e.overcomeLeft||0)||"",right:i&&-(e.overcomeRight||0)||"",bottom:i&&-(e.overcomeBottom||0)||"",marginLeft:!i&&-(e.overcomeLeft||0)||"",marginRight:!i&&-(e.overcomeRight||0)||"",marginBottom:!i&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(Wl.test(this.props.overflowX))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:r}=e;for(let i=0;i<r.length;i+=1)if(r[i].getBoundingClientRect().width>n)return!0;return!1}needsYScrolling(){if(Wl.test(this.props.overflowY))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:r}=e;for(let i=0;i<r.length;i+=1)if(r[i].getBoundingClientRect().height>n)return!0;return!1}getXScrollbarWidth(){return Wl.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return Wl.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class hi{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(n,r)=>{let{depths:i,currentMap:s}=this,o=!1,a=!1;n!==null?(o=r in s,s[r]=n,i[r]=(i[r]||0)+1,a=!0):(i[r]-=1,i[r]||(delete s[r],delete this.callbackMap[r],o=!0)),this.masterCallback&&(o&&this.masterCallback(null,String(r)),a&&this.masterCallback(n,String(r)))}}createRef(e){let n=this.callbackMap[e];return n||(n=this.callbackMap[e]=r=>{this.handleValue(r,String(e))}),n}collect(e,n,r){return sP(this.currentMap,e,n,r)}getAll(){return Wm(this.currentMap)}}function ZN(t){let e=sx(t,".fc-scrollgrid-shrink"),n=0;for(let r of e)n=Math.max(n,_x(r));return Math.ceil(n)}function tA(t,e){return t.liquid&&e.liquid}function JN(t,e){return e.maxHeight!=null||tA(t,e)}function eM(t,e,n,r){let{expandRows:i}=n;return typeof e.content=="function"?e.content(n):O("table",{role:"presentation",className:[e.tableClassName,t.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:i?n.clientHeight:""}},n.tableColGroupNode,O(r?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(n):e.rowContent))}function tM(t,e){return jr(t,e,Pn)}function nM(t,e){let n=[];for(let r of t){let i=r.span||1;for(let s=0;s<i;s+=1)n.push(O("col",{style:{width:r.width==="shrink"?rM(e):r.width||"",minWidth:r.minWidth||""}}))}return O("colgroup",{},...n)}function rM(t){return t??4}function iM(t){for(let e of t)if(e.width==="shrink")return!0;return!1}function sM(t,e){let n=["fc-scrollgrid",e.theme.getClass("table")];return t&&n.push("fc-scrollgrid-liquid"),n}function oM(t,e){let n=["fc-scrollgrid-section",`fc-scrollgrid-section-${t.type}`,t.className];return e&&t.liquid&&t.maxHeight==null&&n.push("fc-scrollgrid-section-liquid"),t.isSticky&&n.push("fc-scrollgrid-section-sticky"),n}function aM(t){return O("div",{className:"fc-scrollgrid-sticky-shim",style:{width:t.clientWidth,minWidth:t.tableMinWidth}})}function r_(t){let{stickyHeaderDates:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}function lM(t){let{stickyFooterScrollbar:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}class nA extends Ne{constructor(){super(...arguments),this.processCols=de(e=>e,tM),this.renderMicroColGroup=de(nM),this.scrollerRefs=new hi,this.scrollerElRefs=new hi(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:n,context:r}=this,i=e.sections||[],s=this.processCols(e.cols),o=this.renderMicroColGroup(s,n.shrinkWidth),a=sM(e.liquid,r);e.collapsibleWidth&&a.push("fc-scrollgrid-collapsible");let l=i.length,c=0,d,h=[],p=[],m=[];for(;c<l&&(d=i[c]).type==="header";)h.push(this.renderSection(d,o,!0)),c+=1;for(;c<l&&(d=i[c]).type==="body";)p.push(this.renderSection(d,o,!1)),c+=1;for(;c<l&&(d=i[c]).type==="footer";)m.push(this.renderSection(d,o,!0)),c+=1;let v=!zT();const T={role:"rowgroup"};return O("table",{role:"grid",className:a.join(" "),style:{height:e.height}},!!(!v&&h.length)&&O("thead",T,...h),!!(!v&&p.length)&&O("tbody",T,...p),!!(!v&&m.length)&&O("tfoot",T,...m),v&&O("tbody",T,...h,...p,...m))}renderSection(e,n,r){return"outerContent"in e?O(Ue,{key:e.key},e.outerContent):O("tr",{key:e.key,role:"presentation",className:oM(e,this.props.liquid).join(" ")},this.renderChunkTd(e,n,e.chunk,r))}renderChunkTd(e,n,r,i){if("outerContent"in r)return r.outerContent;let{props:s}=this,{forceYScrollbars:o,scrollerClientWidths:a,scrollerClientHeights:l}=this.state,c=JN(s,e),d=tA(s,e),h=s.liquid?o?"scroll":c?"auto":"hidden":"visible",p=e.key,m=eM(e,r,{tableColGroupNode:n,tableMinWidth:"",clientWidth:!s.collapsibleWidth&&a[p]!==void 0?a[p]:null,clientHeight:l[p]!==void 0?l[p]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},i);return O(i?"th":"td",{ref:r.elRef,role:"presentation"},O("div",{className:`fc-scroller-harness${d?" fc-scroller-harness-liquid":""}`},O(XN,{ref:this.scrollerRefs.createRef(p),elRef:this.scrollerElRefs.createRef(p),overflowY:h,overflowX:s.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:d,liquidIsAbsolute:!0},m)))}_handleScrollerEl(e,n){let r=uM(this.props.sections,n);r&&Xn(r.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return iM(this.props.cols)?ZN(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=RN(),{scrollerRefs:n,scrollerElRefs:r}=this,i=!1,s={},o={};for(let a in n.currentMap){let l=n.currentMap[a];if(l&&l.needsYScrolling()){i=!0;break}}for(let a of this.props.sections){let l=a.key,c=r.currentMap[l];if(c){let d=c.parentNode;s[l]=Math.floor(d.getBoundingClientRect().width-(i?e.y:0)),o[l]=Math.floor(d.getBoundingClientRect().height)}}return{forceYScrollbars:i,scrollerClientWidths:s,scrollerClientHeights:o}}}nA.addStateEquality({scrollerClientWidths:Pn,scrollerClientHeights:Pn});function uM(t,e){for(let n of t)if(n.key===e)return n;return null}class og extends Ne{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,e&&Z0(e,this.props.seg)}}render(){const{props:e,context:n}=this,{options:r}=n,{seg:i}=e,{eventRange:s}=i,{ui:o}=s,a={event:new Re(n,s.def,s.instance),view:n.viewApi,timeText:e.timeText,textColor:o.textColor,backgroundColor:o.backgroundColor,borderColor:o.borderColor,isDraggable:!e.disableDragging&&tN(i,n),isStartResizable:!e.disableResizing&&nN(i,n),isEndResizable:!e.disableResizing&&rN(i),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!i.isStart,isEnd:!!i.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return O(nr,Object.assign({},e,{elRef:this.handleEl,elClasses:[...iN(a),...i.eventRange.ui.classNames,...e.elClasses||[]],renderProps:a,generatorName:"eventContent",customGenerator:r.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.eventClassNames,didMount:r.eventDidMount,willUnmount:r.eventWillUnmount}))}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&Z0(this.el,this.props.seg)}}class cM extends Ne{render(){let{props:e,context:n}=this,{options:r}=n,{seg:i}=e,{ui:s}=i.eventRange,o=r.eventTimeFormat||e.defaultTimeFormat,a=jT(i,o,n,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return O(og,Object.assign({},e,{elTag:"a",elStyle:{borderColor:s.borderColor,backgroundColor:s.backgroundColor},elAttrs:BT(i,n),defaultGenerator:dM,timeText:a}),(l,c)=>O(Ue,null,O(l,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:c.textColor}}),!!c.isStartResizable&&O("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!c.isEndResizable&&O("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}function dM(t){return O("div",{className:"fc-event-main-frame"},t.timeText&&O("div",{className:"fc-event-time"},t.timeText),O("div",{className:"fc-event-title-container"},O("div",{className:"fc-event-title fc-sticky"},t.event.title||O(Ue,null," "))))}const hM=Je({day:"numeric"});class rA extends Ne{constructor(){super(...arguments),this.refineRenderProps=_u(fM)}render(){let{props:e,context:n}=this,{options:r}=n,i=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:n.viewApi,dateEnv:n.dateEnv,monthStartFormat:r.monthStartFormat});return O(nr,Object.assign({},e,{elClasses:[...tg(i,n.theme),...e.elClasses||[]],elAttrs:Object.assign(Object.assign({},e.elAttrs),i.isDisabled?{}:{"data-date":Bm(e.date)}),renderProps:i,generatorName:"dayCellContent",customGenerator:r.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:i.isDisabled?void 0:r.dayCellClassNames,didMount:r.dayCellDidMount,willUnmount:r.dayCellWillUnmount}))}}function iA(t){return!!(t.dayCellContent||np("dayCellContent",t))}function fM(t){let{date:e,dateEnv:n,dateProfile:r,isMonthStart:i}=t,s=qT(e,t.todayRange,null,r),o=t.showDayNumber?n.format(e,i?t.monthStartFormat:hM):"";return Object.assign(Object.assign(Object.assign({date:n.toDate(e),view:t.viewApi},s),{isMonthStart:i,dayNumberText:o}),t.extraRenderProps)}class pM extends Ne{render(){let{props:e}=this,{seg:n}=e;return O(og,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:n.eventRange.ui.backgroundColor},defaultGenerator:mM,seg:n,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function mM(t){let{title:e}=t.event;return e&&O("div",{className:"fc-event-title"},t.event.title)}function gM(t){return O("div",{className:`fc-${t}`})}const vM=t=>O(Li.Consumer,null,e=>{let{dateEnv:n,options:r}=e,{date:i}=t,s=r.weekNumberFormat||t.defaultFormat,o=n.computeWeekNumber(i),a=n.format(i,s);return O(nr,Object.assign({},t,{renderProps:{num:o,text:a,date:i},generatorName:"weekNumberContent",customGenerator:r.weekNumberContent,defaultGenerator:yM,classNameGenerator:r.weekNumberClassNames,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount}))});function yM(t){return t.text}const kh=10;class _M extends Ne{constructor(){super(...arguments),this.state={titleId:Jc()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&Xn(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const n=gT(e);this.rootEl.contains(n)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:n}=this.context,{props:r,state:i}=this,s=["fc-popover",e.getClass("popover")].concat(r.extraClassNames||[]);return Wk(O("div",Object.assign({},r.extraAttrs,{id:r.id,className:s.join(" "),"aria-labelledby":i.titleId,ref:this.handleRootEl}),O("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},O("span",{className:"fc-popover-title",id:i.titleId},r.title),O("span",{className:"fc-popover-close "+e.getIconClass("close"),title:n.closeHint,onClick:this.handleCloseClick})),O("div",{className:"fc-popover-body "+e.getClass("popoverContent")},r.children)),r.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:n,alignGridTop:r}=this.props,{rootEl:i}=this,s=xN(n);if(s){let o=i.getBoundingClientRect(),a=r?_t(n,".fc-scrollgrid").getBoundingClientRect().top:s.top,l=e?s.right-o.width:s.left;a=Math.max(a,kh),l=Math.min(l,document.documentElement.clientWidth-kh-o.width),l=Math.max(l,kh);let c=i.offsetParent.getBoundingClientRect();Yo(i,{top:a-c.top,left:l-c.left})}}}class EM extends Ui{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:n}=this.context,{props:r}=this,{startDate:i,todayRange:s,dateProfile:o}=r,a=n.format(i,e.dayPopoverFormat);return O(rA,{elRef:this.handleRootEl,date:i,dateProfile:o,todayRange:s},(l,c,d)=>O(_M,{elRef:d.ref,id:r.id,title:a,extraClassNames:["fc-more-popover"].concat(d.className||[]),extraAttrs:d,parentEl:r.parentEl,alignmentEl:r.alignmentEl,alignGridTop:r.alignGridTop,onClose:r.onClose},iA(e)&&O(l,{elTag:"div",elClasses:["fc-more-popover-misc"]}),r.children))}queryHit(e,n,r,i){let{rootEl:s,props:o}=this;return e>=0&&e<r&&n>=0&&n<i?{dateProfile:o.dateProfile,dateSpan:Object.assign({allDay:!o.forceTimed,range:{start:o.startDate,end:o.endDate}},o.extraDateSpan),dayEl:s,rect:{left:0,top:0,right:r,bottom:i},layer:1}:null}}class wM extends Ne{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:Jc()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&Xn(this.props.elRef,e)},this.handleClick=e=>{let{props:n,context:r}=this,{moreLinkClick:i}=r.options,s=i_(n).start;function o(a){let{def:l,instance:c,range:d}=a.eventRange;return{event:new Re(r,l,c),start:r.dateEnv.toDate(d.start),end:r.dateEnv.toDate(d.end),isStart:a.isStart,isEnd:a.isEnd}}typeof i=="function"&&(i=i({date:s,allDay:!!n.allDayDate,allSegs:n.allSegs.map(o),hiddenSegs:n.hiddenSegs.map(o),jsEvent:e,view:r.viewApi})),!i||i==="popover"?this.setState({isPopoverOpen:!0}):typeof i=="string"&&r.calendarApi.zoomTo(s,i)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:n}=this;return O(Li.Consumer,null,r=>{let{viewApi:i,options:s,calendarApi:o}=r,{moreLinkText:a}=s,{moreCnt:l}=e,c=i_(e),d=typeof a=="function"?a.call(o,l):`+${l} ${a}`,h=Ko(s.moreLinkHint,[l],d),p={num:l,shortText:`+${l}`,text:d,view:i};return O(Ue,null,!!e.moreCnt&&O(nr,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),yT(this.handleClick)),{title:h,"aria-expanded":n.isPopoverOpen,"aria-controls":n.isPopoverOpen?n.popoverId:""}),renderProps:p,generatorName:"moreLinkContent",customGenerator:s.moreLinkContent,defaultGenerator:e.defaultGenerator||SM,classNameGenerator:s.moreLinkClassNames,didMount:s.moreLinkDidMount,willUnmount:s.moreLinkWillUnmount},e.children),n.isPopoverOpen&&O(EM,{id:n.popoverId,startDate:c.start,endDate:c.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=_t(this.linkEl,".fc-view-harness"))}}function SM(t){return t.text}function i_(t){if(t.allDayDate)return{start:t.allDayDate,end:wt(t.allDayDate,1)};let{hiddenSegs:e}=t;return{start:TM(e),end:CM(e)}}function TM(t){return t.reduce(AM).eventRange.range.start}function AM(t,e){return t.eventRange.range.start<e.eventRange.range.start?t:e}function CM(t){return t.reduce(bM).eventRange.range.end}function bM(t,e){return t.eventRange.range.end>e.eventRange.range.end?t:e}class RM{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let n of this.handlers)n(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class IM extends RM{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:n}=this;let r=!1;e.isActive?(n.set(e.id,e),r=!0):n.has(e.id)&&(n.delete(e.id),r=!0),r&&this.set(n)}}const DM=[],sA={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},oA=Object.assign(Object.assign({},sA),{buttonHints:{prev:"Previous $0",next:"Next $0",today(t,e){return e==="day"?"Today":`This ${t}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(t){return`Show ${t} more event${t===1?"":"s"}`}});function kM(t){let e=t.length>0?t[0].code:"en",n=DM.concat(t),r={en:oA};for(let i of n)r[i.code]=i;return{map:r,defaultCode:e}}function aA(t,e){return typeof t=="object"&&!Array.isArray(t)?lA(t.code,[t.code],t):xM(t,e)}function xM(t,e){let n=[].concat(t||[]),r=PM(n,e)||oA;return lA(t,n,r)}function PM(t,e){for(let n=0;n<t.length;n+=1){let r=t[n].toLocaleLowerCase().split("-");for(let i=r.length;i>0;i-=1){let s=r.slice(0,i).join("-");if(e[s])return e[s]}}return null}function lA(t,e,n){let r=zm([sA,n],["buttonText"]);delete r.code;let{week:i}=r;return delete r.week,{codeArg:t,codes:e,week:i,simpleNumberFormat:new Intl.NumberFormat(t),options:r}}function Yr(t){return{id:Oi(),name:t.name,premiumReleaseDate:t.premiumReleaseDate?new Date(t.premiumReleaseDate):void 0,deps:t.deps||[],reducers:t.reducers||[],isLoadingFuncs:t.isLoadingFuncs||[],contextInit:[].concat(t.contextInit||[]),eventRefiners:t.eventRefiners||{},eventDefMemberAdders:t.eventDefMemberAdders||[],eventSourceRefiners:t.eventSourceRefiners||{},isDraggableTransformers:t.isDraggableTransformers||[],eventDragMutationMassagers:t.eventDragMutationMassagers||[],eventDefMutationAppliers:t.eventDefMutationAppliers||[],dateSelectionTransformers:t.dateSelectionTransformers||[],datePointTransforms:t.datePointTransforms||[],dateSpanTransforms:t.dateSpanTransforms||[],views:t.views||{},viewPropsTransformers:t.viewPropsTransformers||[],isPropsValid:t.isPropsValid||null,externalDefTransforms:t.externalDefTransforms||[],viewContainerAppends:t.viewContainerAppends||[],eventDropTransformers:t.eventDropTransformers||[],componentInteractions:t.componentInteractions||[],calendarInteractions:t.calendarInteractions||[],themeClasses:t.themeClasses||{},eventSourceDefs:t.eventSourceDefs||[],cmdFormatter:t.cmdFormatter,recurringTypes:t.recurringTypes||[],namedTimeZonedImpl:t.namedTimeZonedImpl,initialView:t.initialView||"",elementDraggingImpl:t.elementDraggingImpl,optionChangeHandlers:t.optionChangeHandlers||{},scrollGridImpl:t.scrollGridImpl||null,listenerRefiners:t.listenerRefiners||{},optionRefiners:t.optionRefiners||{},propSetHandlers:t.propSetHandlers||{}}}function NM(t,e){let n={},r={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function i(s){for(let o of s){const a=o.name,l=n[a];l===void 0?(n[a]=o.id,i(o.deps),r=OM(r,o)):l!==o.id&&console.warn(`Duplicate plugin '${a}'`)}}return t&&i(t),i(e),r}function MM(){let t=[],e=[],n;return(r,i)=>((!n||!jr(r,t)||!jr(i,e))&&(n=NM(r,i)),t=r,e=i,n)}function OM(t,e){return{premiumReleaseDate:VM(t.premiumReleaseDate,e.premiumReleaseDate),reducers:t.reducers.concat(e.reducers),isLoadingFuncs:t.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:t.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},t.eventRefiners),e.eventRefiners),eventDefMemberAdders:t.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},t.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:t.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:t.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:t.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:t.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:t.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:t.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},t.views),e.views),viewPropsTransformers:t.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||t.isPropsValid,externalDefTransforms:t.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:t.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:t.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:t.calendarInteractions.concat(e.calendarInteractions),componentInteractions:t.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},t.themeClasses),e.themeClasses),eventSourceDefs:t.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||t.cmdFormatter,recurringTypes:t.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||t.namedTimeZonedImpl,initialView:t.initialView||e.initialView,elementDraggingImpl:t.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},t.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||t.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},t.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},t.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},t.propSetHandlers),e.propSetHandlers)}}function VM(t,e){return t===void 0?e:e===void 0?t:new Date(Math.max(t.valueOf(),e.valueOf()))}class Kr extends Wa{}Kr.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};Kr.prototype.baseIconClass="fc-icon";Kr.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};Kr.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};Kr.prototype.iconOverrideOption="buttonIcons";Kr.prototype.iconOverrideCustomButtonOption="icon";Kr.prototype.iconOverridePrefix="fc-icon-";function LM(t,e){let n={},r;for(r in t)ap(r,n,t,e);for(r in e)ap(r,n,t,e);return n}function ap(t,e,n,r){if(e[t])return e[t];let i=FM(t,e,n,r);return i&&(e[t]=i),i}function FM(t,e,n,r){let i=n[t],s=r[t],o=d=>i&&i[d]!==null?i[d]:s&&s[d]!==null?s[d]:null,a=o("component"),l=o("superType"),c=null;if(l){if(l===t)throw new Error("Can't have a custom view type that references itself");c=ap(l,e,n,r)}return!a&&c&&(a=c.component),a?{type:t,component:a,defaults:Object.assign(Object.assign({},c?c.defaults:{}),i?i.rawOptions:{}),overrides:Object.assign(Object.assign({},c?c.overrides:{}),s?s.rawOptions:{})}:null}function s_(t){return Vi(t,UM)}function UM(t){let e=typeof t=="function"?{component:t}:t,{component:n}=e;return e.content?n=o_(e):n&&!(n.prototype instanceof Ne)&&(n=o_(Object.assign(Object.assign({},e),{content:n}))),{superType:e.type,component:n,rawOptions:e}}function o_(t){return e=>O(Li.Consumer,null,n=>O(nr,{elTag:"div",elClasses:bT(n.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:n.options.nextDayThreshold}),generatorName:void 0,customGenerator:t.content,classNameGenerator:t.classNames,didMount:t.didMount,willUnmount:t.willUnmount}))}function jM(t,e,n,r){let i=s_(t),s=s_(e.views),o=LM(i,s);return Vi(o,a=>BM(a,s,e,n,r))}function BM(t,e,n,r,i){let s=t.overrides.duration||t.defaults.duration||r.duration||n.duration,o=null,a="",l="",c={};if(s&&(o=$M(s),o)){let p=ep(o);a=p.unit,p.value===1&&(l=a,c=e[a]?e[a].rawOptions:{})}let d=p=>{let m=p.buttonText||{},v=t.defaults.buttonTextKey;return v!=null&&m[v]!=null?m[v]:m[t.type]!=null?m[t.type]:m[l]!=null?m[l]:null},h=p=>{let m=p.buttonHints||{},v=t.defaults.buttonTextKey;return v!=null&&m[v]!=null?m[v]:m[t.type]!=null?m[t.type]:m[l]!=null?m[l]:null};return{type:t.type,component:t.component,duration:o,durationUnit:a,singleUnit:l,optionDefaults:t.defaults,optionOverrides:Object.assign(Object.assign({},c),t.overrides),buttonTextOverride:d(r)||d(n)||t.overrides.buttonText,buttonTextDefault:d(i)||t.defaults.buttonText||d(Xo)||t.type,buttonTitleOverride:h(r)||h(n)||t.overrides.buttonHint,buttonTitleDefault:h(i)||t.defaults.buttonHint||h(Xo)}}let a_={};function $M(t){let e=JSON.stringify(t),n=a_[e];return n===void 0&&(n=ce(t),a_[e]=n),n}function HM(t,e){switch(e.type){case"CHANGE_VIEW_TYPE":t=e.viewType}return t}function zM(t,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},t),{[e.optionName]:e.rawOptionValue});default:return t}}function WM(t,e,n,r){let i;switch(e.type){case"CHANGE_VIEW_TYPE":return r.build(e.dateMarker||n);case"CHANGE_DATE":return r.build(e.dateMarker);case"PREV":if(i=r.buildPrev(t,n),i.isValid)return i;break;case"NEXT":if(i=r.buildNext(t,n),i.isValid)return i;break}return t}function qM(t,e,n){let r=e?e.activeRange:null;return cA({},JM(t,n),r,n)}function GM(t,e,n,r){let i=n?n.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return cA(t,e.sources,i,r);case"REMOVE_EVENT_SOURCE":return YM(t,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?dA(t,i,r):t;case"FETCH_EVENT_SOURCES":return ag(t,e.sourceIds?wT(e.sourceIds):hA(t,r),i,e.isRefetch||!1,r);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return ZM(t,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return t}}function QM(t,e,n){let r=e?e.activeRange:null;return ag(t,hA(t,n),r,!0,n)}function uA(t){for(let e in t)if(t[e].isFetching)return!0;return!1}function cA(t,e,n,r){let i={};for(let s of e)i[s.sourceId]=s;return n&&(i=dA(i,n,r)),Object.assign(Object.assign({},t),i)}function YM(t,e){return Ci(t,n=>n.sourceId!==e)}function dA(t,e,n){return ag(t,Ci(t,r=>KM(r,e,n)),e,!1,n)}function KM(t,e,n){return fA(t,n)?!n.options.lazyFetching||!t.fetchRange||t.isFetching||e.start<t.fetchRange.start||e.end>t.fetchRange.end:!t.latestFetchId}function ag(t,e,n,r,i){let s={};for(let o in t){let a=t[o];e[o]?s[o]=XM(a,n,r,i):s[o]=a}return s}function XM(t,e,n,r){let{options:i,calendarApi:s}=r,o=r.pluginHooks.eventSourceDefs[t.sourceDefId],a=Oi();return o.fetch({eventSource:t,range:e,isRefetch:n,context:r},l=>{let{rawEvents:c}=l;i.eventSourceSuccess&&(c=i.eventSourceSuccess.call(s,c,l.response)||c),t.success&&(c=t.success.call(s,c,l.response)||c),r.dispatch({type:"RECEIVE_EVENTS",sourceId:t.sourceId,fetchId:a,fetchRange:e,rawEvents:c})},l=>{let c=!1;i.eventSourceFailure&&(i.eventSourceFailure.call(s,l),c=!0),t.failure&&(t.failure(l),c=!0),c||console.warn(l.message,l),r.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:t.sourceId,fetchId:a,fetchRange:e,error:l})}),Object.assign(Object.assign({},t),{isFetching:!0,latestFetchId:a})}function ZM(t,e,n,r){let i=t[e];return i&&n===i.latestFetchId?Object.assign(Object.assign({},t),{[e]:Object.assign(Object.assign({},i),{isFetching:!1,fetchRange:r})}):t}function hA(t,e){return Ci(t,n=>fA(n,e))}function JM(t,e){let n=MT(e),r=[].concat(t.eventSources||[]),i=[];t.initialEvents&&r.unshift(t.initialEvents),t.events&&r.unshift(t.events);for(let s of r){let o=NT(s,e,n);o&&i.push(o)}return i}function fA(t,e){return!e.pluginHooks.eventSourceDefs[t.sourceDefId].ignoreRange}function eO(t,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return t}}function tO(t,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return t}}function nO(t,e){let n;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function rO(t,e){let n;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function iO(t,e,n,r,i){let s=t.headerToolbar?l_(t.headerToolbar,t,e,n,r,i):null,o=t.footerToolbar?l_(t.footerToolbar,t,e,n,r,i):null;return{header:s,footer:o}}function l_(t,e,n,r,i,s){let o={},a=[],l=!1;for(let c in t){let d=t[c],h=sO(d,e,n,r,i,s);o[c]=h.widgets,a.push(...h.viewsWithButtons),l=l||h.hasTitle}return{sectionWidgets:o,viewsWithButtons:a,hasTitle:l}}function sO(t,e,n,r,i,s){let o=e.direction==="rtl",a=e.customButtons||{},l=n.buttonText||{},c=e.buttonText||{},d=n.buttonHints||{},h=e.buttonHints||{},p=t?t.split(" "):[],m=[],v=!1;return{widgets:p.map(S=>S.split(",").map(y=>{if(y==="title")return v=!0,{buttonName:y};let E,A,x,F,L,C;if(E=a[y])x=_=>{E.click&&E.click.call(_.target,_,_.target)},(F=r.getCustomButtonIconClass(E))||(F=r.getIconClass(y,o))||(L=E.text),C=E.hint||E.text;else if(A=i[y]){m.push(y),x=()=>{s.changeView(y)},(L=A.buttonTextOverride)||(F=r.getIconClass(y,o))||(L=A.buttonTextDefault);let _=A.buttonTextOverride||A.buttonTextDefault;C=Ko(A.buttonTitleOverride||A.buttonTitleDefault||e.viewHint,[_,y],_)}else if(s[y])if(x=()=>{s[y]()},(L=l[y])||(F=r.getIconClass(y,o))||(L=c[y]),y==="prevYear"||y==="nextYear"){let _=y==="prevYear"?"prev":"next";C=Ko(d[_]||h[_],[c.year||"year","year"],c[y])}else C=_=>Ko(d[y]||h[y],[c[_]||_,_],c[y]);return{buttonName:y,buttonClick:x,buttonIcon:F,buttonText:L,buttonHint:C}})),viewsWithButtons:m,hasTitle:v}}class oO{constructor(e,n,r){this.type=e,this.getCurrentData=n,this.dateEnv=r}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let aO={ignoreRange:!0,parseMeta(t){return Array.isArray(t.events)?t.events:null},fetch(t,e){e({rawEvents:t.eventSource.meta})}};const lO=Yr({name:"array-event-source",eventSourceDefs:[aO]});let uO={parseMeta(t){return typeof t.events=="function"?t.events:null},fetch(t,e,n){const{dateEnv:r}=t.context,i=t.eventSource.meta;fN(i.bind(null,$T(t.range,r)),s=>e({rawEvents:s}),n)}};const cO=Yr({name:"func-event-source",eventSourceDefs:[uO]}),dO={method:String,extraParams:M,startParam:String,endParam:String,timeZoneParam:String};let hO={parseMeta(t){return t.url&&(t.format==="json"||!t.format)?{url:t.url,format:"json",method:(t.method||"GET").toUpperCase(),extraParams:t.extraParams,startParam:t.startParam,endParam:t.endParam,timeZoneParam:t.timeZoneParam}:null},fetch(t,e,n){const{meta:r}=t.eventSource,i=pO(r,t.range,t.context);pN(r.method,r.url,i).then(([s,o])=>{e({rawEvents:s,response:o})},n)}};const fO=Yr({name:"json-event-source",eventSourceRefiners:dO,eventSourceDefs:[hO]});function pO(t,e,n){let{dateEnv:r,options:i}=n,s,o,a,l,c={};return s=t.startParam,s==null&&(s=i.startParam),o=t.endParam,o==null&&(o=i.endParam),a=t.timeZoneParam,a==null&&(a=i.timeZoneParam),typeof t.extraParams=="function"?l=t.extraParams():l=t.extraParams||{},Object.assign(c,l),c[s]=r.formatIso(e.start),c[o]=r.formatIso(e.end),r.timeZone!=="local"&&(c[a]=r.timeZone),c}const mO={daysOfWeek:M,startTime:ce,endTime:ce,duration:ce,startRecur:M,endRecur:M};let gO={parse(t,e){if(t.daysOfWeek||t.startTime||t.endTime||t.startRecur||t.endRecur){let n={daysOfWeek:t.daysOfWeek||null,startTime:t.startTime||null,endTime:t.endTime||null,startRecur:t.startRecur?e.createMarker(t.startRecur):null,endRecur:t.endRecur?e.createMarker(t.endRecur):null},r;return t.duration&&(r=t.duration),!r&&t.startTime&&t.endTime&&(r=Tx(t.endTime,t.startTime)),{allDayGuess:!t.startTime&&!t.endTime,duration:r,typeData:n}}return null},expand(t,e,n){let r=Ms(e,{start:t.startRecur,end:t.endRecur});return r?yO(t.daysOfWeek,t.startTime,r,n):[]}};const vO=Yr({name:"simple-recurring-event",recurringTypes:[gO],eventRefiners:mO});function yO(t,e,n,r){let i=t?wT(t):null,s=be(n.start),o=n.end,a=[];for(;s<o;){let l;(!i||i[s.getUTCDay()])&&(e?l=r.add(s,e):l=s,a.push(l)),s=wt(s,1)}return a}const _O=Yr({name:"change-handler",optionChangeHandlers:{events(t,e){u_([t],e)},eventSources:u_}});function u_(t,e){let n=Wm(e.getCurrentData().eventSources);if(n.length===1&&t.length===1&&Array.isArray(n[0]._raw)&&Array.isArray(t[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:n[0].sourceId,rawEvents:t[0]});return}let r=[];for(let i of t){let s=!1;for(let o=0;o<n.length;o+=1)if(n[o]._raw===i){n.splice(o,1),s=!0;break}s||r.push(i)}for(let i of n)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:i.sourceId});for(let i of r)e.calendarApi.addEventSource(i)}function EO(t,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},$T(t.activeRange,e.dateEnv)),{view:e.viewApi}))}function wO(t,e){let{emitter:n}=e;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",vi(t,e))}const SO=[lO,cO,fO,vO,_O,Yr({name:"misc",isLoadingFuncs:[t=>uA(t.eventSources)],propSetHandlers:{dateProfile:EO,eventStore:wO}})];class TO{constructor(e,n){this.runTaskOption=e,this.drainedOption=n,this.queue=[],this.delayedRunner=new Lm(this.drain.bind(this))}request(e,n){this.queue.push(e),this.delayedRunner.request(n)}pause(e){this.delayedRunner.pause(e)}resume(e,n){this.delayedRunner.resume(e,n)}drain(){let{queue:e}=this;for(;e.length;){let n=[],r;for(;r=e.shift();)this.runTask(r),n.push(r);this.drained(n)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function AO(t,e,n){let r;return/^(year|month)$/.test(t.currentRangeUnit)?r=t.currentRange:r=t.activeRange,n.formatRange(r.start,r.end,Je(e.titleFormat||CO(t)),{isEndExclusive:t.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function CO(t){let{currentRangeUnit:e}=t;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let n=ic(t.currentRange.start,t.currentRange.end);return n!==null&&n>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class bO{constructor(e){this.computeCurrentViewData=de(this._computeCurrentViewData),this.organizeRawLocales=de(kM),this.buildLocale=de(aA),this.buildPluginHooks=MM(),this.buildDateEnv=de(RO),this.buildTheme=de(IO),this.parseToolbars=de(iO),this.buildViewSpecs=de(jM),this.buildDateProfileGenerator=_u(DO),this.buildViewApi=de(kO),this.buildViewUiProps=_u(NO),this.buildEventUiBySource=de(xO,Pn),this.buildEventUiBases=de(PO),this.parseContextBusinessHours=_u(MO),this.buildTitle=de(AO),this.emitter=new rd,this.actionRunner=new TO(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=p=>{this.actionRunner.request(p)},this.props=e,this.actionRunner.pause();let n={},r=this.computeOptionsData(e.optionOverrides,n,e.calendarApi),i=r.calendarOptions.initialView||r.pluginHooks.initialView,s=this.computeCurrentViewData(i,r,e.optionOverrides,n);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(s.options);let o=CP(r.calendarOptions,r.dateEnv),a=s.dateProfileGenerator.build(o);Nr(a.activeRange,o)||(o=a.currentRange.start);let l={dateEnv:r.dateEnv,options:r.calendarOptions,pluginHooks:r.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData};for(let p of r.pluginHooks.contextInit)p(l);let c=qM(r.calendarOptions,a,l),d={dynamicOptionOverrides:n,currentViewType:i,currentDate:o,dateProfile:a,businessHours:this.parseContextBusinessHours(l),eventSources:c,eventUiBases:{},eventStore:gn(),renderableEventStore:gn(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(l).selectionConfig},h=Object.assign(Object.assign({},l),d);for(let p of r.pluginHooks.reducers)Object.assign(d,p(null,null,h));xh(d,l)&&this.emitter.trigger("loading",!0),this.state=d,this.updateData(),this.actionRunner.resume()}resetOptions(e,n){let{props:r}=this;n===void 0?r.optionOverrides=e:(r.optionOverrides=Object.assign(Object.assign({},r.optionOverrides||{}),e),this.optionsForRefining.push(...n)),(n===void 0||n.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:n,state:r,emitter:i}=this,s=zM(r.dynamicOptionOverrides,e),o=this.computeOptionsData(n.optionOverrides,s,n.calendarApi),a=HM(r.currentViewType,e),l=this.computeCurrentViewData(a,o,n.optionOverrides,s);n.calendarApi.currentDataManager=this,i.setThisContext(n.calendarApi),i.setOptions(l.options);let c={dateEnv:o.dateEnv,options:o.calendarOptions,pluginHooks:o.pluginHooks,calendarApi:n.calendarApi,dispatch:this.dispatch,emitter:i,getCurrentData:this.getCurrentData},{currentDate:d,dateProfile:h}=r;this.data&&this.data.dateProfileGenerator!==l.dateProfileGenerator&&(h=l.dateProfileGenerator.build(d)),d=AP(d,e),h=WM(h,e,d,l.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!Nr(h.currentRange,d))&&(d=h.currentRange.start);let p=GM(r.eventSources,e,h,c),m=UP(r.eventStore,e,p,h,c),T=uA(p)&&!l.options.progressiveEventRendering&&r.renderableEventStore||m,{eventUiSingleBase:S,selectionConfig:y}=this.buildViewUiProps(c),E=this.buildEventUiBySource(p),A=this.buildEventUiBases(T.defs,S,E),x={dynamicOptionOverrides:s,currentViewType:a,currentDate:d,dateProfile:h,eventSources:p,eventStore:m,renderableEventStore:T,selectionConfig:y,eventUiBases:A,businessHours:this.parseContextBusinessHours(c),dateSelection:eO(r.dateSelection,e),eventSelection:tO(r.eventSelection,e),eventDrag:nO(r.eventDrag,e),eventResize:rO(r.eventResize,e)},F=Object.assign(Object.assign({},c),x);for(let _ of o.pluginHooks.reducers)Object.assign(x,_(r,e,F));let L=xh(r,c),C=xh(x,c);!L&&C?i.trigger("loading",!0):L&&!C&&i.trigger("loading",!1),this.state=x,n.onAction&&n.onAction(e)}updateData(){let{props:e,state:n}=this,r=this.data,i=this.computeOptionsData(e.optionOverrides,n.dynamicOptionOverrides,e.calendarApi),s=this.computeCurrentViewData(n.currentViewType,i,e.optionOverrides,n.dynamicOptionOverrides),o=this.data=Object.assign(Object.assign(Object.assign({viewTitle:this.buildTitle(n.dateProfile,s.options,i.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},i),s),n),a=i.pluginHooks.optionChangeHandlers,l=r&&r.calendarOptions,c=i.calendarOptions;if(l&&l!==c){l.timeZone!==c.timeZone&&(n.eventSources=o.eventSources=QM(o.eventSources,n.dateProfile,o),n.eventStore=o.eventStore=Y0(o.eventStore,r.dateEnv,o.dateEnv),n.renderableEventStore=o.renderableEventStore=Y0(o.renderableEventStore,r.dateEnv,o.dateEnv));for(let d in a)(this.optionsForHandling.indexOf(d)!==-1||l[d]!==c[d])&&a[d](c[d],o)}this.optionsForHandling=[],e.onData&&e.onData(o)}computeOptionsData(e,n,r){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&n===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:i,pluginHooks:s,localeDefaults:o,availableLocaleData:a,extra:l}=this.processRawCalendarOptions(e,n);c_(l);let c=this.buildDateEnv(i.timeZone,i.locale,i.weekNumberCalculation,i.firstDay,i.weekText,s,a,i.defaultRangeSeparator),d=this.buildViewSpecs(s.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,o),h=this.buildTheme(i,s),p=this.parseToolbars(i,this.stableOptionOverrides,h,d,r);return this.stableCalendarOptionsData={calendarOptions:i,pluginHooks:s,dateEnv:c,viewSpecs:d,theme:h,toolbarConfig:p,localeDefaults:o,availableRawLocales:a.map}}processRawCalendarOptions(e,n){let{locales:r,locale:i}=Th([Xo,e,n]),s=this.organizeRawLocales(r),o=s.map,a=this.buildLocale(i||s.defaultCode,o).options,l=this.buildPluginHooks(e.plugins||[],SO),c=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},$0),H0),z0),l.listenerRefiners),l.optionRefiners),d={},h=Th([Xo,a,e,n]),p={},m=this.currentCalendarOptionsInput,v=this.currentCalendarOptionsRefined,T=!1;for(let S in h)this.optionsForRefining.indexOf(S)===-1&&(h[S]===m[S]||ri[S]&&S in m&&ri[S](m[S],h[S]))?p[S]=v[S]:c[S]?(p[S]=c[S](h[S]),T=!0):d[S]=m[S];return T&&(this.currentCalendarOptionsInput=h,this.currentCalendarOptionsRefined=p,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=n),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:l,availableLocaleData:s,localeDefaults:a,extra:d}}_computeCurrentViewData(e,n,r,i){let s=n.viewSpecs[e];if(!s)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:o,extra:a}=this.processRawViewOptions(s,n.pluginHooks,n.localeDefaults,r,i);c_(a);let l=this.buildDateProfileGenerator({dateProfileGeneratorClass:s.optionDefaults.dateProfileGeneratorClass,duration:s.duration,durationUnit:s.durationUnit,usesMinMaxTime:s.optionDefaults.usesMinMaxTime,dateEnv:n.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:o.slotMinTime,slotMaxTime:o.slotMaxTime,showNonCurrentDates:o.showNonCurrentDates,dayCount:o.dayCount,dateAlignment:o.dateAlignment,dateIncrement:o.dateIncrement,hiddenDays:o.hiddenDays,weekends:o.weekends,nowInput:o.now,validRangeInput:o.validRange,visibleRangeInput:o.visibleRange,fixedWeekCount:o.fixedWeekCount}),c=this.buildViewApi(e,this.getCurrentData,n.dateEnv);return{viewSpec:s,options:o,dateProfileGenerator:l,viewApi:c}}processRawViewOptions(e,n,r,i,s){let o=Th([Xo,e.optionDefaults,r,i,e.optionOverrides,s]),a=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},$0),H0),z0),tP),n.listenerRefiners),n.optionRefiners),l={},c=this.currentViewOptionsInput,d=this.currentViewOptionsRefined,h=!1,p={};for(let m in o)o[m]===c[m]||ri[m]&&ri[m](o[m],c[m])?l[m]=d[m]:(o[m]===this.currentCalendarOptionsInput[m]||ri[m]&&ri[m](o[m],this.currentCalendarOptionsInput[m])?m in this.currentCalendarOptionsRefined&&(l[m]=this.currentCalendarOptionsRefined[m]):a[m]?l[m]=a[m](o[m]):p[m]=o[m],h=!0);return h&&(this.currentViewOptionsInput=o,this.currentViewOptionsRefined=l),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:p}}}function RO(t,e,n,r,i,s,o,a){let l=aA(e||o.defaultCode,o.map);return new dP({calendarSystem:"gregory",timeZone:t,namedTimeZoneImpl:s.namedTimeZonedImpl,locale:l,weekNumberCalculation:n,firstDay:r,weekText:i,cmdFormatter:s.cmdFormatter,defaultSeparator:a})}function IO(t,e){let n=e.themeClasses[t.themeSystem]||Kr;return new n(t)}function DO(t){let e=t.dateProfileGeneratorClass||DT;return new e(t)}function kO(t,e,n){return new oO(t,e,n)}function xO(t){return Vi(t,e=>e.ui)}function PO(t,e,n){let r={"":e};for(let i in t){let s=t[i];s.sourceId&&n[s.sourceId]&&(r[i]=n[s.sourceId])}return r}function NO(t){let{options:e}=t;return{eventUiSingleBase:cc({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},t),selectionConfig:cc({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},t)}}function xh(t,e){for(let n of e.pluginHooks.isLoadingFuncs)if(n(t))return!0;return!1}function MO(t){return QP(t.options.businessHours,t)}function c_(t,e){for(let n in t)console.warn(`Unknown option '${n}'`)}class OO extends Ne{render(){let e=this.props.widgetGroups.map(n=>this.renderWidgetGroup(n));return O("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:n}=this,{theme:r}=this.context,i=[],s=!0;for(let o of e){let{buttonName:a,buttonClick:l,buttonText:c,buttonIcon:d,buttonHint:h}=o;if(a==="title")s=!1,i.push(O("h2",{className:"fc-toolbar-title",id:n.titleId},n.title));else{let p=a===n.activeButton,m=!n.isTodayEnabled&&a==="today"||!n.isPrevEnabled&&a==="prev"||!n.isNextEnabled&&a==="next",v=[`fc-${a}-button`,r.getClass("button")];p&&v.push(r.getClass("buttonActive")),i.push(O("button",{type:"button",title:typeof h=="function"?h(n.navUnit):h,disabled:m,"aria-pressed":p,className:v.join(" "),onClick:l},c||(d?O("span",{className:d,role:"img"}):"")))}}if(i.length>1){let o=s&&r.getClass("buttonGroup")||"";return O("div",{className:o},...i)}return i[0]}}class d_ extends Ne{render(){let{model:e,extraClassName:n}=this.props,r=!1,i,s,o=e.sectionWidgets,a=o.center;return o.left?(r=!0,i=o.left):i=o.start,o.right?(r=!0,s=o.right):s=o.end,O("div",{className:[n||"","fc-toolbar",r?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",i||[]),this.renderSection("center",a||[]),this.renderSection("end",s||[]))}renderSection(e,n){let{props:r}=this;return O(OO,{key:e,widgetGroups:n,title:r.title,navUnit:r.navUnit,activeButton:r.activeButton,isTodayEnabled:r.isTodayEnabled,isPrevEnabled:r.isPrevEnabled,isNextEnabled:r.isNextEnabled,titleId:r.titleId})}}class VO extends Ne{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,Xn(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:n}=this,{aspectRatio:r}=e,i=["fc-view-harness",r||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],s="",o="";return r?n.availableWidth!==null?s=n.availableWidth/r:o=`${1/r*100}%`:s=e.height||"",O("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:i.join(" "),style:{height:s,paddingBottom:o}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class LO extends Ys{constructor(e){super(e),this.handleSegClick=(n,r)=>{let{component:i}=this,{context:s}=i,o=Os(r);if(o&&i.isValidSegDownEl(n.target)){let a=_t(n.target,".fc-event-forced-url"),l=a?a.querySelector("a[href]").href:"";s.emitter.trigger("eventClick",{el:r,event:new Re(i.context,o.eventRange.def,o.eventRange.instance),jsEvent:n,view:s.viewApi}),l&&!n.defaultPrevented&&(window.location.href=l)}},this.destroy=vT(e.el,"click",".fc-event",this.handleSegClick)}}class FO extends Ys{constructor(e){super(e),this.handleEventElRemove=n=>{n===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(n,r)=>{Os(r)&&(this.currentSegEl=r,this.triggerEvent("eventMouseEnter",n,r))},this.handleSegLeave=(n,r)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",n,r))},this.removeHoverListeners=lx(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,n,r){let{component:i}=this,{context:s}=i,o=Os(r);(!n||i.isValidSegDownEl(n.target))&&s.emitter.trigger(e,{el:r,event:new Re(s,o.eventRange.def,o.eventRange.instance),jsEvent:n,view:s.viewApi})}}class UO extends Fi{constructor(){super(...arguments),this.buildViewContext=de(pP),this.buildViewPropTransformers=de(BO),this.buildToolbarProps=de(jO),this.headerRef=Kn(),this.footerRef=Kn(),this.interactionsStore={},this.state={viewLabelId:Jc()},this.registerInteractiveComponent=(e,n)=>{let r=vN(e,n),o=[LO,FO].concat(this.props.pluginHooks.componentInteractions).map(a=>new a(r));this.interactionsStore[e.uid]=o,sp[e.uid]=r},this.unregisterInteractiveComponent=e=>{let n=this.interactionsStore[e.uid];if(n){for(let r of n)r.destroy();delete this.interactionsStore[e.uid]}delete sp[e.uid]},this.resizeRunner=new Lm(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:n}=this.props;n.handleWindowResize&&e.target===window&&this.resizeRunner.request(n.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:n,options:r}=e,i=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,qa(e.options.now,e.dateEnv),e.viewTitle),s=!1,o="",a;e.isHeightAuto||e.forPrint?o="":r.height!=null?s=!0:r.contentHeight!=null?o=r.contentHeight:a=Math.max(r.aspectRatio,.5);let l=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),c=n.header&&n.header.hasTitle?this.state.viewLabelId:void 0;return O(Li.Provider,{value:l},n.header&&O(d_,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:n.header,titleId:c},i)),O(VO,{liquid:s,height:o,aspectRatio:a,labeledById:c},this.renderView(e),this.buildAppendContent()),n.footer&&O(d_,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:n.footer,titleId:""},i)))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(r=>new r(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:n}=e.pluginHooks;for(let r in n)n[r](e[r],e)}componentDidUpdate(e){let{props:n}=this,{propSetHandlers:r}=n.pluginHooks;for(let i in r)n[i]!==e[i]&&r[i](n[i],n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,n=e.pluginHooks.viewContainerAppends.map(r=>r(e));return O(Ue,{},...n)}renderView(e){let{pluginHooks:n}=e,{viewSpec:r}=e,i={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},s=this.buildViewPropTransformers(n.viewPropsTransformers);for(let a of s)Object.assign(i,a.transform(i,e));let o=r.component;return O(o,Object.assign({},i))}}function jO(t,e,n,r,i,s){let o=n.build(i,void 0,!1),a=n.buildPrev(e,r,!1),l=n.buildNext(e,r,!1);return{title:s,activeButton:t.type,navUnit:t.singleUnit,isTodayEnabled:o.isValid&&!Nr(e.currentRange,i),isPrevEnabled:a.isValid,isNextEnabled:l.isValid}}function BO(t){return t.map(e=>new e)}let $O=class extends yN{constructor(e,n={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=r=>{switch(r.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=r=>{this.currentData=r,this.renderRunner.request(r.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:r}=this;lc(()=>{Ca(O(gN,{options:r.calendarOptions,theme:r.theme,emitter:r.emitter},(i,s,o,a)=>(this.setClassNames(i),this.setHeight(s),O(CT.Provider,{value:this.customContentRenderId},O(UO,Object.assign({isHeightAuto:o,forPrint:a},r))))),this.el)})}else this.isRendered&&(this.isRendered=!1,Ca(null,this.el),this.setClassNames([]),this.setHeight(""))},Jk(e),this.el=e,this.renderRunner=new Lm(this.handleRenderRequest),new bO({optionOverrides:n,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){lc(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,n){this.currentDataManager.resetOptions(e,n)}setClassNames(e){if(!jr(e,this.currentClassNames)){let{classList:n}=this.el;for(let r of this.currentClassNames)n.remove(r);for(let r of e)n.add(r);this.currentClassNames=e}}setHeight(e){mT(this.el,"height",e)}};const HO=parseInt(String(te.version).split(".")[0]),zO=HO<18;class pA extends I.Component{constructor(){super(...arguments),this.elRef=I.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const e=[];for(const n of this.state.customRenderingMap.values())e.push(te.createElement(WO,{key:n.id,customRendering:n}));return te.createElement("div",{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;const e=new IM;this.handleCustomRendering=e.handle.bind(e),this.calendar=new $O(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{wa.flushSync(()=>{})});let n;e.subscribe(r=>{const i=Date.now(),s=!n;(zO||s||this.isUpdating||this.isUnmounting||i-n<100?mA:wa.flushSync)(()=>{this.setState({customRenderingMap:r},()=>{n=i,s?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}pA.act=mA;class WO extends I.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:n}=e,r=typeof n=="function"?n(e.renderProps):n;return wa.createPortal(r,e.containerEl)}}function mA(t){t()}class qO extends Ui{constructor(){super(...arguments),this.headerElRef=Kn()}renderSimpleLayout(e,n){let{props:r,context:i}=this,s=[],o=r_(i.options);return e&&s.push({type:"header",key:"header",isSticky:o,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),s.push({type:"body",key:"body",liquid:!0,chunk:{content:n}}),O(W0,{elClasses:["fc-daygrid"],viewSpec:i.viewSpec},O(nA,{liquid:!r.isHeightAuto&&!r.forPrint,collapsibleWidth:r.forPrint,cols:[],sections:s}))}renderHScrollLayout(e,n,r,i){let s=this.context.pluginHooks.scrollGridImpl;if(!s)throw new Error("No ScrollGrid implementation");let{props:o,context:a}=this,l=!o.forPrint&&r_(a.options),c=!o.forPrint&&lM(a.options),d=[];return e&&d.push({type:"header",key:"header",isSticky:l,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),d.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:n}]}),c&&d.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:aM}]}),O(W0,{elClasses:["fc-daygrid"],viewSpec:a.viewSpec},O(s,{liquid:!o.isHeightAuto&&!o.forPrint,forPrint:o.forPrint,collapsibleWidth:o.forPrint,colGroups:[{cols:[{span:r,minWidth:i}]}],sections:d}))}}function ql(t,e){let n=[];for(let r=0;r<e;r+=1)n[r]=[];for(let r of t)n[r.row].push(r);return n}function Gl(t,e){let n=[];for(let r=0;r<e;r+=1)n[r]=[];for(let r of t)n[r.firstCol].push(r);return n}function h_(t,e){let n=[];if(t){for(let r=0;r<e;r+=1)n[r]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let r of t.segs)n[r.row].segs.push(r)}else for(let r=0;r<e;r+=1)n[r]=null;return n}const gA=Je({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function vA(t){let{display:e}=t.eventRange.ui;return e==="list-item"||e==="auto"&&!t.eventRange.def.allDay&&t.firstCol===t.lastCol&&t.isStart&&t.isEnd}class yA extends Ne{render(){let{props:e}=this;return O(cM,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:gA,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class _A extends Ne{render(){let{props:e,context:n}=this,{options:r}=n,{seg:i}=e,s=r.eventTimeFormat||gA,o=jT(i,s,n,!0,e.defaultDisplayEventEnd);return O(og,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:BT(e.seg,n),defaultGenerator:GO,timeText:o,isResizing:!1,isDateSelecting:!1}))}}function GO(t){return O(Ue,null,O("div",{className:"fc-daygrid-event-dot",style:{borderColor:t.borderColor||t.backgroundColor}}),t.timeText&&O("div",{className:"fc-event-time"},t.timeText),O("div",{className:"fc-event-title"},t.event.title||O(Ue,null," ")))}class QO extends Ne{constructor(){super(...arguments),this.compileSegs=de(YO)}render(){let{props:e}=this,{allSegs:n,invisibleSegs:r}=this.compileSegs(e.singlePlacements);return O(wM,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:n,hiddenSegs:r,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let i=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return O(Ue,null,n.map(s=>{let o=s.eventRange.instance.instanceId;return O("div",{className:"fc-daygrid-event-harness",key:o,style:{visibility:i[o]?"hidden":""}},vA(s)?O(_A,Object.assign({seg:s,isDragging:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},Zo(s,e.todayRange))):O(yA,Object.assign({seg:s,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},Zo(s,e.todayRange))))}))}})}}function YO(t){let e=[],n=[];for(let r of t)e.push(r.seg),r.isVisible||n.push(r.seg);return{allSegs:e,invisibleSegs:n}}const KO=Je({week:"narrow"});class XO extends Ui{constructor(){super(...arguments),this.rootElRef=Kn(),this.state={dayNumberId:Jc()},this.handleRootEl=e=>{Xn(this.rootElRef,e),Xn(this.props.elRef,e)}}render(){let{context:e,props:n,state:r,rootElRef:i}=this,{options:s,dateEnv:o}=e,{date:a,dateProfile:l}=n;const c=n.showDayNumber&&JO(a,l.currentRange,o);return O(rA,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...n.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},n.extraDataAttrs),n.showDayNumber?{"aria-labelledby":r.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:ZO,date:a,dateProfile:l,todayRange:n.todayRange,showDayNumber:n.showDayNumber,isMonthStart:c,extraRenderProps:n.extraRenderProps},(d,h)=>O("div",{ref:n.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:n.minHeight}},n.showWeekNumber&&O(vM,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:op(e,a,"week"),date:a,defaultFormat:KO}),!h.isDisabled&&(n.showDayNumber||iA(s)||n.forceDayTop)?O("div",{className:"fc-daygrid-day-top"},O(d,{elTag:"a",elClasses:["fc-daygrid-day-number",c&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},op(e,a)),{id:r.dayNumberId})})):n.showDayNumber?O("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},O("a",{className:"fc-daygrid-day-number"}," ")):void 0,O("div",{className:"fc-daygrid-day-events",ref:n.fgContentElRef},n.fgContent,O("div",{className:"fc-daygrid-day-bottom",style:{marginTop:n.moreMarginTop}},O(QO,{allDayDate:a,singlePlacements:n.singlePlacements,moreCnt:n.moreCnt,alignmentElRef:i,alignGridTop:!n.showDayNumber,extraDateSpan:n.extraDateSpan,dateProfile:n.dateProfile,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,todayRange:n.todayRange}))),O("div",{className:"fc-daygrid-day-bg"},n.bgContent)))}}function ZO(t){return t.dayNumberText||O(Ue,null," ")}function JO(t,e,n){const{start:r,end:i}=e,s=Br(i,-1),o=n.getYear(r),a=n.getMonth(r),l=n.getYear(s),c=n.getMonth(s);return!(o===l&&a===c)&&(t.valueOf()===r.valueOf()||n.getDay(t)===1&&t.valueOf()<i.valueOf())}function EA(t){return t.eventRange.instance.instanceId+":"+t.firstCol}function wA(t){return EA(t)+":"+t.lastCol}function e2(t,e,n,r,i,s,o){let a=new r2(y=>{let E=t[y.index].eventRange.instance.instanceId+":"+y.span.start+":"+(y.span.end-1);return i[E]||1});a.allowReslicing=!0,a.strictOrder=r,e===!0||n===!0?(a.maxCoord=s,a.hiddenConsumes=!0):typeof e=="number"?a.maxStackCnt=e:typeof n=="number"&&(a.maxStackCnt=n,a.hiddenConsumes=!0);let l=[],c=[];for(let y=0;y<t.length;y+=1){let E=t[y],A=wA(E);i[A]!=null?l.push({index:y,span:{start:E.firstCol,end:E.lastCol+1}}):c.push(E)}let d=a.addSegs(l),h=a.toRects(),{singleColPlacements:p,multiColPlacements:m,leftoverMargins:v}=t2(h,t,o),T=[],S=[];for(let y of c){m[y.firstCol].push({seg:y,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let E=y.firstCol;E<=y.lastCol;E+=1)p[E].push({seg:ws(y,E,E+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let y=0;y<o.length;y+=1)T.push(0);for(let y of d){let E=t[y.index],A=y.span;m[A.start].push({seg:ws(E,A.start,A.end,o),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let x=A.start;x<A.end;x+=1)T[x]+=1,p[x].push({seg:ws(E,x,x+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let y=0;y<o.length;y+=1)S.push(v[y]);return{singleColPlacements:p,multiColPlacements:m,moreCnts:T,moreMarginTops:S}}function t2(t,e,n){let r=n2(t,n.length),i=[],s=[],o=[];for(let a=0;a<n.length;a+=1){let l=r[a],c=[],d=0,h=0;for(let m of l){let v=e[m.index];c.push({seg:ws(v,a,a+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:m.levelCoord,marginTop:m.levelCoord-d}),d=m.levelCoord+m.thickness}let p=[];d=0,h=0;for(let m of l){let v=e[m.index],T=m.span.end-m.span.start>1,S=m.span.start===a;h+=m.levelCoord-d,d=m.levelCoord+m.thickness,T?(h+=m.thickness,S&&p.push({seg:ws(v,m.span.start,m.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:m.levelCoord,marginTop:0})):S&&(p.push({seg:ws(v,m.span.start,m.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:m.levelCoord,marginTop:h}),h=0)}i.push(c),s.push(p),o.push(h)}return{singleColPlacements:i,multiColPlacements:s,leftoverMargins:o}}function n2(t,e){let n=[];for(let r=0;r<e;r+=1)n.push([]);for(let r of t)for(let i=r.span.start;i<r.span.end;i+=1)n[i].push(r);return n}function ws(t,e,n,r){if(t.firstCol===e&&t.lastCol===n-1)return t;let i=t.eventRange,s=i.range,o=Ms(s,{start:r[e].date,end:wt(r[n-1].date,1)});return Object.assign(Object.assign({},t),{firstCol:e,lastCol:n-1,eventRange:{def:i.def,ui:Object.assign(Object.assign({},i.ui),{durationEditable:!1}),instance:i.instance,range:o},isStart:t.isStart&&o.start.valueOf()===s.start.valueOf(),isEnd:t.isEnd&&o.end.valueOf()===s.end.valueOf()})}class r2 extends MN{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const n=super.addSegs(e),{entriesByLevel:r}=this,i=s=>!this.forceHidden[Jo(s)];for(let s=0;s<r.length;s+=1)r[s]=r[s].filter(i);return n}handleInvalidInsertion(e,n,r){const{entriesByLevel:i,forceHidden:s}=this,{touchingEntry:o,touchingLevel:a,touchingLateral:l}=e;if(this.hiddenConsumes&&o){const c=Jo(o);if(!s[c])if(this.allowReslicing){const d=Object.assign(Object.assign({},o),{span:YT(o.span,n.span)}),h=Jo(d);s[h]=!0,i[a][l]=d,r.push(d),this.splitEntry(o,n,r)}else s[c]=!0,r.push(o)}super.handleInvalidInsertion(e,n,r)}}class SA extends Ui{constructor(){super(...arguments),this.cellElRefs=new hi,this.frameElRefs=new hi,this.fgElRefs=new hi,this.segHarnessRefs=new hi,this.rootElRef=Kn(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:n,context:r}=this,{options:i}=r,s=e.cells.length,o=Gl(e.businessHourSegs,s),a=Gl(e.bgEventSegs,s),l=Gl(this.getHighlightSegs(),s),c=Gl(this.getMirrorSegs(),s),{singleColPlacements:d,multiColPlacements:h,moreCnts:p,moreMarginTops:m}=e2(JP(e.fgEventSegs,i.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,i.eventOrderStrict,n.segHeights,n.maxContentHeight,e.cells),v=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return O("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((T,S)=>{let y=this.renderFgSegs(S,e.forPrint?d[S]:h[S],e.todayRange,v),E=this.renderFgSegs(S,i2(c[S],h),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return O(XO,{key:T.key,elRef:this.cellElRefs.createRef(T.key),innerElRef:this.frameElRefs.createRef(T.key),dateProfile:e.dateProfile,date:T.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&S===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:T.extraRenderProps,extraDataAttrs:T.extraDataAttrs,extraClassNames:T.extraClassNames,extraDateSpan:T.extraDateSpan,moreCnt:p[S],moreMarginTop:m[S],singlePlacements:d[S],fgContentElRef:this.fgElRefs.createRef(T.key),fgContent:O(Ue,null,O(Ue,null,y),O(Ue,null,E)),bgContent:O(Ue,null,this.renderFillSegs(l[S],"highlight"),this.renderFillSegs(o[S],"non-business"),this.renderFillSegs(a[S],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,n){let r=this.props;this.updateSizing(!Pn(e,r))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,n,r,i,s,o,a){let{context:l}=this,{eventSelection:c}=this.props,{framePositions:d}=this.state,h=this.props.cells.length===1,p=s||o||a,m=[];if(d)for(let v of n){let{seg:T}=v,{instanceId:S}=T.eventRange.instance,y=v.isVisible&&!i[S],E=v.isAbsolute,A="",x="";E&&(l.isRtl?(x=0,A=d.lefts[T.lastCol]-d.lefts[T.firstCol]):(A=0,x=d.rights[T.firstCol]-d.rights[T.lastCol])),m.push(O("div",{className:"fc-daygrid-event-harness"+(E?" fc-daygrid-event-harness-abs":""),key:EA(T),ref:p?null:this.segHarnessRefs.createRef(wA(T)),style:{visibility:y?"":"hidden",marginTop:E?"":v.marginTop,top:E?v.absoluteTop:"",left:A,right:x}},vA(T)?O(_A,Object.assign({seg:T,isDragging:s,isSelected:S===c,defaultDisplayEventEnd:h},Zo(T,r))):O(yA,Object.assign({seg:T,isDragging:s,isResizing:o,isDateSelecting:a,isSelected:S===c,defaultDisplayEventEnd:h},Zo(T,r)))))}return m}renderFillSegs(e,n){let{isRtl:r}=this.context,{todayRange:i}=this.props,{framePositions:s}=this.state,o=[];if(s)for(let a of e){let l=r?{right:0,left:s.lefts[a.lastCol]-s.lefts[a.firstCol]}:{left:0,right:s.rights[a.firstCol]-s.rights[a.lastCol]};o.push(O("div",{key:sN(a.eventRange),className:"fc-daygrid-bg-harness",style:l},n==="bg-event"?O(pM,Object.assign({seg:a},Zo(a,i))):gM(n)))}return O(Ue,{},...o)}updateSizing(e){let{props:n,state:r,frameElRefs:i}=this;if(!n.forPrint&&n.clientWidth!==null){if(e){let l=n.cells.map(c=>i.currentMap[c.key]);if(l.length){let c=this.rootElRef.current,d=new hc(c,l,!0,!1);(!r.framePositions||!r.framePositions.similarTo(d))&&this.setState({framePositions:new hc(c,l,!0,!1)})}}const s=this.state.segHeights,o=this.querySegHeights(),a=n.dayMaxEvents===!0||n.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},s),o),maxContentHeight:a?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,n={};for(let r in e){let i=Math.round(e[r].getBoundingClientRect().height);n[r]=Math.max(n[r]||0,i)}return n}computeMaxContentHeight(){let e=this.props.cells[0].key,n=this.cellElRefs.currentMap[e],r=this.fgElRefs.currentMap[e];return n.getBoundingClientRect().bottom-r.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(n=>e[n.key])}}SA.addStateEquality({segHeights:Pn});function i2(t,e){if(!t.length)return[];let n=s2(e);return t.map(r=>({seg:r,isVisible:!0,isAbsolute:!0,absoluteTop:n[r.eventRange.instance.instanceId],marginTop:0}))}function s2(t){let e={};for(let n of t)for(let r of n)e[r.seg.eventRange.instance.instanceId]=r.absoluteTop;return e}class o2 extends Ui{constructor(){super(...arguments),this.splitBusinessHourSegs=de(ql),this.splitBgEventSegs=de(ql),this.splitFgEventSegs=de(ql),this.splitDateSelectionSegs=de(ql),this.splitEventDrag=de(h_),this.splitEventResize=de(h_),this.rowRefs=new hi}render(){let{props:e,context:n}=this,r=e.cells.length,i=this.splitBusinessHourSegs(e.businessHourSegs,r),s=this.splitBgEventSegs(e.bgEventSegs,r),o=this.splitFgEventSegs(e.fgEventSegs,r),a=this.splitDateSelectionSegs(e.dateSelectionSegs,r),l=this.splitEventDrag(e.eventDrag,r),c=this.splitEventResize(e.eventResize,r),d=r>=7&&e.clientWidth?e.clientWidth/n.options.aspectRatio/6:null;return O(sg,{unit:"day"},(h,p)=>O(Ue,null,e.cells.map((m,v)=>O(SA,{ref:this.rowRefs.createRef(v),key:m.length?m[0].date.toISOString():v,showDayNumbers:r>1,showWeekNumbers:e.showWeekNumbers,todayRange:p,dateProfile:e.dateProfile,cells:m,renderIntro:e.renderRowIntro,businessHourSegs:i[v],eventSelection:e.eventSelection,bgEventSegs:s[v].filter(a2),fgEventSegs:o[v],dateSelectionSegs:a[v],eventDrag:l[v],eventResize:c[v],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:d,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],n=e?e.closest(".fc-daygrid-body"):null;n&&(this.rootEl=n,this.context.registerInteractiveComponent(this,{el:n,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new hc(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new hc(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,n){let{colPositions:r,rowPositions:i}=this,s=r.leftToIndex(e),o=i.topToIndex(n);if(o!=null&&s!=null){let a=this.props.cells[o][s];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(o,s),allDay:!0},a.extraDateSpan),dayEl:this.getCellEl(o,s),rect:{left:r.lefts[s],right:r.rights[s],top:i.tops[o],bottom:i.bottoms[o]},layer:0}}return null}getCellEl(e,n){return this.rowRefs.currentMap[e].getCellEls()[n]}getCellRange(e,n){let r=this.props.cells[e][n].date,i=wt(r,1);return{start:r,end:i}}}function a2(t){return t.eventRange.def.allDay}class l2 extends Ui{constructor(){super(...arguments),this.elRef=Kn(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:n,dayMaxEvents:r,expandRows:i}=e,s=r===!0||n===!0;s&&!i&&(s=!1,n=null,r=null);let o=["fc-daygrid-body",s?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",i?"":"fc-daygrid-body-natural"];return O("div",{ref:this.elRef,className:o.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},O("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:i?e.clientHeight:""}},e.colGroupNode,O("tbody",{role:"presentation"},O(o2,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:r,dayMaxEventRows:n,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=u2(this.elRef.current,this.props.dateProfile);if(e){const n=e.closest(".fc-daygrid-body"),r=n.closest(".fc-scroller"),i=e.getBoundingClientRect().top-n.getBoundingClientRect().top;r.scrollTop=i?i+1:0}this.needsScrollReset=!1}}}function u2(t,e){let n;return e.currentRangeUnit.match(/year|month/)&&(n=t.querySelector(`[data-date="${Ux(e.currentDate)}-01"]`)),n||(n=t.querySelector(`[data-date="${Bm(e.currentDate)}"]`)),n}class c2 extends zN{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,n){return n.sliceRange(e)}}class d2 extends Ui{constructor(){super(...arguments),this.slicer=new c2,this.tableRef=Kn()}render(){let{props:e,context:n}=this;return O(l2,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,n,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class h2 extends qO{constructor(){super(...arguments),this.buildDayTableModel=de(f2),this.headerRef=Kn(),this.tableRef=Kn()}render(){let{options:e,dateProfileGenerator:n}=this.context,{props:r}=this,i=this.buildDayTableModel(r.dateProfile,n),s=e.dayHeaders&&O(jN,{ref:this.headerRef,dateProfile:r.dateProfile,dates:i.headerDates,datesRepDistinctDays:i.rowCnt===1}),o=a=>O(d2,{ref:this.tableRef,dateProfile:r.dateProfile,dayTableModel:i,businessHours:r.businessHours,dateSelection:r.dateSelection,eventStore:r.eventStore,eventUiBases:r.eventUiBases,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:a.tableColGroupNode,tableMinWidth:a.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!r.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:a.clientWidth,clientHeight:a.clientHeight,forPrint:r.forPrint});return e.dayMinWidth?this.renderHScrollLayout(s,o,i.colCnt,e.dayMinWidth):this.renderSimpleLayout(s,o)}}function f2(t,e){let n=new $N(t.renderRange,e);return new HN(n,/year|month|week/.test(t.currentRangeUnit))}class p2 extends DT{buildRenderRange(e,n,r){let i=super.buildRenderRange(e,n,r),{props:s}=this;return m2({currentRange:i,snapToWeek:/^(year|month)$/.test(n),fixedWeekCount:s.fixedWeekCount,dateEnv:s.dateEnv})}}function m2(t){let{dateEnv:e,currentRange:n}=t,{start:r,end:i}=n,s;if(t.snapToWeek&&(r=e.startOfWeek(r),s=e.startOfWeek(i),s.valueOf()!==i.valueOf()&&(i=V0(s,1))),t.fixedWeekCount){let o=e.startOfWeek(e.startOfMonth(wt(n.end,-1))),a=Math.ceil(Rx(o,i));i=V0(i,6-a)}return{start:r,end:i}}var g2=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';hT(g2);var v2=Yr({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:h2,dateProfileGeneratorClass:p2},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});ig.touchMouseIgnoreWait=500;let lp=0,fc=0,up=!1;class TA{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=n=>{if(!this.shouldIgnoreMouse()&&y2(n)&&this.tryStart(n)){let r=this.createEventFromMouse(n,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=n=>{let r=this.createEventFromMouse(n);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleMouseUp=n=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(n)),this.cleanup()},this.handleTouchStart=n=>{if(this.tryStart(n)){this.isTouchDragging=!0;let r=this.createEventFromTouch(n,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r);let i=n.target;this.shouldIgnoreMove||i.addEventListener("touchmove",this.handleTouchMove),i.addEventListener("touchend",this.handleTouchEnd),i.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=n=>{let r=this.createEventFromTouch(n);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleTouchEnd=n=>{if(this.isDragging){let r=n.target;r.removeEventListener("touchmove",this.handleTouchMove),r.removeEventListener("touchend",this.handleTouchEnd),r.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(n)),this.cleanup(),this.isTouchDragging=!1,_2()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=n=>{if(!this.shouldIgnoreMove){let r=window.scrollX-this.prevScrollX+this.prevPageX,i=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:n,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:r,pageY:i,deltaX:r-this.origPageX,deltaY:i-this.origPageY})}},this.containerEl=e,this.emitter=new rd,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),E2()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),w2()}tryStart(e){let n=this.querySubjectEl(e),r=e.target;return n&&(!this.handleSelector||_t(r,this.handleSelector))?(this.subjectEl=n,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){up=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?_t(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return lp||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(up=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,n){let r=0,i=0;return n?(this.origPageX=e.pageX,this.origPageY=e.pageY):(r=e.pageX-this.origPageX,i=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:r,deltaY:i}}createEventFromTouch(e,n){let r=e.touches,i,s,o=0,a=0;return r&&r.length?(i=r[0].pageX,s=r[0].pageY):(i=e.pageX,s=e.pageY),n?(this.origPageX=i,this.origPageY=s):(o=i-this.origPageX,a=s-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:i,pageY:s,deltaX:o,deltaY:a}}}function y2(t){return t.button===0&&!t.ctrlKey}function _2(){lp+=1,setTimeout(()=>{lp-=1},ig.touchMouseIgnoreWait)}function E2(){fc+=1,fc===1&&window.addEventListener("touchmove",AA,{passive:!1})}function w2(){fc-=1,fc||window.removeEventListener("touchmove",AA,{passive:!1})}function AA(t){up&&t.preventDefault()}class S2{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,n,r){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=n-window.scrollX,this.origScreenY=r-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,n){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=n-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,n){let r=()=>{this.cleanup(),n()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(r,this.revertDuration):setTimeout(r,0)}doRevertAnimation(e,n){let r=this.mirrorEl,i=this.sourceEl.getBoundingClientRect();r.style.transition="top "+n+"ms,left "+n+"ms",Yo(r,{left:i.left,top:i.top}),ux(r,()=>{r.style.transition="",e()})}cleanup(){this.mirrorEl&&(Fm(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&Yo(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,n=this.mirrorEl;return n||(n=this.mirrorEl=this.sourceEl.cloneNode(!0),n.style.userSelect="none",n.style.webkitUserSelect="none",n.style.pointerEvents="none",n.classList.add("fc-event-dragging"),Yo(n,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(n)),n}}class CA extends rg{constructor(e,n){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=n,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class bA extends CA{constructor(e,n){super(new PN(e),n)}getEventTarget(){return this.scrollController.el}computeClientRect(){return kN(this.scrollController.el)}}class T2 extends CA{constructor(e){super(new NN,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const f_=typeof performance=="function"?performance.now:Date.now;class A2{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let n=f_();this.handleSide(e,(n-this.msSinceRequest)/1e3),this.requestAnimation(n)}else this.isAnimating=!1}}}start(e,n,r){this.isEnabled&&(this.scrollCaches=this.buildCaches(r),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,n))}handleMove(e,n){if(this.isEnabled){let r=e-window.scrollX,i=n-window.scrollY,s=this.pointerScreenY===null?0:i-this.pointerScreenY,o=this.pointerScreenX===null?0:r-this.pointerScreenX;s<0?this.everMovedUp=!0:s>0&&(this.everMovedDown=!0),o<0?this.everMovedLeft=!0:o>0&&(this.everMovedRight=!0),this.pointerScreenX=r,this.pointerScreenY=i,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(f_()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,n){let{scrollCache:r}=e,{edgeThreshold:i}=this,s=i-e.distance,o=s*s/(i*i)*this.maxVelocity*n,a=1;switch(e.name){case"left":a=-1;case"right":r.setScrollLeft(r.getScrollLeft()+o*a);break;case"top":a=-1;case"bottom":r.setScrollTop(r.getScrollTop()+o*a);break}}computeBestEdge(e,n){let{edgeThreshold:r}=this,i=null,s=this.scrollCaches||[];for(let o of s){let a=o.clientRect,l=e-a.left,c=a.right-e,d=n-a.top,h=a.bottom-n;l>=0&&c>=0&&d>=0&&h>=0&&(d<=r&&this.everMovedUp&&o.canScrollUp()&&(!i||i.distance>d)&&(i={scrollCache:o,name:"top",distance:d}),h<=r&&this.everMovedDown&&o.canScrollDown()&&(!i||i.distance>h)&&(i={scrollCache:o,name:"bottom",distance:h}),l<=r&&this.everMovedLeft&&o.canScrollLeft()&&(!i||i.distance>l)&&(i={scrollCache:o,name:"left",distance:l}),c<=r&&this.everMovedRight&&o.canScrollRight()&&(!i||i.distance>c)&&(i={scrollCache:o,name:"right",distance:c}))}return i}buildCaches(e){return this.queryScrollEls(e).map(n=>n===window?new T2(!1):new bA(n,!1))}queryScrollEls(e){let n=[];for(let r of this.scrollQuery)typeof r=="object"?n.push(r):n.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(r)));return n}}class Ga extends ON{constructor(e,n){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=i=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,cx(document.body),hx(document.body),i.isTouch||i.origEvent.preventDefault(),this.emitter.trigger("pointerdown",i),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(i.subjectEl,i.pageX,i.pageY),this.startDelay(i),this.minDistance||this.handleDistanceSurpassed(i)))},this.onPointerMove=i=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",i),!this.isDistanceSurpassed){let s=this.minDistance,o,{deltaX:a,deltaY:l}=i;o=a*a+l*l,o>=s*s&&this.handleDistanceSurpassed(i)}this.isDragging&&(i.origEvent.type!=="scroll"&&(this.mirror.handleMove(i.pageX,i.pageY),this.autoScroller.handleMove(i.pageX,i.pageY)),this.emitter.trigger("dragmove",i))}},this.onPointerUp=i=>{this.isInteracting&&(this.isInteracting=!1,dx(document.body),fx(document.body),this.emitter.trigger("pointerup",i),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(i)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let r=this.pointer=new TA(e);r.emitter.on("pointerdown",this.onPointerDown),r.emitter.on("pointermove",this.onPointerMove),r.emitter.on("pointerup",this.onPointerUp),n&&(r.selector=n),this.mirror=new S2,this.autoScroller=new A2}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class C2{constructor(e){this.el=e,this.origRect=ng(e),this.scrollCaches=QT(e).map(n=>new bA(n,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let n of this.scrollCaches)e+=n.origScrollLeft-n.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let n of this.scrollCaches)e+=n.origScrollTop-n.getScrollTop();return e}isWithinClipping(e,n){let r={left:e,top:n};for(let i of this.scrollCaches)if(!b2(i.getEventTarget())&&!_N(r,i.clientRect))return!1;return!0}}function b2(t){let e=t.tagName;return e==="HTML"||e==="BODY"}class id{constructor(e,n){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=r=>{let{dragging:i}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(r),this.initialHit||!this.requireInitial?(i.setIgnoreMove(!1),this.emitter.trigger("pointerdown",r)):i.setIgnoreMove(!0)},this.handleDragStart=r=>{this.emitter.trigger("dragstart",r),this.handleMove(r,!0)},this.handleDragMove=r=>{this.emitter.trigger("dragmove",r),this.handleMove(r)},this.handlePointerUp=r=>{this.releaseHits(),this.emitter.trigger("pointerup",r)},this.handleDragEnd=r=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,r),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",r)},this.droppableStore=n,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new rd}processFirstCoord(e){let n={left:e.pageX,top:e.pageY},r=n,i=e.subjectEl,s;i instanceof HTMLElement&&(s=ng(i),r=EN(r,s));let o=this.initialHit=this.queryHitForOffset(r.left,r.top);if(o){if(this.useSubjectCenter&&s){let a=WT(s,o.rect);a&&(r=wN(a))}this.coordAdjust=SN(r,n)}else this.coordAdjust={left:0,top:0}}handleMove(e,n){let r=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(n||!sd(this.movingHit,r))&&(this.movingHit=r,this.emitter.trigger("hitupdate",r,!1,e))}prepareHits(){this.offsetTrackers=Vi(this.droppableStore,e=>(e.component.prepareHits(),new C2(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let n in e)e[n].destroy();this.offsetTrackers={}}queryHitForOffset(e,n){let{droppableStore:r,offsetTrackers:i}=this,s=null;for(let o in r){let a=r[o].component,l=i[o];if(l&&l.isWithinClipping(e,n)){let c=l.computeLeft(),d=l.computeTop(),h=e-c,p=n-d,{origRect:m}=l,v=m.right-m.left,T=m.bottom-m.top;if(h>=0&&h<v&&p>=0&&p<T){let S=a.queryHit(h,p,v,T);S&&td(S.dateProfile.activeRange,S.dateSpan.range)&&(this.disablePointCheck||l.el.contains(l.el.getRootNode().elementFromPoint(h+c-window.scrollX,p+d-window.scrollY)))&&(!s||S.layer>s.layer)&&(S.componentId=o,S.context=a.context,S.rect.left+=c,S.rect.right+=c,S.rect.top+=d,S.rect.bottom+=d,s=S)}}}return s}}function sd(t,e){return!t&&!e?!0:!!t!=!!e?!1:uN(t.dateSpan,e.dateSpan)}function RA(t,e){let n={};for(let r of e.pluginHooks.datePointTransforms)Object.assign(n,r(t,e));return Object.assign(n,R2(t,e.dateEnv)),n}function R2(t,e){return{date:e.toDate(t.range.start),dateStr:e.formatIso(t.range.start,{omitTime:t.allDay}),allDay:t.allDay}}class I2 extends Ys{constructor(e){super(e),this.handlePointerDown=r=>{let{dragging:i}=this,s=r.origEvent.target;i.setIgnoreMove(!this.component.isValidDateDownEl(s))},this.handleDragEnd=r=>{let{component:i}=this,{pointer:s}=this.dragging;if(!s.wasTouchScroll){let{initialHit:o,finalHit:a}=this.hitDragging;if(o&&a&&sd(o,a)){let{context:l}=i,c=Object.assign(Object.assign({},RA(o.dateSpan,l)),{dayEl:o.dayEl,jsEvent:r.origEvent,view:l.viewApi||l.calendarApi.view});l.emitter.trigger("dateClick",c)}}},this.dragging=new Ga(e.el),this.dragging.autoScroller.isEnabled=!1;let n=this.hitDragging=new id(this.dragging,eg(e));n.emitter.on("pointerdown",this.handlePointerDown),n.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class D2 extends Ys{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=o=>{let{component:a,dragging:l}=this,{options:c}=a.context,d=c.selectable&&a.isValidDateDownEl(o.origEvent.target);l.setIgnoreMove(!d),l.delay=o.isTouch?k2(a):null},this.handleDragStart=o=>{this.component.context.calendarApi.unselect(o)},this.handleHitUpdate=(o,a)=>{let{context:l}=this.component,c=null,d=!1;if(o){let h=this.hitDragging.initialHit;o.componentId===h.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(h,o)||(c=x2(h,o,l.pluginHooks.dateSelectionTransformers)),(!c||!WN(c,o.dateProfile,l))&&(d=!0,c=null)}c?l.dispatch({type:"SELECT_DATES",selection:c}):a||l.dispatch({type:"UNSELECT_DATES"}),d?Um():jm(),a||(this.dragSelection=c)},this.handlePointerUp=o=>{this.dragSelection&&(LT(this.dragSelection,o,this.component.context),this.dragSelection=null)};let{component:n}=e,{options:r}=n.context,i=this.dragging=new Ga(e.el);i.touchScrollAllowed=!1,i.minDistance=r.selectMinDistance||0,i.autoScroller.isEnabled=r.dragScroll;let s=this.hitDragging=new id(this.dragging,eg(e));s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function k2(t){let{options:e}=t.context,n=e.selectLongPressDelay;return n==null&&(n=e.longPressDelay),n}function x2(t,e,n){let r=t.dateSpan,i=e.dateSpan,s=[r.range.start,r.range.end,i.range.start,i.range.end];s.sort(yx);let o={};for(let a of n){let l=a(t,e);if(l===!1)return null;l&&Object.assign(o,l)}return o.range={start:s[0],end:s[3]},o.allDay=r.allDay,o}class Qa extends Ys{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=o=>{let a=o.origEvent.target,{component:l,dragging:c}=this,{mirror:d}=c,{options:h}=l.context,p=l.context;this.subjectEl=o.subjectEl;let m=this.subjectSeg=Os(o.subjectEl),T=(this.eventRange=m.eventRange).instance.instanceId;this.relevantEvents=Km(p.getCurrentData().eventStore,T),c.minDistance=o.isTouch?0:h.eventDragMinDistance,c.delay=o.isTouch&&T!==l.props.eventSelection?N2(l):null,h.fixedMirrorParent?d.parentNode=h.fixedMirrorParent:d.parentNode=_t(a,".fc"),d.revertDuration=h.dragRevertDuration;let S=l.isValidSegDownEl(a)&&!_t(a,".fc-event-resizer");c.setIgnoreMove(!S),this.isDragging=S&&o.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=o=>{let a=this.component.context,l=this.eventRange,c=l.instance.instanceId;o.isTouch?c!==this.component.props.eventSelection&&a.dispatch({type:"SELECT_EVENT",eventInstanceId:c}):a.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(a.calendarApi.unselect(o),a.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new Re(a,l.def,l.instance),jsEvent:o.origEvent,view:a.viewApi}))},this.handleHitUpdate=(o,a)=>{if(!this.isDragging)return;let l=this.relevantEvents,c=this.hitDragging.initialHit,d=this.component.context,h=null,p=null,m=null,v=!1,T={affectedEvents:l,mutatedEvents:gn(),isEvent:!0};if(o){h=o.context;let S=h.options;d===h||S.editable&&S.droppable?(p=P2(c,o,this.eventRange.instance.range.start,h.getCurrentData().pluginHooks.eventDragMutationMassagers),p&&(m=Jm(l,h.getCurrentData().eventUiBases,p,h),T.mutatedEvents=m,ZT(T,o.dateProfile,h)||(v=!0,p=null,m=null,T.mutatedEvents=gn()))):h=null}this.displayDrag(h,T),v?Um():jm(),a||(d===h&&sd(c,o)&&(p=null),this.dragging.setMirrorNeedsRevert(!p),this.dragging.setMirrorIsVisible(!o||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=h,this.validMutation=p,this.mutatedRelevantEvents=m)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=o=>{if(this.isDragging){let a=this.component.context,l=a.viewApi,{receivingContext:c,validMutation:d}=this,h=this.eventRange.def,p=this.eventRange.instance,m=new Re(a,h,p),v=this.relevantEvents,T=this.mutatedRelevantEvents,{finalHit:S}=this.hitDragging;if(this.clearDrag(),a.emitter.trigger("eventDragStop",{el:this.subjectEl,event:m,jsEvent:o.origEvent,view:l}),d){if(c===a){let y=new Re(a,T.defs[h.defId],p?T.instances[p.instanceId]:null);a.dispatch({type:"MERGE_EVENTS",eventStore:T});let E={oldEvent:m,event:y,relatedEvents:vi(T,a,p),revert(){a.dispatch({type:"MERGE_EVENTS",eventStore:v})}},A={};for(let x of a.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(A,x(d,a));a.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},E),A),{el:o.subjectEl,delta:d.datesDelta,jsEvent:o.origEvent,view:l})),a.emitter.trigger("eventChange",E)}else if(c){let y={event:m,relatedEvents:vi(v,a,p),revert(){a.dispatch({type:"MERGE_EVENTS",eventStore:v})}};a.emitter.trigger("eventLeave",Object.assign(Object.assign({},y),{draggedEl:o.subjectEl,view:l})),a.dispatch({type:"REMOVE_EVENTS",eventStore:v}),a.emitter.trigger("eventRemove",y);let E=T.defs[h.defId],A=T.instances[p.instanceId],x=new Re(c,E,A);c.dispatch({type:"MERGE_EVENTS",eventStore:T});let F={event:x,relatedEvents:vi(T,c,A),revert(){c.dispatch({type:"REMOVE_EVENTS",eventStore:T})}};c.emitter.trigger("eventAdd",F),o.isTouch&&c.dispatch({type:"SELECT_EVENT",eventInstanceId:p.instanceId}),c.emitter.trigger("drop",Object.assign(Object.assign({},RA(S.dateSpan,c)),{draggedEl:o.subjectEl,jsEvent:o.origEvent,view:S.context.viewApi})),c.emitter.trigger("eventReceive",Object.assign(Object.assign({},F),{draggedEl:o.subjectEl,view:S.context.viewApi}))}}else a.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:n}=this,{options:r}=n.context,i=this.dragging=new Ga(e.el);i.pointer.selector=Qa.SELECTOR,i.touchScrollAllowed=!1,i.autoScroller.isEnabled=r.dragScroll;let s=this.hitDragging=new id(this.dragging,sp);s.useSubjectCenter=e.useEventCenter,s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp),s.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,n){let r=this.component.context,i=this.receivingContext;i&&i!==e&&(i===r?i.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:n.affectedEvents,mutatedEvents:gn(),isEvent:!0}}):i.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:n})}clearDrag(){let e=this.component.context,{receivingContext:n}=this;n&&n.dispatch({type:"UNSET_EVENT_DRAG"}),e!==n&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}Qa.SELECTOR=".fc-event-draggable, .fc-event-resizable";function P2(t,e,n,r){let i=t.dateSpan,s=e.dateSpan,o=i.range.start,a=s.range.start,l={};i.allDay!==s.allDay&&(l.allDay=s.allDay,l.hasEnd=e.context.options.allDayMaintainDuration,s.allDay?o=be(n):o=n);let c=hs(o,a,t.context.dateEnv,t.componentId===e.componentId?t.largeUnit:null);c.milliseconds&&(l.allDay=!1);let d={datesDelta:c,standardProps:l};for(let h of r)h(d,t,e);return d}function N2(t){let{options:e}=t.context,n=e.eventLongPressDelay;return n==null&&(n=e.longPressDelay),n}class M2 extends Ys{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=s=>{let{component:o}=this,a=this.querySegEl(s),l=Os(a),c=this.eventRange=l.eventRange;this.dragging.minDistance=o.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(s.origEvent.target)||s.isTouch&&this.component.props.eventSelection!==c.instance.instanceId)},this.handleDragStart=s=>{let{context:o}=this.component,a=this.eventRange;this.relevantEvents=Km(o.getCurrentData().eventStore,this.eventRange.instance.instanceId);let l=this.querySegEl(s);this.draggingSegEl=l,this.draggingSeg=Os(l),o.calendarApi.unselect(),o.emitter.trigger("eventResizeStart",{el:l,event:new Re(o,a.def,a.instance),jsEvent:s.origEvent,view:o.viewApi})},this.handleHitUpdate=(s,o,a)=>{let{context:l}=this.component,c=this.relevantEvents,d=this.hitDragging.initialHit,h=this.eventRange.instance,p=null,m=null,v=!1,T={affectedEvents:c,mutatedEvents:gn(),isEvent:!0};s&&(s.componentId===d.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(d,s)||(p=O2(d,s,a.subjectEl.classList.contains("fc-event-resizer-start"),h.range))),p&&(m=Jm(c,l.getCurrentData().eventUiBases,p,l),T.mutatedEvents=m,ZT(T,s.dateProfile,l)||(v=!0,p=null,m=null,T.mutatedEvents=null)),m?l.dispatch({type:"SET_EVENT_RESIZE",state:T}):l.dispatch({type:"UNSET_EVENT_RESIZE"}),v?Um():jm(),o||(p&&sd(d,s)&&(p=null),this.validMutation=p,this.mutatedRelevantEvents=m)},this.handleDragEnd=s=>{let{context:o}=this.component,a=this.eventRange.def,l=this.eventRange.instance,c=new Re(o,a,l),d=this.relevantEvents,h=this.mutatedRelevantEvents;if(o.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:c,jsEvent:s.origEvent,view:o.viewApi}),this.validMutation){let p=new Re(o,h.defs[a.defId],l?h.instances[l.instanceId]:null);o.dispatch({type:"MERGE_EVENTS",eventStore:h});let m={oldEvent:c,event:p,relatedEvents:vi(h,o,l),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:d})}};o.emitter.trigger("eventResize",Object.assign(Object.assign({},m),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||ce(0),endDelta:this.validMutation.endDelta||ce(0),jsEvent:s.origEvent,view:o.viewApi})),o.emitter.trigger("eventChange",m)}else o.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:n}=e,r=this.dragging=new Ga(e.el);r.pointer.selector=".fc-event-resizer",r.touchScrollAllowed=!1,r.autoScroller.isEnabled=n.context.options.dragScroll;let i=this.hitDragging=new id(this.dragging,eg(e));i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return _t(e.subjectEl,".fc-event")}}function O2(t,e,n,r){let i=t.context.dateEnv,s=t.dateSpan.range.start,o=e.dateSpan.range.start,a=hs(s,o,i,t.largeUnit);if(n){if(i.add(r.start,a)<r.end)return{startDelta:a}}else if(i.add(r.end,a)>r.start)return{endDelta:a};return null}class V2{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=r=>{r.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=r=>{let i=this.context.options.unselectCancel,s=gT(r.origEvent);this.matchesCancel=!!_t(s,i),this.matchesEvent=!!_t(s,Qa.SELECTOR)},this.onDocumentPointerUp=r=>{let{context:i}=this,{documentPointer:s}=this,o=i.getCurrentData();if(!s.wasTouchScroll){if(o.dateSelection&&!this.isRecentPointerDateSelect){let a=i.options.unselectAuto;a&&(!a||!this.matchesCancel)&&i.calendarApi.unselect(r)}o.eventSelection&&!this.matchesEvent&&i.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let n=this.documentPointer=new TA(document);n.shouldIgnoreMove=!0,n.shouldWatchScroll=!1,n.emitter.on("pointerdown",this.onDocumentPointerDown),n.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const L2={fixedMirrorParent:M},F2={dateClick:M,eventDragStart:M,eventDragStop:M,eventDrop:M,eventResizeStart:M,eventResizeStop:M,eventResize:M,drop:M,eventReceive:M,eventLeave:M};ig.dataAttrPrefix="";var U2=Yr({name:"@fullcalendar/interaction",componentInteractions:[I2,D2,Qa,M2],calendarInteractions:[V2],elementDraggingImpl:Ga,optionRefiners:L2,listenerRefiners:F2});function pc(t){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pc(t)}function Nn(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Ge(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function Rt(t){Ge(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||pc(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function j2(t,e){Ge(2,arguments);var n=Rt(t).getTime(),r=Nn(e);return new Date(n+r)}var B2={};function Ks(){return B2}function cp(t,e){var n,r,i,s,o,a,l,c;Ge(1,arguments);var d=Ks(),h=Nn((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:d.weekStartsOn)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Rt(t),m=p.getDay(),v=(m<h?7:0)+m-h;return p.setDate(p.getDate()-v),p.setHours(0,0,0,0),p}function $2(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function H2(t){Ge(1,arguments);var e=Rt(t);return e.setHours(0,0,0,0),e}var IA=6e4,DA=36e5;function z2(t){return Ge(1,arguments),t instanceof Date||pc(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function W2(t){if(Ge(1,arguments),!z2(t)&&typeof t!="number")return!1;var e=Rt(t);return!isNaN(Number(e))}function dp(t,e){var n,r,i,s,o,a,l,c;Ge(1,arguments);var d=Ks(),h=Nn((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:d.weekStartsOn)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Rt(t),m=p.getDay(),v=(m<h?-7:0)+6-(m-h);return p.setDate(p.getDate()+v),p.setHours(23,59,59,999),p}function q2(t,e){Ge(2,arguments);var n=Nn(e);return j2(t,-n)}var G2=864e5;function Q2(t){Ge(1,arguments);var e=Rt(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/G2)+1}function mc(t){Ge(1,arguments);var e=1,n=Rt(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function kA(t){Ge(1,arguments);var e=Rt(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=mc(r),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var o=mc(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function Y2(t){Ge(1,arguments);var e=kA(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=mc(n);return r}var K2=6048e5;function X2(t){Ge(1,arguments);var e=Rt(t),n=mc(e).getTime()-Y2(e).getTime();return Math.round(n/K2)+1}function gc(t,e){var n,r,i,s,o,a,l,c;Ge(1,arguments);var d=Ks(),h=Nn((n=(r=(i=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:d.weekStartsOn)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Rt(t),m=p.getUTCDay(),v=(m<h?7:0)+m-h;return p.setUTCDate(p.getUTCDate()-v),p.setUTCHours(0,0,0,0),p}function xA(t,e){var n,r,i,s,o,a,l,c;Ge(1,arguments);var d=Rt(t),h=d.getUTCFullYear(),p=Ks(),m=Nn((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:p.firstWeekContainsDate)!==null&&r!==void 0?r:(l=p.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setUTCFullYear(h+1,0,m),v.setUTCHours(0,0,0,0);var T=gc(v,e),S=new Date(0);S.setUTCFullYear(h,0,m),S.setUTCHours(0,0,0,0);var y=gc(S,e);return d.getTime()>=T.getTime()?h+1:d.getTime()>=y.getTime()?h:h-1}function Z2(t,e){var n,r,i,s,o,a,l,c;Ge(1,arguments);var d=Ks(),h=Nn((n=(r=(i=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:d.firstWeekContainsDate)!==null&&r!==void 0?r:(l=d.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=xA(t,e),m=new Date(0);m.setUTCFullYear(p,0,h),m.setUTCHours(0,0,0,0);var v=gc(m,e);return v}var J2=6048e5;function eV(t,e){Ge(1,arguments);var n=Rt(t),r=gc(n,e).getTime()-Z2(n,e).getTime();return Math.round(r/J2)+1}function pe(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var lr={y:function(e,n){var r=e.getUTCFullYear(),i=r>0?r:1-r;return pe(n==="yy"?i%100:i,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):pe(r+1,2)},d:function(e,n){return pe(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return pe(e.getUTCHours()%12||12,n.length)},H:function(e,n){return pe(e.getUTCHours(),n.length)},m:function(e,n){return pe(e.getUTCMinutes(),n.length)},s:function(e,n){return pe(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,i=e.getUTCMilliseconds(),s=Math.floor(i*Math.pow(10,r-3));return pe(s,n.length)}},Yi={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},tV={G:function(e,n,r){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var i=e.getUTCFullYear(),s=i>0?i:1-i;return r.ordinalNumber(s,{unit:"year"})}return lr.y(e,n)},Y:function(e,n,r,i){var s=xA(e,i),o=s>0?s:1-s;if(n==="YY"){var a=o%100;return pe(a,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):pe(o,n.length)},R:function(e,n){var r=kA(e);return pe(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return pe(r,n.length)},Q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return pe(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return pe(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){var i=e.getUTCMonth();switch(n){case"M":case"MM":return lr.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return pe(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){var s=eV(e,i);return n==="wo"?r.ordinalNumber(s,{unit:"week"}):pe(s,n.length)},I:function(e,n,r){var i=X2(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):pe(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):lr.d(e,n)},D:function(e,n,r){var i=Q2(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):pe(i,n.length)},E:function(e,n,r){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return pe(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){var s=e.getUTCDay(),o=(s-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return pe(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,n,r){var i=e.getUTCDay(),s=i===0?7:i;switch(n){case"i":return String(s);case"ii":return pe(s,n.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){var i=e.getUTCHours(),s=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,n,r){var i=e.getUTCHours(),s;switch(i===12?s=Yi.noon:i===0?s=Yi.midnight:s=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,n,r){var i=e.getUTCHours(),s;switch(i>=17?s=Yi.evening:i>=12?s=Yi.afternoon:i>=4?s=Yi.morning:s=Yi.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return lr.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):lr.H(e,n)},K:function(e,n,r){var i=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):pe(i,n.length)},k:function(e,n,r){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):pe(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):lr.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):lr.s(e,n)},S:function(e,n){return lr.S(e,n)},X:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return m_(o);case"XXXX":case"XX":return si(o);case"XXXXX":case"XXX":default:return si(o,":")}},x:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"x":return m_(o);case"xxxx":case"xx":return si(o);case"xxxxx":case"xxx":default:return si(o,":")}},O:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+p_(o,":");case"OOOO":default:return"GMT"+si(o,":")}},z:function(e,n,r,i){var s=i._originalDate||e,o=s.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+p_(o,":");case"zzzz":default:return"GMT"+si(o,":")}},t:function(e,n,r,i){var s=i._originalDate||e,o=Math.floor(s.getTime()/1e3);return pe(o,n.length)},T:function(e,n,r,i){var s=i._originalDate||e,o=s.getTime();return pe(o,n.length)}};function p_(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),s=r%60;if(s===0)return n+String(i);var o=e;return n+String(i)+o+pe(s,2)}function m_(t,e){if(t%60===0){var n=t>0?"-":"+";return n+pe(Math.abs(t)/60,2)}return si(t,e)}function si(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),s=pe(Math.floor(i/60),2),o=pe(i%60,2);return r+s+n+o}var g_=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},PA=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},nV=function(e,n){var r=e.match(/(P+)(p+)?/)||[],i=r[1],s=r[2];if(!s)return g_(e,n);var o;switch(i){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",g_(i,n)).replace("{{time}}",PA(s,n))},rV={p:PA,P:nV},iV=["D","DD"],sV=["YY","YYYY"];function oV(t){return iV.indexOf(t)!==-1}function aV(t){return sV.indexOf(t)!==-1}function v_(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var lV={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},uV=function(e,n,r){var i,s=lV[e];return typeof s=="string"?i=s:n===1?i=s.one:i=s.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};function Ss(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var cV={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},dV={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},hV={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},fV={date:Ss({formats:cV,defaultWidth:"full"}),time:Ss({formats:dV,defaultWidth:"full"}),dateTime:Ss({formats:hV,defaultWidth:"full"})},pV={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},mV=function(e,n,r,i){return pV[e]};function Cn(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var s=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{var a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}var c=t.argumentCallback?t.argumentCallback(e):e;return i[c]}}var gV={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},vV={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},yV={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},_V={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},EV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},wV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},SV=function(e,n){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},TV={ordinalNumber:SV,era:Cn({values:gV,defaultWidth:"wide"}),quarter:Cn({values:vV,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Cn({values:yV,defaultWidth:"wide"}),day:Cn({values:_V,defaultWidth:"wide"}),dayPeriod:Cn({values:EV,defaultWidth:"wide",formattingValues:wV,defaultFormattingWidth:"wide"})};function bn(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;var o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?CV(a,function(h){return h.test(o)}):AV(a,function(h){return h.test(o)}),c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;var d=e.slice(o.length);return{value:c,rest:d}}}function AV(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function CV(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function NA(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],s=e.match(t.parsePattern);if(!s)return null;var o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;var a=e.slice(i.length);return{value:o,rest:a}}}var bV=/^(\d+)(th|st|nd|rd)?/i,RV=/\d+/i,IV={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},DV={any:[/^b/i,/^(a|c)/i]},kV={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},xV={any:[/1/i,/2/i,/3/i,/4/i]},PV={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},NV={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},MV={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},OV={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},VV={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},LV={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},FV={ordinalNumber:NA({matchPattern:bV,parsePattern:RV,valueCallback:function(e){return parseInt(e,10)}}),era:bn({matchPatterns:IV,defaultMatchWidth:"wide",parsePatterns:DV,defaultParseWidth:"any"}),quarter:bn({matchPatterns:kV,defaultMatchWidth:"wide",parsePatterns:xV,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:bn({matchPatterns:PV,defaultMatchWidth:"wide",parsePatterns:NV,defaultParseWidth:"any"}),day:bn({matchPatterns:MV,defaultMatchWidth:"wide",parsePatterns:OV,defaultParseWidth:"any"}),dayPeriod:bn({matchPatterns:VV,defaultMatchWidth:"any",parsePatterns:LV,defaultParseWidth:"any"})},UV={code:"en-US",formatDistance:uV,formatLong:fV,formatRelative:mV,localize:TV,match:FV,options:{weekStartsOn:0,firstWeekContainsDate:1}},jV=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,BV=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,$V=/^'([^]*?)'?$/,HV=/''/g,zV=/[a-zA-Z]/;function vc(t,e,n){var r,i,s,o,a,l,c,d,h,p,m,v,T,S,y,E,A,x;Ge(2,arguments);var F=String(e),L=Ks(),C=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:L.locale)!==null&&r!==void 0?r:UV,_=Nn((s=(o=(a=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(c=n.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&a!==void 0?a:L.firstWeekContainsDate)!==null&&o!==void 0?o:(h=L.locale)===null||h===void 0||(p=h.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(_>=1&&_<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var b=Nn((m=(v=(T=(S=n==null?void 0:n.weekStartsOn)!==null&&S!==void 0?S:n==null||(y=n.locale)===null||y===void 0||(E=y.options)===null||E===void 0?void 0:E.weekStartsOn)!==null&&T!==void 0?T:L.weekStartsOn)!==null&&v!==void 0?v:(A=L.locale)===null||A===void 0||(x=A.options)===null||x===void 0?void 0:x.weekStartsOn)!==null&&m!==void 0?m:0);if(!(b>=0&&b<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!C.localize)throw new RangeError("locale must contain localize property");if(!C.formatLong)throw new RangeError("locale must contain formatLong property");var R=Rt(t);if(!W2(R))throw new RangeError("Invalid time value");var k=$2(R),P=q2(R,k),D={firstWeekContainsDate:_,weekStartsOn:b,locale:C,_originalDate:R},je=F.match(BV).map(function(he){var Ke=he[0];if(Ke==="p"||Ke==="P"){var Me=rV[Ke];return Me(he,C.formatLong)}return he}).join("").match(jV).map(function(he){if(he==="''")return"'";var Ke=he[0];if(Ke==="'")return WV(he);var Me=tV[Ke];if(Me)return!(n!=null&&n.useAdditionalWeekYearTokens)&&aV(he)&&v_(he,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&oV(he)&&v_(he,e,String(t)),Me(P,he,C.localize,D);if(Ke.match(zV))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Ke+"`");return he}).join("");return je}function WV(t){var e=t.match($V);return e?e[1].replace(HV,"'"):t}function Ro(t,e){Ge(2,arguments);var n=Rt(t),r=Rt(e);return n.getTime()<r.getTime()}function y_(t,e){var n;Ge(1,arguments);var r=Nn((n=void 0)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=YV(t),s;if(i.date){var o=KV(i.date,r);s=XV(o.restDateString,o.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var a=s.getTime(),l=0,c;if(i.time&&(l=ZV(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(c=JV(i.timezone),isNaN(c))return new Date(NaN)}else{var d=new Date(a+l),h=new Date(0);return h.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),h.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),h}return new Date(a+l+c)}var Ql={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},qV=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,GV=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,QV=/^([+-])(\d{2})(?::?(\d{2}))?$/;function YV(t){var e={},n=t.split(Ql.dateTimeDelimiter),r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Ql.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Ql.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){var i=Ql.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function KV(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function XV(t,e){if(e===null)return new Date(NaN);var n=t.match(qV);if(!n)return new Date(NaN);var r=!!n[4],i=Io(n[1]),s=Io(n[2])-1,o=Io(n[3]),a=Io(n[4]),l=Io(n[5])-1;if(r)return iL(e,a,l)?eL(e,a,l):new Date(NaN);var c=new Date(0);return!nL(e,s,o)||!rL(e,i)?new Date(NaN):(c.setUTCFullYear(e,s,Math.max(i,o)),c)}function Io(t){return t?parseInt(t):1}function ZV(t){var e=t.match(GV);if(!e)return NaN;var n=Ph(e[1]),r=Ph(e[2]),i=Ph(e[3]);return sL(n,r,i)?n*DA+r*IA+i*1e3:NaN}function Ph(t){return t&&parseFloat(t.replace(",","."))||0}function JV(t){if(t==="Z")return 0;var e=t.match(QV);if(!e)return 0;var n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return oL(r,i)?n*(r*DA+i*IA):NaN}function eL(t,e,n){var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}var tL=[31,null,31,30,31,30,31,31,30,31,30,31];function MA(t){return t%400===0||t%4===0&&t%100!==0}function nL(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(tL[e]||(MA(t)?29:28))}function rL(t,e){return e>=1&&e<=(MA(t)?366:365)}function iL(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function sL(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function oL(t,e){return e>=0&&e<=59}function __(){return H2(Date.now())}var aL={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 día",other:"{{count}} días"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 año",other:"alrededor de {{count}} años"},xYears:{one:"1 año",other:"{{count}} años"},overXYears:{one:"más de 1 año",other:"más de {{count}} años"},almostXYears:{one:"casi 1 año",other:"casi {{count}} años"}},lL=function(e,n,r){var i,s=aL[e];return typeof s=="string"?i=s:n===1?i=s.one:i=s.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"en "+i:"hace "+i:i},uL={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},cL={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},dL={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},hL={date:Ss({formats:uL,defaultWidth:"full"}),time:Ss({formats:cL,defaultWidth:"full"}),dateTime:Ss({formats:dL,defaultWidth:"full"})},fL={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'mañana a la' p",nextWeek:"eeee 'a la' p",other:"P"},pL={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'mañana a las' p",nextWeek:"eeee 'a las' p",other:"P"},mL=function(e,n,r,i){return n.getUTCHours()!==1?pL[e]:fL[e]},gL={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","después de cristo"]},vL={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},yL={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},_L={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sá"],abbreviated:["dom","lun","mar","mié","jue","vie","sáb"],wide:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"]},EL={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"}},wL={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},SL=function(e,n){var r=Number(e);return r+"º"},TL={ordinalNumber:SL,era:Cn({values:gL,defaultWidth:"wide"}),quarter:Cn({values:vL,defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:Cn({values:yL,defaultWidth:"wide"}),day:Cn({values:_L,defaultWidth:"wide"}),dayPeriod:Cn({values:EL,defaultWidth:"wide",formattingValues:wL,defaultFormattingWidth:"wide"})},AL=/^(\d+)(º)?/i,CL=/\d+/i,bL={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},RL={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},IL={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},DL={any:[/1/i,/2/i,/3/i,/4/i]},kL={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},xL={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},PL={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},NL={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},ML={narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},OL={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},VL={ordinalNumber:NA({matchPattern:AL,parsePattern:CL,valueCallback:function(e){return parseInt(e,10)}}),era:bn({matchPatterns:bL,defaultMatchWidth:"wide",parsePatterns:RL,defaultParseWidth:"any"}),quarter:bn({matchPatterns:IL,defaultMatchWidth:"wide",parsePatterns:DL,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:bn({matchPatterns:kL,defaultMatchWidth:"wide",parsePatterns:xL,defaultParseWidth:"any"}),day:bn({matchPatterns:PL,defaultMatchWidth:"wide",parsePatterns:NL,defaultParseWidth:"any"}),dayPeriod:bn({matchPatterns:ML,defaultMatchWidth:"any",parsePatterns:OL,defaultParseWidth:"any"})},fs={code:"es",formatDistance:lL,formatLong:hL,formatRelative:mL,localize:TL,match:VL,options:{weekStartsOn:1,firstWeekContainsDate:1}},LL=Object.defineProperty,FL=(t,e,n)=>e in t?LL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Nh=(t,e,n)=>(FL(t,typeof e!="symbol"?e+"":e,n),n);let UL=class{constructor(){Nh(this,"current",this.detect()),Nh(this,"handoffState","pending"),Nh(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Hn=new UL,rn=(t,e)=>{Hn.isServer?I.useEffect(t,e):I.useLayoutEffect(t,e)};function zn(t){let e=I.useRef(t);return rn(()=>{e.current=t},[t]),e}let Ie=function(t){let e=zn(t);return te.useCallback((...n)=>e.current(...n),[e])};function od(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function ji(){let t=[],e={addEventListener(n,r,i,s){return n.addEventListener(r,i,s),e.add(()=>n.removeEventListener(r,i,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return od(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,i){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=ji();return n(r),this.add(()=>r.dispose())},add(n){return t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let i of t.splice(r,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}function lg(){let[t]=I.useState(ji);return I.useEffect(()=>()=>t.dispose(),[t]),t}function jL(){let t=typeof document>"u";return"useSyncExternalStore"in Cs?(e=>e.useSyncExternalStore)(Cs)(()=>()=>{},()=>!1,()=>!t):!1}function Xs(){let t=jL(),[e,n]=I.useState(Hn.isHandoffComplete);return e&&Hn.isHandoffComplete===!1&&n(!1),I.useEffect(()=>{e!==!0&&n(!0)},[e]),I.useEffect(()=>Hn.handoff(),[]),t?!1:e}var E_;let Zs=(E_=te.useId)!=null?E_:function(){let t=Xs(),[e,n]=te.useState(t?()=>Hn.nextId():null);return rn(()=>{e===null&&n(Hn.nextId())},[e]),e!=null?""+e:void 0};function Et(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Et),r}function OA(t){return Hn.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}let hp=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var li=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(li||{}),VA=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(VA||{}),BL=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(BL||{});function $L(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(hp)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var LA=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(LA||{});function HL(t,e=0){var n;return t===((n=OA(t))==null?void 0:n.body)?!1:Et(e,{0(){return t.matches(hp)},1(){let r=t;for(;r!==null;){if(r.matches(hp))return!0;r=r.parentElement}return!1}})}var zL=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(zL||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function yi(t){t==null||t.focus({preventScroll:!0})}let WL=["textarea","input"].join(",");function qL(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,WL))!=null?n:!1}function GL(t,e=n=>n){return t.slice().sort((n,r)=>{let i=e(n),s=e(r);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function wu(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let s=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,o=Array.isArray(t)?n?GL(t):t:$L(t);i.length>0&&o.length>1&&(o=o.filter(m=>!i.includes(m))),r=r??s.activeElement;let a=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(r))-1;if(e&4)return Math.max(0,o.indexOf(r))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=e&32?{preventScroll:!0}:{},d=0,h=o.length,p;do{if(d>=h||d+h<=0)return 0;let m=l+d;if(e&16)m=(m+h)%h;else{if(m<0)return 3;if(m>=h)return 1}p=o[m],p==null||p.focus(c),d+=a}while(p!==s.activeElement);return e&6&&qL(p)&&p.select(),2}function FA(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function QL(){return/Android/gi.test(window.navigator.userAgent)}function YL(){return FA()||QL()}function Yl(t,e,n){let r=zn(e);I.useEffect(()=>{function i(s){r.current(s)}return document.addEventListener(t,i,n),()=>document.removeEventListener(t,i,n)},[t,n])}function UA(t,e,n){let r=zn(e);I.useEffect(()=>{function i(s){r.current(s)}return window.addEventListener(t,i,n),()=>window.removeEventListener(t,i,n)},[t,n])}function KL(t,e,n=!0){let r=I.useRef(!1);I.useEffect(()=>{requestAnimationFrame(()=>{r.current=n})},[n]);function i(o,a){if(!r.current||o.defaultPrevented)return;let l=a(o);if(l===null||!l.getRootNode().contains(l)||!l.isConnected)return;let c=function d(h){return typeof h=="function"?d(h()):Array.isArray(h)||h instanceof Set?h:[h]}(t);for(let d of c){if(d===null)continue;let h=d instanceof HTMLElement?d:d.current;if(h!=null&&h.contains(l)||o.composed&&o.composedPath().includes(h))return}return!HL(l,LA.Loose)&&l.tabIndex!==-1&&o.preventDefault(),e(o,l)}let s=I.useRef(null);Yl("pointerdown",o=>{var a,l;r.current&&(s.current=((l=(a=o.composedPath)==null?void 0:a.call(o))==null?void 0:l[0])||o.target)},!0),Yl("mousedown",o=>{var a,l;r.current&&(s.current=((l=(a=o.composedPath)==null?void 0:a.call(o))==null?void 0:l[0])||o.target)},!0),Yl("click",o=>{YL()||s.current&&(i(o,()=>s.current),s.current=null)},!0),Yl("touchend",o=>i(o,()=>o.target instanceof HTMLElement?o.target:null),!0),UA("blur",o=>i(o,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Ya(...t){return I.useMemo(()=>OA(...t),[...t])}let jA=Symbol();function XL(t,e=!0){return Object.assign(t,{[jA]:e})}function _n(...t){let e=I.useRef(t);I.useEffect(()=>{e.current=t},[t]);let n=Ie(r=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return t.every(r=>r==null||(r==null?void 0:r[jA]))?void 0:n}function ug(t,e){let n=I.useRef([]),r=Ie(t);I.useEffect(()=>{let i=[...n.current];for(let[s,o]of e.entries())if(n.current[s]!==o){let a=r(e,i);return n.current=e,a}},[r,...e])}function yc(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}var _c=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(_c||{}),Sr=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Sr||{});function sn({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:i,visible:s=!0,name:o,mergeRefs:a}){a=a??ZL;let l=BA(e,t);if(s)return Kl(l,n,r,o,a);let c=i??0;if(c&2){let{static:d=!1,...h}=l;if(d)return Kl(h,n,r,o,a)}if(c&1){let{unmount:d=!0,...h}=l;return Et(d?0:1,{0(){return null},1(){return Kl({...h,hidden:!0,style:{display:"none"}},n,r,o,a)}})}return Kl(l,n,r,o,a)}function Kl(t,e={},n,r,i){let{as:s=n,children:o,refName:a="ref",...l}=Mh(t,["unmount","static"]),c=t.ref!==void 0?{[a]:t.ref}:{},d=typeof o=="function"?o(e):o;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(e));let h={};if(e){let p=!1,m=[];for(let[v,T]of Object.entries(e))typeof T=="boolean"&&(p=!0),T===!0&&m.push(v);p&&(h["data-headlessui-state"]=m.join(" "))}if(s===I.Fragment&&Object.keys(w_(l)).length>0){if(!I.isValidElement(d)||Array.isArray(d)&&d.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(l).map(T=>`  - ${T}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(T=>`  - ${T}`).join(`
`)].join(`
`));let p=d.props,m=typeof(p==null?void 0:p.className)=="function"?(...T)=>yc(p==null?void 0:p.className(...T),l.className):yc(p==null?void 0:p.className,l.className),v=m?{className:m}:{};return I.cloneElement(d,Object.assign({},BA(d.props,w_(Mh(l,["ref"]))),h,c,{ref:i(d.ref,c.ref)},v))}return I.createElement(s,Object.assign({},Mh(l,["ref"]),s!==I.Fragment&&c,s!==I.Fragment&&h),d)}function ZL(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function BA(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(e,{[r](i,...s){let o=n[r];for(let a of o){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...s)}}});return e}function Gt(t){var e;return Object.assign(I.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function w_(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function Mh(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}let JL="div";var Ec=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(Ec||{});function eF(t,e){var n;let{features:r=1,...i}=t,s={ref:e,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return sn({ourProps:s,theirProps:i,slot:{},defaultTag:JL,name:"Hidden"})}let fp=Gt(eF),cg=I.createContext(null);cg.displayName="OpenClosedContext";var Ut=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Ut||{});function dg(){return I.useContext(cg)}function tF({value:t,children:e}){return te.createElement(cg.Provider,{value:t},e)}function nF(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let mr=[];nF(()=>{function t(e){e.target instanceof HTMLElement&&e.target!==document.body&&mr[0]!==e.target&&(mr.unshift(e.target),mr=mr.filter(n=>n!=null&&n.isConnected),mr.splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function rF(t){let e=t.parentElement,n=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(n=e),e=e.parentElement;let r=(e==null?void 0:e.getAttribute("disabled"))==="";return r&&iF(n)?!1:r}function iF(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}var $A=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))($A||{});function HA(t,e,n,r){let i=zn(n);I.useEffect(()=>{t=t??window;function s(o){i.current(o)}return t.addEventListener(e,s,r),()=>t.removeEventListener(e,s,r)},[t,e,r])}function Ka(){let t=I.useRef(!1);return rn(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function zA(t){let e=Ie(t),n=I.useRef(!1);I.useEffect(()=>(n.current=!1,()=>{n.current=!0,od(()=>{n.current&&e()})}),[e])}var Vo=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(Vo||{});function sF(){let t=I.useRef(0);return UA("keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function WA(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.current)n.current instanceof HTMLElement&&e.add(n.current);return e}let oF="div";var qA=(t=>(t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t))(qA||{});function aF(t,e){let n=I.useRef(null),r=_n(n,e),{initialFocus:i,containers:s,features:o=30,...a}=t;Xs()||(o=1);let l=Ya(n);cF({ownerDocument:l},!!(o&16));let c=dF({ownerDocument:l,container:n,initialFocus:i},!!(o&2));hF({ownerDocument:l,container:n,containers:s,previousActiveElement:c},!!(o&8));let d=sF(),h=Ie(T=>{let S=n.current;S&&(y=>y())(()=>{Et(d.current,{[Vo.Forwards]:()=>{wu(S,li.First,{skipElements:[T.relatedTarget]})},[Vo.Backwards]:()=>{wu(S,li.Last,{skipElements:[T.relatedTarget]})}})})}),p=lg(),m=I.useRef(!1),v={ref:r,onKeyDown(T){T.key=="Tab"&&(m.current=!0,p.requestAnimationFrame(()=>{m.current=!1}))},onBlur(T){let S=WA(s);n.current instanceof HTMLElement&&S.add(n.current);let y=T.relatedTarget;y instanceof HTMLElement&&y.dataset.headlessuiFocusGuard!=="true"&&(GA(S,y)||(m.current?wu(n.current,Et(d.current,{[Vo.Forwards]:()=>li.Next,[Vo.Backwards]:()=>li.Previous})|li.WrapAround,{relativeTo:T.target}):T.target instanceof HTMLElement&&yi(T.target)))}};return te.createElement(te.Fragment,null,!!(o&4)&&te.createElement(fp,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:Ec.Focusable}),sn({ourProps:v,theirProps:a,defaultTag:oF,name:"FocusTrap"}),!!(o&4)&&te.createElement(fp,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:Ec.Focusable}))}let lF=Gt(aF),Do=Object.assign(lF,{features:qA});function uF(t=!0){let e=I.useRef(mr.slice());return ug(([n],[r])=>{r===!0&&n===!1&&od(()=>{e.current.splice(0)}),r===!1&&n===!0&&(e.current=mr.slice())},[t,mr,e]),Ie(()=>{var n;return(n=e.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function cF({ownerDocument:t},e){let n=uF(e);ug(()=>{e||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&yi(n())},[e]),zA(()=>{e&&yi(n())})}function dF({ownerDocument:t,container:e,initialFocus:n},r){let i=I.useRef(null),s=Ka();return ug(()=>{if(!r)return;let o=e.current;o&&od(()=>{if(!s.current)return;let a=t==null?void 0:t.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===a){i.current=a;return}}else if(o.contains(a)){i.current=a;return}n!=null&&n.current?yi(n.current):wu(o,li.First)===VA.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),i.current=t==null?void 0:t.activeElement})},[r]),i}function hF({ownerDocument:t,container:e,containers:n,previousActiveElement:r},i){let s=Ka();HA(t==null?void 0:t.defaultView,"focus",o=>{if(!i||!s.current)return;let a=WA(n);e.current instanceof HTMLElement&&a.add(e.current);let l=r.current;if(!l)return;let c=o.target;c&&c instanceof HTMLElement?GA(a,c)?(r.current=c,yi(c)):(o.preventDefault(),o.stopPropagation(),yi(l)):yi(r.current)},!0)}function GA(t,e){for(let n of t)if(n.contains(e))return!0;return!1}let QA=I.createContext(!1);function fF(){return I.useContext(QA)}function pp(t){return te.createElement(QA.Provider,{value:t.force},t.children)}function pF(t){let e=fF(),n=I.useContext(YA),r=Ya(t),[i,s]=I.useState(()=>{if(!e&&n!==null||Hn.isServer)return null;let o=r==null?void 0:r.getElementById("headlessui-portal-root");if(o)return o;if(r===null)return null;let a=r.createElement("div");return a.setAttribute("id","headlessui-portal-root"),r.body.appendChild(a)});return I.useEffect(()=>{i!==null&&(r!=null&&r.body.contains(i)||r==null||r.body.appendChild(i))},[i,r]),I.useEffect(()=>{e||n!==null&&s(n.current)},[n,s,e]),i}let mF=I.Fragment;function gF(t,e){let n=t,r=I.useRef(null),i=_n(XL(d=>{r.current=d}),e),s=Ya(r),o=pF(r),[a]=I.useState(()=>{var d;return Hn.isServer?null:(d=s==null?void 0:s.createElement("div"))!=null?d:null}),l=I.useContext(mp),c=Xs();return rn(()=>{!o||!a||o.contains(a)||(a.setAttribute("data-headlessui-portal",""),o.appendChild(a))},[o,a]),rn(()=>{if(a&&l)return l.register(a)},[l,a]),zA(()=>{var d;!o||!a||(a instanceof Node&&o.contains(a)&&o.removeChild(a),o.childNodes.length<=0&&((d=o.parentElement)==null||d.removeChild(o)))}),c?!o||!a?null:wa.createPortal(sn({ourProps:{ref:i},theirProps:n,defaultTag:mF,name:"Portal"}),a):null}let vF=I.Fragment,YA=I.createContext(null);function yF(t,e){let{target:n,...r}=t,i={ref:_n(e)};return te.createElement(YA.Provider,{value:n},sn({ourProps:i,theirProps:r,defaultTag:vF,name:"Popover.Group"}))}let mp=I.createContext(null);function _F(){let t=I.useContext(mp),e=I.useRef([]),n=Ie(s=>(e.current.push(s),t&&t.register(s),()=>r(s))),r=Ie(s=>{let o=e.current.indexOf(s);o!==-1&&e.current.splice(o,1),t&&t.unregister(s)}),i=I.useMemo(()=>({register:n,unregister:r,portals:e}),[n,r,e]);return[e,I.useMemo(()=>function({children:s}){return te.createElement(mp.Provider,{value:i},s)},[i])]}let EF=Gt(gF),wF=Gt(yF),gp=Object.assign(EF,{Group:wF});function SF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const TF=typeof Object.is=="function"?Object.is:SF,{useState:AF,useEffect:CF,useLayoutEffect:bF,useDebugValue:RF}=Cs;function IF(t,e,n){const r=e(),[{inst:i},s]=AF({inst:{value:r,getSnapshot:e}});return bF(()=>{i.value=r,i.getSnapshot=e,Oh(i)&&s({inst:i})},[t,r,e]),CF(()=>(Oh(i)&&s({inst:i}),t(()=>{Oh(i)&&s({inst:i})})),[t]),RF(r),r}function Oh(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!TF(n,r)}catch{return!0}}function DF(t,e,n){return e()}const kF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xF=!kF,PF=xF?DF:IF,NF="useSyncExternalStore"in Cs?(t=>t.useSyncExternalStore)(Cs):PF;function MF(t){return NF(t.subscribe,t.getSnapshot,t.getSnapshot)}function OF(t,e){let n=t(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...s){let o=e[i].call(n,...s);o&&(n=o,r.forEach(a=>a()))}}}function VF(){let t;return{before({doc:e}){var n;let r=e.documentElement;t=((n=e.defaultView)!=null?n:window).innerWidth-r.clientWidth},after({doc:e,d:n}){let r=e.documentElement,i=r.clientWidth-r.offsetWidth,s=t-i;n.style(r,"paddingRight",`${s}px`)}}}function LF(){return FA()?{before({doc:t,d:e,meta:n}){function r(i){return n.containers.flatMap(s=>s()).some(s=>s.contains(i))}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let a=ji();a.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>a.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,o=null;e.addEventListener(t,"click",a=>{if(a.target instanceof HTMLElement)try{let l=a.target.closest("a");if(!l)return;let{hash:c}=new URL(l.href),d=t.querySelector(c);d&&!r(d)&&(o=d)}catch{}},!0),e.addEventListener(t,"touchstart",a=>{if(a.target instanceof HTMLElement)if(r(a.target)){let l=a.target;for(;l.parentElement&&r(l.parentElement);)l=l.parentElement;e.style(l,"overscrollBehavior","contain")}else e.style(a.target,"touchAction","none")}),e.addEventListener(t,"touchmove",a=>{if(a.target instanceof HTMLElement)if(r(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()},{passive:!1}),e.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;s!==l&&window.scrollTo(0,s),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function FF(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function UF(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let fi=OF(()=>new Map,{PUSH(t,e){var n;let r=(n=this.get(t))!=null?n:{doc:t,count:0,d:ji(),meta:new Set};return r.count++,r.meta.add(e),this.set(t,r),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let r={doc:t,d:e,meta:UF(n)},i=[LF(),VF(),FF()];i.forEach(({before:s})=>s==null?void 0:s(r)),i.forEach(({after:s})=>s==null?void 0:s(r))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});fi.subscribe(()=>{let t=fi.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let r=e.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&fi.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&fi.dispatch("TEARDOWN",n)}});function jF(t,e,n){let r=MF(fi),i=t?r.get(t):void 0,s=i?i.count>0:!1;return rn(()=>{if(!(!t||!e))return fi.dispatch("PUSH",t,n),()=>fi.dispatch("POP",t,n)},[e,t]),s}let Vh=new Map,ko=new Map;function S_(t,e=!0){rn(()=>{var n;if(!e)return;let r=typeof t=="function"?t():t.current;if(!r)return;function i(){var o;if(!r)return;let a=(o=ko.get(r))!=null?o:1;if(a===1?ko.delete(r):ko.set(r,a-1),a!==1)return;let l=Vh.get(r);l&&(l["aria-hidden"]===null?r.removeAttribute("aria-hidden"):r.setAttribute("aria-hidden",l["aria-hidden"]),r.inert=l.inert,Vh.delete(r))}let s=(n=ko.get(r))!=null?n:0;return ko.set(r,s+1),s!==0||(Vh.set(r,{"aria-hidden":r.getAttribute("aria-hidden"),inert:r.inert}),r.setAttribute("aria-hidden","true"),r.inert=!0),i},[t,e])}function BF({defaultContainers:t=[],portals:e,mainTreeNodeRef:n}={}){var r;let i=I.useRef((r=n==null?void 0:n.current)!=null?r:null),s=Ya(i),o=Ie(()=>{var a,l,c;let d=[];for(let h of t)h!==null&&(h instanceof HTMLElement?d.push(h):"current"in h&&h.current instanceof HTMLElement&&d.push(h.current));if(e!=null&&e.current)for(let h of e.current)d.push(h);for(let h of(a=s==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?a:[])h!==document.body&&h!==document.head&&h instanceof HTMLElement&&h.id!=="headlessui-portal-root"&&(h.contains(i.current)||h.contains((c=(l=i.current)==null?void 0:l.getRootNode())==null?void 0:c.host)||d.some(p=>h.contains(p))||d.push(h));return d});return{resolveContainers:o,contains:Ie(a=>o().some(l=>l.contains(a))),mainTreeNodeRef:i,MainTreeNode:I.useMemo(()=>function(){return n!=null?null:te.createElement(fp,{features:Ec.Hidden,ref:i})},[i,n])}}let hg=I.createContext(()=>{});hg.displayName="StackContext";var vp=(t=>(t[t.Add=0]="Add",t[t.Remove=1]="Remove",t))(vp||{});function $F(){return I.useContext(hg)}function HF({children:t,onUpdate:e,type:n,element:r,enabled:i}){let s=$F(),o=Ie((...a)=>{e==null||e(...a),s(...a)});return rn(()=>{let a=i===void 0||i===!0;return a&&o(0,n,r),()=>{a&&o(1,n,r)}},[o,n,r,i]),te.createElement(hg.Provider,{value:o},t)}let KA=I.createContext(null);function XA(){let t=I.useContext(KA);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,XA),e}return t}function zF(){let[t,e]=I.useState([]);return[t.length>0?t.join(" "):void 0,I.useMemo(()=>function(n){let r=Ie(s=>(e(o=>[...o,s]),()=>e(o=>{let a=o.slice(),l=a.indexOf(s);return l!==-1&&a.splice(l,1),a}))),i=I.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props}),[r,n.slot,n.name,n.props]);return te.createElement(KA.Provider,{value:i},n.children)},[e])]}let WF="p";function qF(t,e){let n=Zs(),{id:r=`headlessui-description-${n}`,...i}=t,s=XA(),o=_n(e);rn(()=>s.register(r),[r,s.register]);let a={ref:o,...s.props,id:r};return sn({ourProps:a,theirProps:i,slot:s.slot||{},defaultTag:WF,name:s.name||"Description"})}let GF=Gt(qF),QF=Object.assign(GF,{});var YF=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(YF||{}),KF=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(KF||{});let XF={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},wc=I.createContext(null);wc.displayName="DialogContext";function Xa(t){let e=I.useContext(wc);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Xa),n}return e}function ZF(t,e,n=()=>[document.body]){jF(t,e,r=>{var i;return{containers:[...(i=r.containers)!=null?i:[],n]}})}function JF(t,e){return Et(e.type,XF,t,e)}let e4="div",t4=_c.RenderStrategy|_c.Static;function n4(t,e){let n=Zs(),{id:r=`headlessui-dialog-${n}`,open:i,onClose:s,initialFocus:o,role:a="dialog",__demoMode:l=!1,...c}=t,[d,h]=I.useState(0),p=I.useRef(!1);a=function(){return a==="dialog"||a==="alertdialog"?a:(p.current||(p.current=!0,console.warn(`Invalid role [${a}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let m=dg();i===void 0&&m!==null&&(i=(m&Ut.Open)===Ut.Open);let v=I.useRef(null),T=_n(v,e),S=Ya(v),y=t.hasOwnProperty("open")||m!==null,E=t.hasOwnProperty("onClose");if(!y&&!E)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!y)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!E)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof i!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${i}`);if(typeof s!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${s}`);let A=i?0:1,[x,F]=I.useReducer(JF,{titleId:null,descriptionId:null,panelRef:I.createRef()}),L=Ie(()=>s(!1)),C=Ie(ve=>F({type:0,id:ve})),_=Xs()?l?!1:A===0:!1,b=d>1,R=I.useContext(wc)!==null,[k,P]=_F(),D={get current(){var ve;return(ve=x.panelRef.current)!=null?ve:v.current}},{resolveContainers:je,mainTreeNodeRef:he,MainTreeNode:Ke}=BF({portals:k,defaultContainers:[D]}),Me=b?"parent":"leaf",z=m!==null?(m&Ut.Closing)===Ut.Closing:!1,K=R||z?!1:_,X=I.useCallback(()=>{var ve,Vt;return(Vt=Array.from((ve=S==null?void 0:S.querySelectorAll("body > *"))!=null?ve:[]).find(ut=>ut.id==="headlessui-portal-root"?!1:ut.contains(he.current)&&ut instanceof HTMLElement))!=null?Vt:null},[he]);S_(X,K);let fe=b?!0:_,re=I.useCallback(()=>{var ve,Vt;return(Vt=Array.from((ve=S==null?void 0:S.querySelectorAll("[data-headlessui-portal]"))!=null?ve:[]).find(ut=>ut.contains(he.current)&&ut instanceof HTMLElement))!=null?Vt:null},[he]);S_(re,fe),KL(je,ve=>{ve.preventDefault(),L()},!(!_||b));let Be=!(b||A!==0);HA(S==null?void 0:S.defaultView,"keydown",ve=>{Be&&(ve.defaultPrevented||ve.key===$A.Escape&&(ve.preventDefault(),ve.stopPropagation(),L()))}),ZF(S,!(z||A!==0||R),je),I.useEffect(()=>{if(A!==0||!v.current)return;let ve=new ResizeObserver(Vt=>{for(let ut of Vt){let rr=ut.target.getBoundingClientRect();rr.x===0&&rr.y===0&&rr.width===0&&rr.height===0&&L()}});return ve.observe(v.current),()=>ve.disconnect()},[A,v,L]);let[on,an]=zF(),Sd=I.useMemo(()=>[{dialogState:A,close:L,setTitleId:C},x],[A,x,L,C]),sl=I.useMemo(()=>({open:A===0}),[A]),Hi={ref:T,id:r,role:a,"aria-modal":A===0?!0:void 0,"aria-labelledby":x.titleId,"aria-describedby":on};return te.createElement(HF,{type:"Dialog",enabled:A===0,element:v,onUpdate:Ie((ve,Vt)=>{Vt==="Dialog"&&Et(ve,{[vp.Add]:()=>h(ut=>ut+1),[vp.Remove]:()=>h(ut=>ut-1)})})},te.createElement(pp,{force:!0},te.createElement(gp,null,te.createElement(wc.Provider,{value:Sd},te.createElement(gp.Group,{target:v},te.createElement(pp,{force:!1},te.createElement(an,{slot:sl,name:"Dialog.Description"},te.createElement(Do,{initialFocus:o,containers:je,features:_?Et(Me,{parent:Do.features.RestoreFocus,leaf:Do.features.All&~Do.features.FocusLock}):Do.features.None},te.createElement(P,null,sn({ourProps:Hi,theirProps:c,slot:sl,defaultTag:e4,features:t4,visible:A===0,name:"Dialog"}))))))))),te.createElement(Ke,null))}let r4="div";function i4(t,e){let n=Zs(),{id:r=`headlessui-dialog-overlay-${n}`,...i}=t,[{dialogState:s,close:o}]=Xa("Dialog.Overlay"),a=_n(e),l=Ie(d=>{if(d.target===d.currentTarget){if(rF(d.currentTarget))return d.preventDefault();d.preventDefault(),d.stopPropagation(),o()}}),c=I.useMemo(()=>({open:s===0}),[s]);return sn({ourProps:{ref:a,id:r,"aria-hidden":!0,onClick:l},theirProps:i,slot:c,defaultTag:r4,name:"Dialog.Overlay"})}let s4="div";function o4(t,e){let n=Zs(),{id:r=`headlessui-dialog-backdrop-${n}`,...i}=t,[{dialogState:s},o]=Xa("Dialog.Backdrop"),a=_n(e);I.useEffect(()=>{if(o.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[o.panelRef]);let l=I.useMemo(()=>({open:s===0}),[s]);return te.createElement(pp,{force:!0},te.createElement(gp,null,sn({ourProps:{ref:a,id:r,"aria-hidden":!0},theirProps:i,slot:l,defaultTag:s4,name:"Dialog.Backdrop"})))}let a4="div";function l4(t,e){let n=Zs(),{id:r=`headlessui-dialog-panel-${n}`,...i}=t,[{dialogState:s},o]=Xa("Dialog.Panel"),a=_n(e,o.panelRef),l=I.useMemo(()=>({open:s===0}),[s]),c=Ie(d=>{d.stopPropagation()});return sn({ourProps:{ref:a,id:r,onClick:c},theirProps:i,slot:l,defaultTag:a4,name:"Dialog.Panel"})}let u4="h2";function c4(t,e){let n=Zs(),{id:r=`headlessui-dialog-title-${n}`,...i}=t,[{dialogState:s,setTitleId:o}]=Xa("Dialog.Title"),a=_n(e);I.useEffect(()=>(o(r),()=>o(null)),[r,o]);let l=I.useMemo(()=>({open:s===0}),[s]);return sn({ourProps:{ref:a,id:r},theirProps:i,slot:l,defaultTag:u4,name:"Dialog.Title"})}let d4=Gt(n4),h4=Gt(o4),f4=Gt(l4),p4=Gt(i4),m4=Gt(c4),Lh=Object.assign(d4,{Backdrop:h4,Panel:f4,Overlay:p4,Title:m4,Description:QF});function g4(t=0){let[e,n]=I.useState(t),r=Ka(),i=I.useCallback(l=>{r.current&&n(c=>c|l)},[e,r]),s=I.useCallback(l=>!!(e&l),[e]),o=I.useCallback(l=>{r.current&&n(c=>c&~l)},[n,r]),a=I.useCallback(l=>{r.current&&n(c=>c^l)},[n]);return{flags:e,addFlag:i,hasFlag:s,removeFlag:o,toggleFlag:a}}function v4(t){let e={called:!1};return(...n)=>{if(!e.called)return e.called=!0,t(...n)}}function Fh(t,...e){t&&e.length>0&&t.classList.add(...e)}function Uh(t,...e){t&&e.length>0&&t.classList.remove(...e)}function y4(t,e){let n=ji();if(!t)return n.dispose;let{transitionDuration:r,transitionDelay:i}=getComputedStyle(t),[s,o]=[r,i].map(l=>{let[c=0]=l.split(",").filter(Boolean).map(d=>d.includes("ms")?parseFloat(d):parseFloat(d)*1e3).sort((d,h)=>h-d);return c}),a=s+o;if(a!==0){n.group(c=>{c.setTimeout(()=>{e(),c.dispose()},a),c.addEventListener(t,"transitionrun",d=>{d.target===d.currentTarget&&c.dispose()})});let l=n.addEventListener(t,"transitionend",c=>{c.target===c.currentTarget&&(e(),l())})}else e();return n.add(()=>e()),n.dispose}function _4(t,e,n,r){let i=n?"enter":"leave",s=ji(),o=r!==void 0?v4(r):()=>{};i==="enter"&&(t.removeAttribute("hidden"),t.style.display="");let a=Et(i,{enter:()=>e.enter,leave:()=>e.leave}),l=Et(i,{enter:()=>e.enterTo,leave:()=>e.leaveTo}),c=Et(i,{enter:()=>e.enterFrom,leave:()=>e.leaveFrom});return Uh(t,...e.base,...e.enter,...e.enterTo,...e.enterFrom,...e.leave,...e.leaveFrom,...e.leaveTo,...e.entered),Fh(t,...e.base,...a,...c),s.nextFrame(()=>{Uh(t,...e.base,...a,...c),Fh(t,...e.base,...a,...l),y4(t,()=>(Uh(t,...e.base,...a),Fh(t,...e.base,...e.entered),o()))}),s.dispose}function E4({immediate:t,container:e,direction:n,classes:r,onStart:i,onStop:s}){let o=Ka(),a=lg(),l=zn(n);rn(()=>{t&&(l.current="enter")},[t]),rn(()=>{let c=ji();a.add(c.dispose);let d=e.current;if(d&&l.current!=="idle"&&o.current)return c.dispose(),i.current(l.current),c.add(_4(d,r.current,l.current==="enter",()=>{c.dispose(),s.current(l.current)})),c.dispose},[n])}function ur(t=""){return t.split(/\s+/).filter(e=>e.length>1)}let ad=I.createContext(null);ad.displayName="TransitionContext";var w4=(t=>(t.Visible="visible",t.Hidden="hidden",t))(w4||{});function S4(){let t=I.useContext(ad);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function T4(){let t=I.useContext(ld);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let ld=I.createContext(null);ld.displayName="NestingContext";function ud(t){return"children"in t?ud(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function ZA(t,e){let n=zn(t),r=I.useRef([]),i=Ka(),s=lg(),o=Ie((m,v=Sr.Hidden)=>{let T=r.current.findIndex(({el:S})=>S===m);T!==-1&&(Et(v,{[Sr.Unmount](){r.current.splice(T,1)},[Sr.Hidden](){r.current[T].state="hidden"}}),s.microTask(()=>{var S;!ud(r)&&i.current&&((S=n.current)==null||S.call(n))}))}),a=Ie(m=>{let v=r.current.find(({el:T})=>T===m);return v?v.state!=="visible"&&(v.state="visible"):r.current.push({el:m,state:"visible"}),()=>o(m,Sr.Unmount)}),l=I.useRef([]),c=I.useRef(Promise.resolve()),d=I.useRef({enter:[],leave:[],idle:[]}),h=Ie((m,v,T)=>{l.current.splice(0),e&&(e.chains.current[v]=e.chains.current[v].filter(([S])=>S!==m)),e==null||e.chains.current[v].push([m,new Promise(S=>{l.current.push(S)})]),e==null||e.chains.current[v].push([m,new Promise(S=>{Promise.all(d.current[v].map(([y,E])=>E)).then(()=>S())})]),v==="enter"?c.current=c.current.then(()=>e==null?void 0:e.wait.current).then(()=>T(v)):T(v)}),p=Ie((m,v,T)=>{Promise.all(d.current[v].splice(0).map(([S,y])=>y)).then(()=>{var S;(S=l.current.shift())==null||S()}).then(()=>T(v))});return I.useMemo(()=>({children:r,register:a,unregister:o,onStart:h,onStop:p,wait:c,chains:d}),[a,o,r,h,p,d,c])}function A4(){}let C4=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function T_(t){var e;let n={};for(let r of C4)n[r]=(e=t[r])!=null?e:A4;return n}function b4(t){let e=I.useRef(T_(t));return I.useEffect(()=>{e.current=T_(t)},[t]),e}let R4="div",JA=_c.RenderStrategy;function I4(t,e){var n,r;let{beforeEnter:i,afterEnter:s,beforeLeave:o,afterLeave:a,enter:l,enterFrom:c,enterTo:d,entered:h,leave:p,leaveFrom:m,leaveTo:v,...T}=t,S=I.useRef(null),y=_n(S,e),E=(n=T.unmount)==null||n?Sr.Unmount:Sr.Hidden,{show:A,appear:x,initial:F}=S4(),[L,C]=I.useState(A?"visible":"hidden"),_=T4(),{register:b,unregister:R}=_;I.useEffect(()=>b(S),[b,S]),I.useEffect(()=>{if(E===Sr.Hidden&&S.current){if(A&&L!=="visible"){C("visible");return}return Et(L,{hidden:()=>R(S),visible:()=>b(S)})}},[L,S,b,R,A,E]);let k=zn({base:ur(T.className),enter:ur(l),enterFrom:ur(c),enterTo:ur(d),entered:ur(h),leave:ur(p),leaveFrom:ur(m),leaveTo:ur(v)}),P=b4({beforeEnter:i,afterEnter:s,beforeLeave:o,afterLeave:a}),D=Xs();I.useEffect(()=>{if(D&&L==="visible"&&S.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[S,L,D]);let je=F&&!x,he=x&&A&&F,Ke=!D||je?"idle":A?"enter":"leave",Me=g4(0),z=Ie(Be=>Et(Be,{enter:()=>{Me.addFlag(Ut.Opening),P.current.beforeEnter()},leave:()=>{Me.addFlag(Ut.Closing),P.current.beforeLeave()},idle:()=>{}})),K=Ie(Be=>Et(Be,{enter:()=>{Me.removeFlag(Ut.Opening),P.current.afterEnter()},leave:()=>{Me.removeFlag(Ut.Closing),P.current.afterLeave()},idle:()=>{}})),X=ZA(()=>{C("hidden"),R(S)},_),fe=I.useRef(!1);E4({immediate:he,container:S,classes:k,direction:Ke,onStart:zn(Be=>{fe.current=!0,X.onStart(S,Be,z)}),onStop:zn(Be=>{fe.current=!1,X.onStop(S,Be,K),Be==="leave"&&!ud(X)&&(C("hidden"),R(S))})});let re=T,Ae={ref:y};return he?re={...re,className:yc(T.className,...k.current.enter,...k.current.enterFrom)}:fe.current&&(re.className=yc(T.className,(r=S.current)==null?void 0:r.className),re.className===""&&delete re.className),te.createElement(ld.Provider,{value:X},te.createElement(tF,{value:Et(L,{visible:Ut.Open,hidden:Ut.Closed})|Me.flags},sn({ourProps:Ae,theirProps:re,defaultTag:R4,features:JA,visible:L==="visible",name:"Transition.Child"})))}function D4(t,e){let{show:n,appear:r=!1,unmount:i=!0,...s}=t,o=I.useRef(null),a=_n(o,e);Xs();let l=dg();if(n===void 0&&l!==null&&(n=(l&Ut.Open)===Ut.Open),![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[c,d]=I.useState(n?"visible":"hidden"),h=ZA(()=>{d("hidden")}),[p,m]=I.useState(!0),v=I.useRef([n]);rn(()=>{p!==!1&&v.current[v.current.length-1]!==n&&(v.current.push(n),m(!1))},[v,n]);let T=I.useMemo(()=>({show:n,appear:r,initial:p}),[n,r,p]);I.useEffect(()=>{if(n)d("visible");else if(!ud(h))d("hidden");else{let A=o.current;if(!A)return;let x=A.getBoundingClientRect();x.x===0&&x.y===0&&x.width===0&&x.height===0&&d("hidden")}},[n,h]);let S={unmount:i},y=Ie(()=>{var A;p&&m(!1),(A=t.beforeEnter)==null||A.call(t)}),E=Ie(()=>{var A;p&&m(!1),(A=t.beforeLeave)==null||A.call(t)});return te.createElement(ld.Provider,{value:h},te.createElement(ad.Provider,{value:T},sn({ourProps:{...S,as:I.Fragment,children:te.createElement(e1,{ref:a,...S,...s,beforeEnter:y,beforeLeave:E})},theirProps:{},defaultTag:I.Fragment,features:JA,visible:c==="visible",name:"Transition"})))}function k4(t,e){let n=I.useContext(ad)!==null,r=dg()!==null;return te.createElement(te.Fragment,null,!n&&r?te.createElement(yp,{ref:e,...t}):te.createElement(e1,{ref:e,...t}))}let yp=Gt(D4),e1=Gt(I4),x4=Gt(k4),jh=Object.assign(yp,{Child:x4,Root:yp});var A_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},P4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},n1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(p=64)),r.push(n[d],n[h],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(t1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):P4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new N4;const p=s<<2|a>>4;if(r.push(p),c!==64){const m=a<<4&240|c>>2;if(r.push(m),h!==64){const v=c<<6&192|h;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class N4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const M4=function(t){const e=t1(t);return n1.encodeByteArray(e,!0)},Sc=function(t){return M4(t).replace(/\./g,"")},O4=function(t){try{return n1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4=()=>V4().__FIREBASE_DEFAULTS__,F4=()=>{if(typeof process>"u"||typeof A_>"u")return;const t=A_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},U4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&O4(t[1]);return e&&JSON.parse(e)},fg=()=>{try{return L4()||F4()||U4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},j4=t=>{var e,n;return(n=(e=fg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},B4=t=>{const e=j4(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},r1=()=>{var t;return(t=fg())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Sc(JSON.stringify(n)),Sc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function W4(){var t;const e=(t=fg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function q4(){return!W4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function G4(){try{return typeof indexedDB=="object"}catch{return!1}}function Q4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4="FirebaseError";class Js extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Y4,Object.setPrototypeOf(this,Js.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,i1.prototype.create)}}class i1{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?K4(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Js(i,a,r)}}function K4(t,e){return t.replace(X4,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const X4=/\{\$([^}]+)}/g;function _p(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(C_(s)&&C_(o)){if(!_p(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function C_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vs(t){return t&&t._delegate?t._delegate:t}class Ia{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new $4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eU(e))try{this.getOrInitializeService({instanceIdentifier:oi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=oi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=oi){return this.instances.has(e)}getOptions(e=oi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:J4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=oi){return this.component?this.component.multipleInstances?e:oi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function J4(t){return t===oi?void 0:t}function eU(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Z4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(oe||(oe={}));const nU={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},rU=oe.INFO,iU={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},sU=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=iU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class s1{constructor(e){this.name=e,this._logLevel=rU,this._logHandler=sU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...e),this._logHandler(this,oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...e),this._logHandler(this,oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...e),this._logHandler(this,oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...e),this._logHandler(this,oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...e),this._logHandler(this,oe.ERROR,...e)}}const oU=(t,e)=>e.some(n=>t instanceof n);let b_,R_;function aU(){return b_||(b_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lU(){return R_||(R_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const o1=new WeakMap,Ep=new WeakMap,a1=new WeakMap,Bh=new WeakMap,pg=new WeakMap;function uU(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Mr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&o1.set(n,t)}).catch(()=>{}),pg.set(e,t),e}function cU(t){if(Ep.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Ep.set(t,e)}let wp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ep.get(t);if(e==="objectStoreNames")return t.objectStoreNames||a1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function dU(t){wp=t(wp)}function hU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call($h(this),e,...n);return a1.set(r,e.sort?e.sort():[e]),Mr(r)}:lU().includes(t)?function(...e){return t.apply($h(this),e),Mr(o1.get(this))}:function(...e){return Mr(t.apply($h(this),e))}}function fU(t){return typeof t=="function"?hU(t):(t instanceof IDBTransaction&&cU(t),oU(t,aU())?new Proxy(t,wp):t)}function Mr(t){if(t instanceof IDBRequest)return uU(t);if(Bh.has(t))return Bh.get(t);const e=fU(t);return e!==t&&(Bh.set(t,e),pg.set(e,t)),e}const $h=t=>pg.get(t);function pU(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Mr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Mr(o.result),l.oldVersion,l.newVersion,Mr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const mU=["get","getKey","getAll","getAllKeys","count"],gU=["put","add","delete","clear"],Hh=new Map;function I_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Hh.get(e))return Hh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=gU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||mU.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Hh.set(e,s),s}dU(t=>({...t,get:(e,n,r)=>I_(e,n)||t.get(e,n,r),has:(e,n)=>!!I_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yU(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function yU(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Sp="@firebase/app",D_="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zn=new s1("@firebase/app"),_U="@firebase/app-compat",EU="@firebase/analytics-compat",wU="@firebase/analytics",SU="@firebase/app-check-compat",TU="@firebase/app-check",AU="@firebase/auth",CU="@firebase/auth-compat",bU="@firebase/database",RU="@firebase/data-connect",IU="@firebase/database-compat",DU="@firebase/functions",kU="@firebase/functions-compat",xU="@firebase/installations",PU="@firebase/installations-compat",NU="@firebase/messaging",MU="@firebase/messaging-compat",OU="@firebase/performance",VU="@firebase/performance-compat",LU="@firebase/remote-config",FU="@firebase/remote-config-compat",UU="@firebase/storage",jU="@firebase/storage-compat",BU="@firebase/firestore",$U="@firebase/vertexai-preview",HU="@firebase/firestore-compat",zU="firebase",WU="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp="[DEFAULT]",qU={[Sp]:"fire-core",[_U]:"fire-core-compat",[wU]:"fire-analytics",[EU]:"fire-analytics-compat",[TU]:"fire-app-check",[SU]:"fire-app-check-compat",[AU]:"fire-auth",[CU]:"fire-auth-compat",[bU]:"fire-rtdb",[RU]:"fire-data-connect",[IU]:"fire-rtdb-compat",[DU]:"fire-fn",[kU]:"fire-fn-compat",[xU]:"fire-iid",[PU]:"fire-iid-compat",[NU]:"fire-fcm",[MU]:"fire-fcm-compat",[OU]:"fire-perf",[VU]:"fire-perf-compat",[LU]:"fire-rc",[FU]:"fire-rc-compat",[UU]:"fire-gcs",[jU]:"fire-gcs-compat",[BU]:"fire-fst",[HU]:"fire-fst-compat",[$U]:"fire-vertex","fire-js":"fire-js",[zU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc=new Map,GU=new Map,Ap=new Map;function k_(t,e){try{t.container.addComponent(e)}catch(n){Zn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ac(t){const e=t.name;if(Ap.has(e))return Zn.debug(`There were multiple attempts to register component ${e}.`),!1;Ap.set(e,t);for(const n of Tc.values())k_(n,t);for(const n of GU.values())k_(n,t);return!0}function QU(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Or=new i1("app","Firebase",YU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ia("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Or.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XU=WU;function l1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Tp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Or.create("bad-app-name",{appName:String(i)});if(n||(n=r1()),!n)throw Or.create("no-options");const s=Tc.get(i);if(s){if(_p(n,s.options)&&_p(r,s.config))return s;throw Or.create("duplicate-app",{appName:i})}const o=new tU(i);for(const l of Ap.values())o.addComponent(l);const a=new KU(n,r,o);return Tc.set(i,a),a}function ZU(t=Tp){const e=Tc.get(t);if(!e&&t===Tp&&r1())return l1();if(!e)throw Or.create("no-app",{appName:t});return e}function Ts(t,e,n){var r;let i=(r=qU[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zn.warn(a.join(" "));return}Ac(new Ia(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JU="firebase-heartbeat-database",ej=1,Da="firebase-heartbeat-store";let zh=null;function u1(){return zh||(zh=pU(JU,ej,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Da)}catch(n){console.warn(n)}}}}).catch(t=>{throw Or.create("idb-open",{originalErrorMessage:t.message})})),zh}async function tj(t){try{const n=(await u1()).transaction(Da),r=await n.objectStore(Da).get(c1(t));return await n.done,r}catch(e){if(e instanceof Js)Zn.warn(e.message);else{const n=Or.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zn.warn(n.message)}}}async function x_(t,e){try{const r=(await u1()).transaction(Da,"readwrite");await r.objectStore(Da).put(e,c1(t)),await r.done}catch(n){if(n instanceof Js)Zn.warn(n.message);else{const r=Or.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Zn.warn(r.message)}}}function c1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj=1024,rj=30*24*60*60*1e3;class ij{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new oj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=P_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=rj}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Zn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=P_(),{heartbeatsToSend:r,unsentEntries:i}=sj(this._heartbeatsCache.heartbeats),s=Sc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Zn.warn(n),""}}}function P_(){return new Date().toISOString().substring(0,10)}function sj(t,e=nj){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),N_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),N_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class oj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return G4()?Q4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await tj(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return x_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return x_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function N_(t){return Sc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aj(t){Ac(new Ia("platform-logger",e=>new vU(e),"PRIVATE")),Ac(new Ia("heartbeat",e=>new ij(e),"PRIVATE")),Ts(Sp,D_,t),Ts(Sp,D_,"esm2017"),Ts("fire-js","")}aj("");var M_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _i,d1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,_){function b(){}b.prototype=_.prototype,C.D=_.prototype,C.prototype=new b,C.prototype.constructor=C,C.C=function(R,k,P){for(var D=Array(arguments.length-2),je=2;je<arguments.length;je++)D[je-2]=arguments[je];return _.prototype[k].apply(R,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,_,b){b||(b=0);var R=Array(16);if(typeof _=="string")for(var k=0;16>k;++k)R[k]=_.charCodeAt(b++)|_.charCodeAt(b++)<<8|_.charCodeAt(b++)<<16|_.charCodeAt(b++)<<24;else for(k=0;16>k;++k)R[k]=_[b++]|_[b++]<<8|_[b++]<<16|_[b++]<<24;_=C.g[0],b=C.g[1],k=C.g[2];var P=C.g[3],D=_+(P^b&(k^P))+R[0]+3614090360&4294967295;_=b+(D<<7&4294967295|D>>>25),D=P+(k^_&(b^k))+R[1]+3905402710&4294967295,P=_+(D<<12&4294967295|D>>>20),D=k+(b^P&(_^b))+R[2]+606105819&4294967295,k=P+(D<<17&4294967295|D>>>15),D=b+(_^k&(P^_))+R[3]+3250441966&4294967295,b=k+(D<<22&4294967295|D>>>10),D=_+(P^b&(k^P))+R[4]+4118548399&4294967295,_=b+(D<<7&4294967295|D>>>25),D=P+(k^_&(b^k))+R[5]+1200080426&4294967295,P=_+(D<<12&4294967295|D>>>20),D=k+(b^P&(_^b))+R[6]+2821735955&4294967295,k=P+(D<<17&4294967295|D>>>15),D=b+(_^k&(P^_))+R[7]+4249261313&4294967295,b=k+(D<<22&4294967295|D>>>10),D=_+(P^b&(k^P))+R[8]+1770035416&4294967295,_=b+(D<<7&4294967295|D>>>25),D=P+(k^_&(b^k))+R[9]+2336552879&4294967295,P=_+(D<<12&4294967295|D>>>20),D=k+(b^P&(_^b))+R[10]+4294925233&4294967295,k=P+(D<<17&4294967295|D>>>15),D=b+(_^k&(P^_))+R[11]+2304563134&4294967295,b=k+(D<<22&4294967295|D>>>10),D=_+(P^b&(k^P))+R[12]+1804603682&4294967295,_=b+(D<<7&4294967295|D>>>25),D=P+(k^_&(b^k))+R[13]+4254626195&4294967295,P=_+(D<<12&4294967295|D>>>20),D=k+(b^P&(_^b))+R[14]+2792965006&4294967295,k=P+(D<<17&4294967295|D>>>15),D=b+(_^k&(P^_))+R[15]+1236535329&4294967295,b=k+(D<<22&4294967295|D>>>10),D=_+(k^P&(b^k))+R[1]+4129170786&4294967295,_=b+(D<<5&4294967295|D>>>27),D=P+(b^k&(_^b))+R[6]+3225465664&4294967295,P=_+(D<<9&4294967295|D>>>23),D=k+(_^b&(P^_))+R[11]+643717713&4294967295,k=P+(D<<14&4294967295|D>>>18),D=b+(P^_&(k^P))+R[0]+3921069994&4294967295,b=k+(D<<20&4294967295|D>>>12),D=_+(k^P&(b^k))+R[5]+3593408605&4294967295,_=b+(D<<5&4294967295|D>>>27),D=P+(b^k&(_^b))+R[10]+38016083&4294967295,P=_+(D<<9&4294967295|D>>>23),D=k+(_^b&(P^_))+R[15]+3634488961&4294967295,k=P+(D<<14&4294967295|D>>>18),D=b+(P^_&(k^P))+R[4]+3889429448&4294967295,b=k+(D<<20&4294967295|D>>>12),D=_+(k^P&(b^k))+R[9]+568446438&4294967295,_=b+(D<<5&4294967295|D>>>27),D=P+(b^k&(_^b))+R[14]+3275163606&4294967295,P=_+(D<<9&4294967295|D>>>23),D=k+(_^b&(P^_))+R[3]+4107603335&4294967295,k=P+(D<<14&4294967295|D>>>18),D=b+(P^_&(k^P))+R[8]+1163531501&4294967295,b=k+(D<<20&4294967295|D>>>12),D=_+(k^P&(b^k))+R[13]+2850285829&4294967295,_=b+(D<<5&4294967295|D>>>27),D=P+(b^k&(_^b))+R[2]+4243563512&4294967295,P=_+(D<<9&4294967295|D>>>23),D=k+(_^b&(P^_))+R[7]+1735328473&4294967295,k=P+(D<<14&4294967295|D>>>18),D=b+(P^_&(k^P))+R[12]+2368359562&4294967295,b=k+(D<<20&4294967295|D>>>12),D=_+(b^k^P)+R[5]+4294588738&4294967295,_=b+(D<<4&4294967295|D>>>28),D=P+(_^b^k)+R[8]+2272392833&4294967295,P=_+(D<<11&4294967295|D>>>21),D=k+(P^_^b)+R[11]+1839030562&4294967295,k=P+(D<<16&4294967295|D>>>16),D=b+(k^P^_)+R[14]+4259657740&4294967295,b=k+(D<<23&4294967295|D>>>9),D=_+(b^k^P)+R[1]+2763975236&4294967295,_=b+(D<<4&4294967295|D>>>28),D=P+(_^b^k)+R[4]+1272893353&4294967295,P=_+(D<<11&4294967295|D>>>21),D=k+(P^_^b)+R[7]+4139469664&4294967295,k=P+(D<<16&4294967295|D>>>16),D=b+(k^P^_)+R[10]+3200236656&4294967295,b=k+(D<<23&4294967295|D>>>9),D=_+(b^k^P)+R[13]+681279174&4294967295,_=b+(D<<4&4294967295|D>>>28),D=P+(_^b^k)+R[0]+3936430074&4294967295,P=_+(D<<11&4294967295|D>>>21),D=k+(P^_^b)+R[3]+3572445317&4294967295,k=P+(D<<16&4294967295|D>>>16),D=b+(k^P^_)+R[6]+76029189&4294967295,b=k+(D<<23&4294967295|D>>>9),D=_+(b^k^P)+R[9]+3654602809&4294967295,_=b+(D<<4&4294967295|D>>>28),D=P+(_^b^k)+R[12]+3873151461&4294967295,P=_+(D<<11&4294967295|D>>>21),D=k+(P^_^b)+R[15]+530742520&4294967295,k=P+(D<<16&4294967295|D>>>16),D=b+(k^P^_)+R[2]+3299628645&4294967295,b=k+(D<<23&4294967295|D>>>9),D=_+(k^(b|~P))+R[0]+4096336452&4294967295,_=b+(D<<6&4294967295|D>>>26),D=P+(b^(_|~k))+R[7]+1126891415&4294967295,P=_+(D<<10&4294967295|D>>>22),D=k+(_^(P|~b))+R[14]+2878612391&4294967295,k=P+(D<<15&4294967295|D>>>17),D=b+(P^(k|~_))+R[5]+4237533241&4294967295,b=k+(D<<21&4294967295|D>>>11),D=_+(k^(b|~P))+R[12]+1700485571&4294967295,_=b+(D<<6&4294967295|D>>>26),D=P+(b^(_|~k))+R[3]+2399980690&4294967295,P=_+(D<<10&4294967295|D>>>22),D=k+(_^(P|~b))+R[10]+4293915773&4294967295,k=P+(D<<15&4294967295|D>>>17),D=b+(P^(k|~_))+R[1]+2240044497&4294967295,b=k+(D<<21&4294967295|D>>>11),D=_+(k^(b|~P))+R[8]+1873313359&4294967295,_=b+(D<<6&4294967295|D>>>26),D=P+(b^(_|~k))+R[15]+4264355552&4294967295,P=_+(D<<10&4294967295|D>>>22),D=k+(_^(P|~b))+R[6]+2734768916&4294967295,k=P+(D<<15&4294967295|D>>>17),D=b+(P^(k|~_))+R[13]+1309151649&4294967295,b=k+(D<<21&4294967295|D>>>11),D=_+(k^(b|~P))+R[4]+4149444226&4294967295,_=b+(D<<6&4294967295|D>>>26),D=P+(b^(_|~k))+R[11]+3174756917&4294967295,P=_+(D<<10&4294967295|D>>>22),D=k+(_^(P|~b))+R[2]+718787259&4294967295,k=P+(D<<15&4294967295|D>>>17),D=b+(P^(k|~_))+R[9]+3951481745&4294967295,C.g[0]=C.g[0]+_&4294967295,C.g[1]=C.g[1]+(k+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+k&4294967295,C.g[3]=C.g[3]+P&4294967295}r.prototype.u=function(C,_){_===void 0&&(_=C.length);for(var b=_-this.blockSize,R=this.B,k=this.h,P=0;P<_;){if(k==0)for(;P<=b;)i(this,C,P),P+=this.blockSize;if(typeof C=="string"){for(;P<_;)if(R[k++]=C.charCodeAt(P++),k==this.blockSize){i(this,R),k=0;break}}else for(;P<_;)if(R[k++]=C[P++],k==this.blockSize){i(this,R),k=0;break}}this.h=k,this.o+=_},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var _=1;_<C.length-8;++_)C[_]=0;var b=8*this.o;for(_=C.length-8;_<C.length;++_)C[_]=b&255,b/=256;for(this.u(C),C=Array(16),_=b=0;4>_;++_)for(var R=0;32>R;R+=8)C[b++]=this.g[_]>>>R&255;return C};function s(C,_){var b=a;return Object.prototype.hasOwnProperty.call(b,C)?b[C]:b[C]=_(C)}function o(C,_){this.h=_;for(var b=[],R=!0,k=C.length-1;0<=k;k--){var P=C[k]|0;R&&P==_||(b[k]=P,R=!1)}this.g=b}var a={};function l(C){return-128<=C&&128>C?s(C,function(_){return new o([_|0],0>_?-1:0)}):new o([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return h;if(0>C)return S(c(-C));for(var _=[],b=1,R=0;C>=b;R++)_[R]=C/b|0,b*=4294967296;return new o(_,0)}function d(C,_){if(C.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(C.charAt(0)=="-")return S(d(C.substring(1),_));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=c(Math.pow(_,8)),R=h,k=0;k<C.length;k+=8){var P=Math.min(8,C.length-k),D=parseInt(C.substring(k,k+P),_);8>P?(P=c(Math.pow(_,P)),R=R.j(P).add(c(D))):(R=R.j(b),R=R.add(c(D)))}return R}var h=l(0),p=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(T(this))return-S(this).m();for(var C=0,_=1,b=0;b<this.g.length;b++){var R=this.i(b);C+=(0<=R?R:4294967296+R)*_,_*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(v(this))return"0";if(T(this))return"-"+S(this).toString(C);for(var _=c(Math.pow(C,6)),b=this,R="";;){var k=x(b,_).g;b=y(b,k.j(_));var P=((0<b.g.length?b.g[0]:b.h)>>>0).toString(C);if(b=k,v(b))return P+R;for(;6>P.length;)P="0"+P;R=P+R}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function v(C){if(C.h!=0)return!1;for(var _=0;_<C.g.length;_++)if(C.g[_]!=0)return!1;return!0}function T(C){return C.h==-1}t.l=function(C){return C=y(this,C),T(C)?-1:v(C)?0:1};function S(C){for(var _=C.g.length,b=[],R=0;R<_;R++)b[R]=~C.g[R];return new o(b,~C.h).add(p)}t.abs=function(){return T(this)?S(this):this},t.add=function(C){for(var _=Math.max(this.g.length,C.g.length),b=[],R=0,k=0;k<=_;k++){var P=R+(this.i(k)&65535)+(C.i(k)&65535),D=(P>>>16)+(this.i(k)>>>16)+(C.i(k)>>>16);R=D>>>16,P&=65535,D&=65535,b[k]=D<<16|P}return new o(b,b[b.length-1]&-2147483648?-1:0)};function y(C,_){return C.add(S(_))}t.j=function(C){if(v(this)||v(C))return h;if(T(this))return T(C)?S(this).j(S(C)):S(S(this).j(C));if(T(C))return S(this.j(S(C)));if(0>this.l(m)&&0>C.l(m))return c(this.m()*C.m());for(var _=this.g.length+C.g.length,b=[],R=0;R<2*_;R++)b[R]=0;for(R=0;R<this.g.length;R++)for(var k=0;k<C.g.length;k++){var P=this.i(R)>>>16,D=this.i(R)&65535,je=C.i(k)>>>16,he=C.i(k)&65535;b[2*R+2*k]+=D*he,E(b,2*R+2*k),b[2*R+2*k+1]+=P*he,E(b,2*R+2*k+1),b[2*R+2*k+1]+=D*je,E(b,2*R+2*k+1),b[2*R+2*k+2]+=P*je,E(b,2*R+2*k+2)}for(R=0;R<_;R++)b[R]=b[2*R+1]<<16|b[2*R];for(R=_;R<2*_;R++)b[R]=0;return new o(b,0)};function E(C,_){for(;(C[_]&65535)!=C[_];)C[_+1]+=C[_]>>>16,C[_]&=65535,_++}function A(C,_){this.g=C,this.h=_}function x(C,_){if(v(_))throw Error("division by zero");if(v(C))return new A(h,h);if(T(C))return _=x(S(C),_),new A(S(_.g),S(_.h));if(T(_))return _=x(C,S(_)),new A(S(_.g),_.h);if(30<C.g.length){if(T(C)||T(_))throw Error("slowDivide_ only works with positive integers.");for(var b=p,R=_;0>=R.l(C);)b=F(b),R=F(R);var k=L(b,1),P=L(R,1);for(R=L(R,2),b=L(b,2);!v(R);){var D=P.add(R);0>=D.l(C)&&(k=k.add(b),P=D),R=L(R,1),b=L(b,1)}return _=y(C,k.j(_)),new A(k,_)}for(k=h;0<=C.l(_);){for(b=Math.max(1,Math.floor(C.m()/_.m())),R=Math.ceil(Math.log(b)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),P=c(b),D=P.j(_);T(D)||0<D.l(C);)b-=R,P=c(b),D=P.j(_);v(P)&&(P=p),k=k.add(P),C=y(C,D)}return new A(k,C)}t.A=function(C){return x(this,C).h},t.and=function(C){for(var _=Math.max(this.g.length,C.g.length),b=[],R=0;R<_;R++)b[R]=this.i(R)&C.i(R);return new o(b,this.h&C.h)},t.or=function(C){for(var _=Math.max(this.g.length,C.g.length),b=[],R=0;R<_;R++)b[R]=this.i(R)|C.i(R);return new o(b,this.h|C.h)},t.xor=function(C){for(var _=Math.max(this.g.length,C.g.length),b=[],R=0;R<_;R++)b[R]=this.i(R)^C.i(R);return new o(b,this.h^C.h)};function F(C){for(var _=C.g.length+1,b=[],R=0;R<_;R++)b[R]=C.i(R)<<1|C.i(R-1)>>>31;return new o(b,C.h)}function L(C,_){var b=_>>5;_%=32;for(var R=C.g.length-b,k=[],P=0;P<R;P++)k[P]=0<_?C.i(P+b)>>>_|C.i(P+b+1)<<32-_:C.i(P+b);return new o(k,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,d1=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,_i=o}).apply(typeof M_<"u"?M_:typeof self<"u"?self:typeof window<"u"?window:{});var Xl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var h1,Lo,f1,Su,Cp,p1,m1,g1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,f,g){return u==Array.prototype||u==Object.prototype||(u[f]=g.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xl=="object"&&Xl];for(var f=0;f<u.length;++f){var g=u[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(u,f){if(f)e:{var g=r;u=u.split(".");for(var w=0;w<u.length-1;w++){var N=u[w];if(!(N in g))break e;g=g[N]}u=u[u.length-1],w=g[u],f=f(w),f!=w&&f!=null&&e(g,u,{configurable:!0,writable:!0,value:f})}}function s(u,f){u instanceof String&&(u+="");var g=0,w=!1,N={next:function(){if(!w&&g<u.length){var V=g++;return{value:f(V,u[V]),done:!1}}return w=!0,{done:!0,value:void 0}}};return N[Symbol.iterator]=function(){return N},N}i("Array.prototype.values",function(u){return u||function(){return s(this,function(f,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var f=typeof u;return f=f!="object"?f:u?Array.isArray(u)?"array":f:"null",f=="array"||f=="object"&&typeof u.length=="number"}function c(u){var f=typeof u;return f=="object"&&u!=null||f=="function"}function d(u,f,g){return u.call.apply(u.bind,arguments)}function h(u,f,g){if(!u)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var N=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(N,w),u.apply(f,N)}}return function(){return u.apply(f,arguments)}}function p(u,f,g){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,p.apply(null,arguments)}function m(u,f){var g=Array.prototype.slice.call(arguments,1);return function(){var w=g.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function v(u,f){function g(){}g.prototype=f.prototype,u.aa=f.prototype,u.prototype=new g,u.prototype.constructor=u,u.Qb=function(w,N,V){for(var H=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)H[ye-2]=arguments[ye];return f.prototype[N].apply(w,H)}}function T(u){const f=u.length;if(0<f){const g=Array(f);for(let w=0;w<f;w++)g[w]=u[w];return g}return[]}function S(u,f){for(let g=1;g<arguments.length;g++){const w=arguments[g];if(l(w)){const N=u.length||0,V=w.length||0;u.length=N+V;for(let H=0;H<V;H++)u[N+H]=w[H]}else u.push(w)}}class y{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function E(u){return/^[\s\xa0]*$/.test(u)}function A(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function x(u){return x[" "](u),u}x[" "]=function(){};var F=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function L(u,f,g){for(const w in u)f.call(g,u[w],w,u)}function C(u,f){for(const g in u)f.call(void 0,u[g],g,u)}function _(u){const f={};for(const g in u)f[g]=u[g];return f}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(u,f){let g,w;for(let N=1;N<arguments.length;N++){w=arguments[N];for(g in w)u[g]=w[g];for(let V=0;V<b.length;V++)g=b[V],Object.prototype.hasOwnProperty.call(w,g)&&(u[g]=w[g])}}function k(u){var f=1;u=u.split(":");const g=[];for(;0<f&&u.length;)g.push(u.shift()),f--;return u.length&&g.push(u.join(":")),g}function P(u){a.setTimeout(()=>{throw u},0)}function D(){var u=K;let f=null;return u.g&&(f=u.g,u.g=u.g.next,u.g||(u.h=null),f.next=null),f}class je{constructor(){this.h=this.g=null}add(f,g){const w=he.get();w.set(f,g),this.h?this.h.next=w:this.g=w,this.h=w}}var he=new y(()=>new Ke,u=>u.reset());class Ke{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let Me,z=!1,K=new je,X=()=>{const u=a.Promise.resolve(void 0);Me=()=>{u.then(fe)}};var fe=()=>{for(var u;u=D();){try{u.h.call(u.g)}catch(g){P(g)}var f=he;f.j(u),100>f.h&&(f.h++,u.next=f.g,f.g=u)}z=!1};function re(){this.s=this.s,this.C=this.C}re.prototype.s=!1,re.prototype.ma=function(){this.s||(this.s=!0,this.N())},re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ae(u,f){this.type=u,this.g=this.target=f,this.defaultPrevented=!1}Ae.prototype.h=function(){this.defaultPrevented=!0};var Be=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,f=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const g=()=>{};a.addEventListener("test",g,f),a.removeEventListener("test",g,f)}catch{}return u}();function En(u,f){if(Ae.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var g=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=f,f=u.relatedTarget){if(F){e:{try{x(f.nodeName);var N=!0;break e}catch{}N=!1}N||(f=null)}}else g=="mouseover"?f=u.fromElement:g=="mouseout"&&(f=u.toElement);this.relatedTarget=f,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:on[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&En.aa.h.call(this)}}v(En,Ae);var on={2:"touch",3:"pen",4:"mouse"};En.prototype.h=function(){En.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var an="closure_listenable_"+(1e6*Math.random()|0),Sd=0;function sl(u,f,g,w,N){this.listener=u,this.proxy=null,this.src=f,this.type=g,this.capture=!!w,this.ha=N,this.key=++Sd,this.da=this.fa=!1}function Hi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ve(u){this.src=u,this.g={},this.h=0}ve.prototype.add=function(u,f,g,w,N){var V=u.toString();u=this.g[V],u||(u=this.g[V]=[],this.h++);var H=ut(u,f,w,N);return-1<H?(f=u[H],g||(f.fa=!1)):(f=new sl(f,this.src,V,!!w,N),f.fa=g,u.push(f)),f};function Vt(u,f){var g=f.type;if(g in u.g){var w=u.g[g],N=Array.prototype.indexOf.call(w,f,void 0),V;(V=0<=N)&&Array.prototype.splice.call(w,N,1),V&&(Hi(f),u.g[g].length==0&&(delete u.g[g],u.h--))}}function ut(u,f,g,w){for(var N=0;N<u.length;++N){var V=u[N];if(!V.da&&V.listener==f&&V.capture==!!g&&V.ha==w)return N}return-1}var rr="closure_lm_"+(1e6*Math.random()|0),Td={};function Gg(u,f,g,w,N){if(Array.isArray(f)){for(var V=0;V<f.length;V++)Gg(u,f[V],g,w,N);return null}return g=Kg(g),u&&u[an]?u.K(f,g,c(w)?!!w.capture:!!w,N):NC(u,f,g,!1,w,N)}function NC(u,f,g,w,N,V){if(!f)throw Error("Invalid event type");var H=c(N)?!!N.capture:!!N,ye=Cd(u);if(ye||(u[rr]=ye=new ve(u)),g=ye.add(f,g,w,H,V),g.proxy)return g;if(w=MC(),g.proxy=w,w.src=u,w.listener=g,u.addEventListener)Be||(N=H),N===void 0&&(N=!1),u.addEventListener(f.toString(),w,N);else if(u.attachEvent)u.attachEvent(Yg(f.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return g}function MC(){function u(g){return f.call(u.src,u.listener,g)}const f=OC;return u}function Qg(u,f,g,w,N){if(Array.isArray(f))for(var V=0;V<f.length;V++)Qg(u,f[V],g,w,N);else w=c(w)?!!w.capture:!!w,g=Kg(g),u&&u[an]?(u=u.i,f=String(f).toString(),f in u.g&&(V=u.g[f],g=ut(V,g,w,N),-1<g&&(Hi(V[g]),Array.prototype.splice.call(V,g,1),V.length==0&&(delete u.g[f],u.h--)))):u&&(u=Cd(u))&&(f=u.g[f.toString()],u=-1,f&&(u=ut(f,g,w,N)),(g=-1<u?f[u]:null)&&Ad(g))}function Ad(u){if(typeof u!="number"&&u&&!u.da){var f=u.src;if(f&&f[an])Vt(f.i,u);else{var g=u.type,w=u.proxy;f.removeEventListener?f.removeEventListener(g,w,u.capture):f.detachEvent?f.detachEvent(Yg(g),w):f.addListener&&f.removeListener&&f.removeListener(w),(g=Cd(f))?(Vt(g,u),g.h==0&&(g.src=null,f[rr]=null)):Hi(u)}}}function Yg(u){return u in Td?Td[u]:Td[u]="on"+u}function OC(u,f){if(u.da)u=!0;else{f=new En(f,this);var g=u.listener,w=u.ha||u.src;u.fa&&Ad(u),u=g.call(w,f)}return u}function Cd(u){return u=u[rr],u instanceof ve?u:null}var bd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kg(u){return typeof u=="function"?u:(u[bd]||(u[bd]=function(f){return u.handleEvent(f)}),u[bd])}function ct(){re.call(this),this.i=new ve(this),this.M=this,this.F=null}v(ct,re),ct.prototype[an]=!0,ct.prototype.removeEventListener=function(u,f,g,w){Qg(this,u,f,g,w)};function Tt(u,f){var g,w=u.F;if(w)for(g=[];w;w=w.F)g.push(w);if(u=u.M,w=f.type||f,typeof f=="string")f=new Ae(f,u);else if(f instanceof Ae)f.target=f.target||u;else{var N=f;f=new Ae(w,u),R(f,N)}if(N=!0,g)for(var V=g.length-1;0<=V;V--){var H=f.g=g[V];N=ol(H,w,!0,f)&&N}if(H=f.g=u,N=ol(H,w,!0,f)&&N,N=ol(H,w,!1,f)&&N,g)for(V=0;V<g.length;V++)H=f.g=g[V],N=ol(H,w,!1,f)&&N}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var u=this.i,f;for(f in u.g){for(var g=u.g[f],w=0;w<g.length;w++)Hi(g[w]);delete u.g[f],u.h--}}this.F=null},ct.prototype.K=function(u,f,g,w){return this.i.add(String(u),f,!1,g,w)},ct.prototype.L=function(u,f,g,w){return this.i.add(String(u),f,!0,g,w)};function ol(u,f,g,w){if(f=u.i.g[String(f)],!f)return!0;f=f.concat();for(var N=!0,V=0;V<f.length;++V){var H=f[V];if(H&&!H.da&&H.capture==g){var ye=H.listener,tt=H.ha||H.src;H.fa&&Vt(u.i,H),N=ye.call(tt,w)!==!1&&N}}return N&&!w.defaultPrevented}function Xg(u,f,g){if(typeof u=="function")g&&(u=p(u,g));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(u,f||0)}function Zg(u){u.g=Xg(()=>{u.g=null,u.i&&(u.i=!1,Zg(u))},u.l);const f=u.h;u.h=null,u.m.apply(null,f)}class VC extends re{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Zg(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function so(u){re.call(this),this.h=u,this.g={}}v(so,re);var Jg=[];function ev(u){L(u.g,function(f,g){this.g.hasOwnProperty(g)&&Ad(f)},u),u.g={}}so.prototype.N=function(){so.aa.N.call(this),ev(this)},so.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rd=a.JSON.stringify,LC=a.JSON.parse,FC=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Id(){}Id.prototype.h=null;function tv(u){return u.h||(u.h=u.i())}function nv(){}var oo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Dd(){Ae.call(this,"d")}v(Dd,Ae);function kd(){Ae.call(this,"c")}v(kd,Ae);var Xr={},rv=null;function al(){return rv=rv||new ct}Xr.La="serverreachability";function iv(u){Ae.call(this,Xr.La,u)}v(iv,Ae);function ao(u){const f=al();Tt(f,new iv(f))}Xr.STAT_EVENT="statevent";function sv(u,f){Ae.call(this,Xr.STAT_EVENT,u),this.stat=f}v(sv,Ae);function At(u){const f=al();Tt(f,new sv(f,u))}Xr.Ma="timingevent";function ov(u,f){Ae.call(this,Xr.Ma,u),this.size=f}v(ov,Ae);function lo(u,f){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},f)}function uo(){this.g=!0}uo.prototype.xa=function(){this.g=!1};function UC(u,f,g,w,N,V){u.info(function(){if(u.g)if(V)for(var H="",ye=V.split("&"),tt=0;tt<ye.length;tt++){var le=ye[tt].split("=");if(1<le.length){var dt=le[0];le=le[1];var ht=dt.split("_");H=2<=ht.length&&ht[1]=="type"?H+(dt+"="+le+"&"):H+(dt+"=redacted&")}}else H=null;else H=V;return"XMLHTTP REQ ("+w+") [attempt "+N+"]: "+f+`
`+g+`
`+H})}function jC(u,f,g,w,N,V,H){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+N+"]: "+f+`
`+g+`
`+V+" "+H})}function zi(u,f,g,w){u.info(function(){return"XMLHTTP TEXT ("+f+"): "+$C(u,g)+(w?" "+w:"")})}function BC(u,f){u.info(function(){return"TIMEOUT: "+f})}uo.prototype.info=function(){};function $C(u,f){if(!u.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(u=0;u<g.length;u++)if(Array.isArray(g[u])){var w=g[u];if(!(2>w.length)){var N=w[1];if(Array.isArray(N)&&!(1>N.length)){var V=N[0];if(V!="noop"&&V!="stop"&&V!="close")for(var H=1;H<N.length;H++)N[H]=""}}}}return Rd(g)}catch{return f}}var ll={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},av={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xd;function ul(){}v(ul,Id),ul.prototype.g=function(){return new XMLHttpRequest},ul.prototype.i=function(){return{}},xd=new ul;function ir(u,f,g,w){this.j=u,this.i=f,this.l=g,this.R=w||1,this.U=new so(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new lv}function lv(){this.i=null,this.g="",this.h=!1}var uv={},Pd={};function Nd(u,f,g){u.L=1,u.v=fl(On(f)),u.m=g,u.P=!0,cv(u,null)}function cv(u,f){u.F=Date.now(),cl(u),u.A=On(u.v);var g=u.A,w=u.R;Array.isArray(w)||(w=[String(w)]),Av(g.i,"t",w),u.C=0,g=u.j.J,u.h=new lv,u.g=$v(u.j,g?f:null,!u.m),0<u.O&&(u.M=new VC(p(u.Y,u,u.g),u.O)),f=u.U,g=u.g,w=u.ca;var N="readystatechange";Array.isArray(N)||(N&&(Jg[0]=N.toString()),N=Jg);for(var V=0;V<N.length;V++){var H=Gg(g,N[V],w||f.handleEvent,!1,f.h||f);if(!H)break;f.g[H.key]=H}f=u.H?_(u.H):{},u.m?(u.u||(u.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,f)):(u.u="GET",u.g.ea(u.A,u.u,null,f)),ao(),UC(u.i,u.u,u.A,u.l,u.R,u.m)}ir.prototype.ca=function(u){u=u.target;const f=this.M;f&&Vn(u)==3?f.j():this.Y(u)},ir.prototype.Y=function(u){try{if(u==this.g)e:{const ht=Vn(this.g);var f=this.g.Ba();const Gi=this.g.Z();if(!(3>ht)&&(ht!=3||this.g&&(this.h.h||this.g.oa()||xv(this.g)))){this.J||ht!=4||f==7||(f==8||0>=Gi?ao(3):ao(2)),Md(this);var g=this.g.Z();this.X=g;t:if(dv(this)){var w=xv(this.g);u="";var N=w.length,V=Vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zr(this),co(this);var H="";break t}this.h.i=new a.TextDecoder}for(f=0;f<N;f++)this.h.h=!0,u+=this.h.i.decode(w[f],{stream:!(V&&f==N-1)});w.length=0,this.h.g+=u,this.C=0,H=this.h.g}else H=this.g.oa();if(this.o=g==200,jC(this.i,this.u,this.A,this.l,this.R,ht,g),this.o){if(this.T&&!this.K){t:{if(this.g){var ye,tt=this.g;if((ye=tt.g?tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(ye)){var le=ye;break t}}le=null}if(g=le)zi(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Od(this,g);else{this.o=!1,this.s=3,At(12),Zr(this),co(this);break e}}if(this.P){g=!0;let ln;for(;!this.J&&this.C<H.length;)if(ln=HC(this,H),ln==Pd){ht==4&&(this.s=4,At(14),g=!1),zi(this.i,this.l,null,"[Incomplete Response]");break}else if(ln==uv){this.s=4,At(15),zi(this.i,this.l,H,"[Invalid Chunk]"),g=!1;break}else zi(this.i,this.l,ln,null),Od(this,ln);if(dv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ht!=4||H.length!=0||this.h.h||(this.s=1,At(16),g=!1),this.o=this.o&&g,!g)zi(this.i,this.l,H,"[Invalid Chunked Response]"),Zr(this),co(this);else if(0<H.length&&!this.W){this.W=!0;var dt=this.j;dt.g==this&&dt.ba&&!dt.M&&(dt.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),Bd(dt),dt.M=!0,At(11))}}else zi(this.i,this.l,H,null),Od(this,H);ht==4&&Zr(this),this.o&&!this.J&&(ht==4?Fv(this.j,this):(this.o=!1,cl(this)))}else ob(this.g),g==400&&0<H.indexOf("Unknown SID")?(this.s=3,At(12)):(this.s=0,At(13)),Zr(this),co(this)}}}catch{}finally{}};function dv(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function HC(u,f){var g=u.C,w=f.indexOf(`
`,g);return w==-1?Pd:(g=Number(f.substring(g,w)),isNaN(g)?uv:(w+=1,w+g>f.length?Pd:(f=f.slice(w,w+g),u.C=w+g,f)))}ir.prototype.cancel=function(){this.J=!0,Zr(this)};function cl(u){u.S=Date.now()+u.I,hv(u,u.I)}function hv(u,f){if(u.B!=null)throw Error("WatchDog timer not null");u.B=lo(p(u.ba,u),f)}function Md(u){u.B&&(a.clearTimeout(u.B),u.B=null)}ir.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(BC(this.i,this.A),this.L!=2&&(ao(),At(17)),Zr(this),this.s=2,co(this)):hv(this,this.S-u)};function co(u){u.j.G==0||u.J||Fv(u.j,u)}function Zr(u){Md(u);var f=u.M;f&&typeof f.ma=="function"&&f.ma(),u.M=null,ev(u.U),u.g&&(f=u.g,u.g=null,f.abort(),f.ma())}function Od(u,f){try{var g=u.j;if(g.G!=0&&(g.g==u||Vd(g.h,u))){if(!u.K&&Vd(g.h,u)&&g.G==3){try{var w=g.Da.g.parse(f)}catch{w=null}if(Array.isArray(w)&&w.length==3){var N=w;if(N[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<u.F)_l(g),vl(g);else break e;jd(g),At(18)}}else g.za=N[1],0<g.za-g.T&&37500>N[2]&&g.F&&g.v==0&&!g.C&&(g.C=lo(p(g.Za,g),6e3));if(1>=mv(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else ei(g,11)}else if((u.K||g.g==u)&&_l(g),!E(f))for(N=g.Da.g.parse(f),f=0;f<N.length;f++){let le=N[f];if(g.T=le[0],le=le[1],g.G==2)if(le[0]=="c"){g.K=le[1],g.ia=le[2];const dt=le[3];dt!=null&&(g.la=dt,g.j.info("VER="+g.la));const ht=le[4];ht!=null&&(g.Aa=ht,g.j.info("SVER="+g.Aa));const Gi=le[5];Gi!=null&&typeof Gi=="number"&&0<Gi&&(w=1.5*Gi,g.L=w,g.j.info("backChannelRequestTimeoutMs_="+w)),w=g;const ln=u.g;if(ln){const wl=ln.g?ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wl){var V=w.h;V.g||wl.indexOf("spdy")==-1&&wl.indexOf("quic")==-1&&wl.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Ld(V,V.h),V.h=null))}if(w.D){const $d=ln.g?ln.g.getResponseHeader("X-HTTP-Session-Id"):null;$d&&(w.ya=$d,Ee(w.I,w.D,$d))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-u.F,g.j.info("Handshake RTT: "+g.R+"ms")),w=g;var H=u;if(w.qa=Bv(w,w.J?w.ia:null,w.W),H.K){gv(w.h,H);var ye=H,tt=w.L;tt&&(ye.I=tt),ye.B&&(Md(ye),cl(ye)),w.g=H}else Vv(w);0<g.i.length&&yl(g)}else le[0]!="stop"&&le[0]!="close"||ei(g,7);else g.G==3&&(le[0]=="stop"||le[0]=="close"?le[0]=="stop"?ei(g,7):Ud(g):le[0]!="noop"&&g.l&&g.l.ta(le),g.v=0)}}ao(4)}catch{}}var zC=class{constructor(u,f){this.g=u,this.map=f}};function fv(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pv(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function mv(u){return u.h?1:u.g?u.g.size:0}function Vd(u,f){return u.h?u.h==f:u.g?u.g.has(f):!1}function Ld(u,f){u.g?u.g.add(f):u.h=f}function gv(u,f){u.h&&u.h==f?u.h=null:u.g&&u.g.has(f)&&u.g.delete(f)}fv.prototype.cancel=function(){if(this.i=vv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function vv(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let f=u.i;for(const g of u.g.values())f=f.concat(g.D);return f}return T(u.i)}function WC(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var f=[],g=u.length,w=0;w<g;w++)f.push(u[w]);return f}f=[],g=0;for(w in u)f[g++]=u[w];return f}function qC(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var f=[];u=u.length;for(var g=0;g<u;g++)f.push(g);return f}f=[],g=0;for(const w in u)f[g++]=w;return f}}}function yv(u,f){if(u.forEach&&typeof u.forEach=="function")u.forEach(f,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,f,void 0);else for(var g=qC(u),w=WC(u),N=w.length,V=0;V<N;V++)f.call(void 0,w[V],g&&g[V],u)}var _v=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function GC(u,f){if(u){u=u.split("&");for(var g=0;g<u.length;g++){var w=u[g].indexOf("="),N=null;if(0<=w){var V=u[g].substring(0,w);N=u[g].substring(w+1)}else V=u[g];f(V,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}function Jr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Jr){this.h=u.h,dl(this,u.j),this.o=u.o,this.g=u.g,hl(this,u.s),this.l=u.l;var f=u.i,g=new po;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),Ev(this,g),this.m=u.m}else u&&(f=String(u).match(_v))?(this.h=!1,dl(this,f[1]||"",!0),this.o=ho(f[2]||""),this.g=ho(f[3]||"",!0),hl(this,f[4]),this.l=ho(f[5]||"",!0),Ev(this,f[6]||"",!0),this.m=ho(f[7]||"")):(this.h=!1,this.i=new po(null,this.h))}Jr.prototype.toString=function(){var u=[],f=this.j;f&&u.push(fo(f,wv,!0),":");var g=this.g;return(g||f=="file")&&(u.push("//"),(f=this.o)&&u.push(fo(f,wv,!0),"@"),u.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&u.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(fo(g,g.charAt(0)=="/"?KC:YC,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",fo(g,ZC)),u.join("")};function On(u){return new Jr(u)}function dl(u,f,g){u.j=g?ho(f,!0):f,u.j&&(u.j=u.j.replace(/:$/,""))}function hl(u,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);u.s=f}else u.s=null}function Ev(u,f,g){f instanceof po?(u.i=f,JC(u.i,u.h)):(g||(f=fo(f,XC)),u.i=new po(f,u.h))}function Ee(u,f,g){u.i.set(f,g)}function fl(u){return Ee(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ho(u,f){return u?f?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function fo(u,f,g){return typeof u=="string"?(u=encodeURI(u).replace(f,QC),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function QC(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var wv=/[#\/\?@]/g,YC=/[#\?:]/g,KC=/[#\?]/g,XC=/[#\?@]/g,ZC=/#/g;function po(u,f){this.h=this.g=null,this.i=u||null,this.j=!!f}function sr(u){u.g||(u.g=new Map,u.h=0,u.i&&GC(u.i,function(f,g){u.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}t=po.prototype,t.add=function(u,f){sr(this),this.i=null,u=Wi(this,u);var g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(f),this.h+=1,this};function Sv(u,f){sr(u),f=Wi(u,f),u.g.has(f)&&(u.i=null,u.h-=u.g.get(f).length,u.g.delete(f))}function Tv(u,f){return sr(u),f=Wi(u,f),u.g.has(f)}t.forEach=function(u,f){sr(this),this.g.forEach(function(g,w){g.forEach(function(N){u.call(f,N,w,this)},this)},this)},t.na=function(){sr(this);const u=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let w=0;w<f.length;w++){const N=u[w];for(let V=0;V<N.length;V++)g.push(f[w])}return g},t.V=function(u){sr(this);let f=[];if(typeof u=="string")Tv(this,u)&&(f=f.concat(this.g.get(Wi(this,u))));else{u=Array.from(this.g.values());for(let g=0;g<u.length;g++)f=f.concat(u[g])}return f},t.set=function(u,f){return sr(this),this.i=null,u=Wi(this,u),Tv(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[f]),this.h+=1,this},t.get=function(u,f){return u?(u=this.V(u),0<u.length?String(u[0]):f):f};function Av(u,f,g){Sv(u,f),0<g.length&&(u.i=null,u.g.set(Wi(u,f),T(g)),u.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var w=f[g];const V=encodeURIComponent(String(w)),H=this.V(w);for(w=0;w<H.length;w++){var N=V;H[w]!==""&&(N+="="+encodeURIComponent(String(H[w]))),u.push(N)}}return this.i=u.join("&")};function Wi(u,f){return f=String(f),u.j&&(f=f.toLowerCase()),f}function JC(u,f){f&&!u.j&&(sr(u),u.i=null,u.g.forEach(function(g,w){var N=w.toLowerCase();w!=N&&(Sv(this,w),Av(this,N,g))},u)),u.j=f}function eb(u,f){const g=new uo;if(a.Image){const w=new Image;w.onload=m(or,g,"TestLoadImage: loaded",!0,f,w),w.onerror=m(or,g,"TestLoadImage: error",!1,f,w),w.onabort=m(or,g,"TestLoadImage: abort",!1,f,w),w.ontimeout=m(or,g,"TestLoadImage: timeout",!1,f,w),a.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else f(!1)}function tb(u,f){const g=new uo,w=new AbortController,N=setTimeout(()=>{w.abort(),or(g,"TestPingServer: timeout",!1,f)},1e4);fetch(u,{signal:w.signal}).then(V=>{clearTimeout(N),V.ok?or(g,"TestPingServer: ok",!0,f):or(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(N),or(g,"TestPingServer: error",!1,f)})}function or(u,f,g,w,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),w(g)}catch{}}function nb(){this.g=new FC}function rb(u,f,g){const w=g||"";try{yv(u,function(N,V){let H=N;c(N)&&(H=Rd(N)),f.push(w+V+"="+encodeURIComponent(H))})}catch(N){throw f.push(w+"type="+encodeURIComponent("_badmap")),N}}function pl(u){this.l=u.Ub||null,this.j=u.eb||!1}v(pl,Id),pl.prototype.g=function(){return new ml(this.l,this.j)},pl.prototype.i=function(u){return function(){return u}}({});function ml(u,f){ct.call(this),this.D=u,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(ml,ct),t=ml.prototype,t.open=function(u,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=f,this.readyState=1,go(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(f.body=u),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mo(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,go(this)),this.g&&(this.readyState=3,go(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Cv(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Cv(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var f=u.value?u.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!u.done}))&&(this.response=this.responseText+=f)}u.done?mo(this):go(this),this.readyState==3&&Cv(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,mo(this))},t.Qa=function(u){this.g&&(this.response=u,mo(this))},t.ga=function(){this.g&&mo(this)};function mo(u){u.readyState=4,u.l=null,u.j=null,u.v=null,go(u)}t.setRequestHeader=function(u,f){this.u.append(u,f)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=f.next();return u.join(`\r
`)};function go(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ml.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function bv(u){let f="";return L(u,function(g,w){f+=w,f+=":",f+=g,f+=`\r
`}),f}function Fd(u,f,g){e:{for(w in g){var w=!1;break e}w=!0}w||(g=bv(g),typeof u=="string"?g!=null&&encodeURIComponent(String(g)):Ee(u,f,g))}function Oe(u){ct.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(Oe,ct);var ib=/^https?$/i,sb=["POST","PUT"];t=Oe.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,f,g,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);f=f?f.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xd.g(),this.v=this.o?tv(this.o):tv(xd),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(f,String(u),!0),this.B=!1}catch(V){Rv(this,V);return}if(u=g||"",g=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var N in w)g.set(N,w[N]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const V of w.keys())g.set(V,w.get(V));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(g.keys()).find(V=>V.toLowerCase()=="content-type"),N=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(sb,f,void 0))||w||N||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,H]of g)this.g.setRequestHeader(V,H);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{kv(this),this.u=!0,this.g.send(u),this.u=!1}catch(V){Rv(this,V)}};function Rv(u,f){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=f,u.m=5,Iv(u),gl(u)}function Iv(u){u.A||(u.A=!0,Tt(u,"complete"),Tt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Tt(this,"complete"),Tt(this,"abort"),gl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gl(this,!0)),Oe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Dv(this):this.bb())},t.bb=function(){Dv(this)};function Dv(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Vn(u)!=4||u.Z()!=2)){if(u.u&&Vn(u)==4)Xg(u.Ea,0,u);else if(Tt(u,"readystatechange"),Vn(u)==4){u.h=!1;try{const H=u.Z();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var w;if(w=H===0){var N=String(u.D).match(_v)[1]||null;!N&&a.self&&a.self.location&&(N=a.self.location.protocol.slice(0,-1)),w=!ib.test(N?N.toLowerCase():"")}g=w}if(g)Tt(u,"complete"),Tt(u,"success");else{u.m=6;try{var V=2<Vn(u)?u.g.statusText:""}catch{V=""}u.l=V+" ["+u.Z()+"]",Iv(u)}}finally{gl(u)}}}}function gl(u,f){if(u.g){kv(u);const g=u.g,w=u.v[0]?()=>{}:null;u.g=null,u.v=null,f||Tt(u,"ready");try{g.onreadystatechange=w}catch{}}}function kv(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Vn(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Vn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var f=this.g.responseText;return u&&f.indexOf(u)==0&&(f=f.substring(u.length)),LC(f)}};function xv(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ob(u){const f={};u=(u.g&&2<=Vn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(E(u[w]))continue;var g=k(u[w]);const N=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const V=f[N]||[];f[N]=V,V.push(g)}C(f,function(w){return w.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function vo(u,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||f}function Pv(u){this.Aa=0,this.i=[],this.j=new uo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vo("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vo("baseRetryDelayMs",5e3,u),this.cb=vo("retryDelaySeedMs",1e4,u),this.Wa=vo("forwardChannelMaxRetries",2,u),this.wa=vo("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new fv(u&&u.concurrentRequestLimit),this.Da=new nb,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Pv.prototype,t.la=8,t.G=1,t.connect=function(u,f,g,w){At(0),this.W=u,this.H=f||{},g&&w!==void 0&&(this.H.OSID=g,this.H.OAID=w),this.F=this.X,this.I=Bv(this,null,this.W),yl(this)};function Ud(u){if(Nv(u),u.G==3){var f=u.U++,g=On(u.I);if(Ee(g,"SID",u.K),Ee(g,"RID",f),Ee(g,"TYPE","terminate"),yo(u,g),f=new ir(u,u.j,f),f.L=2,f.v=fl(On(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=f.v,g=!0),g||(f.g=$v(f.j,null),f.g.ea(f.v)),f.F=Date.now(),cl(f)}jv(u)}function vl(u){u.g&&(Bd(u),u.g.cancel(),u.g=null)}function Nv(u){vl(u),u.u&&(a.clearTimeout(u.u),u.u=null),_l(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function yl(u){if(!pv(u.h)&&!u.s){u.s=!0;var f=u.Ga;Me||X(),z||(Me(),z=!0),K.add(f,u),u.B=0}}function ab(u,f){return mv(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=f.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=lo(p(u.Ga,u,f),Uv(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const N=new ir(this,this.j,u);let V=this.o;if(this.S&&(V?(V=_(V),R(V,this.S)):V=this.S),this.m!==null||this.O||(N.H=V,V=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var w=this.i[g];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(f+=w,4096<f){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=Ov(this,N,f),g=On(this.I),Ee(g,"RID",u),Ee(g,"CVER",22),this.D&&Ee(g,"X-HTTP-Session-Id",this.D),yo(this,g),V&&(this.O?f="headers="+encodeURIComponent(String(bv(V)))+"&"+f:this.m&&Fd(g,this.m,V)),Ld(this.h,N),this.Ua&&Ee(g,"TYPE","init"),this.P?(Ee(g,"$req",f),Ee(g,"SID","null"),N.T=!0,Nd(N,g,null)):Nd(N,g,f),this.G=2}}else this.G==3&&(u?Mv(this,u):this.i.length==0||pv(this.h)||Mv(this))};function Mv(u,f){var g;f?g=f.l:g=u.U++;const w=On(u.I);Ee(w,"SID",u.K),Ee(w,"RID",g),Ee(w,"AID",u.T),yo(u,w),u.m&&u.o&&Fd(w,u.m,u.o),g=new ir(u,u.j,g,u.B+1),u.m===null&&(g.H=u.o),f&&(u.i=f.D.concat(u.i)),f=Ov(u,g,1e3),g.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ld(u.h,g),Nd(g,w,f)}function yo(u,f){u.H&&L(u.H,function(g,w){Ee(f,w,g)}),u.l&&yv({},function(g,w){Ee(f,w,g)})}function Ov(u,f,g){g=Math.min(u.i.length,g);var w=u.l?p(u.l.Na,u.l,u):null;e:{var N=u.i;let V=-1;for(;;){const H=["count="+g];V==-1?0<g?(V=N[0].g,H.push("ofs="+V)):V=0:H.push("ofs="+V);let ye=!0;for(let tt=0;tt<g;tt++){let le=N[tt].g;const dt=N[tt].map;if(le-=V,0>le)V=Math.max(0,N[tt].g-100),ye=!1;else try{rb(dt,H,"req"+le+"_")}catch{w&&w(dt)}}if(ye){w=H.join("&");break e}}}return u=u.i.splice(0,g),f.D=u,w}function Vv(u){if(!u.g&&!u.u){u.Y=1;var f=u.Fa;Me||X(),z||(Me(),z=!0),K.add(f,u),u.v=0}}function jd(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=lo(p(u.Fa,u),Uv(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Lv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=lo(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,At(10),vl(this),Lv(this))};function Bd(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function Lv(u){u.g=new ir(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var f=On(u.qa);Ee(f,"RID","rpc"),Ee(f,"SID",u.K),Ee(f,"AID",u.T),Ee(f,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ee(f,"TO",u.ja),Ee(f,"TYPE","xmlhttp"),yo(u,f),u.m&&u.o&&Fd(f,u.m,u.o),u.L&&(u.g.I=u.L);var g=u.g;u=u.ia,g.L=1,g.v=fl(On(f)),g.m=null,g.P=!0,cv(g,u)}t.Za=function(){this.C!=null&&(this.C=null,vl(this),jd(this),At(19))};function _l(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function Fv(u,f){var g=null;if(u.g==f){_l(u),Bd(u),u.g=null;var w=2}else if(Vd(u.h,f))g=f.D,gv(u.h,f),w=1;else return;if(u.G!=0){if(f.o)if(w==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var N=u.B;w=al(),Tt(w,new ov(w,g)),yl(u)}else Vv(u);else if(N=f.s,N==3||N==0&&0<f.X||!(w==1&&ab(u,f)||w==2&&jd(u)))switch(g&&0<g.length&&(f=u.h,f.i=f.i.concat(g)),N){case 1:ei(u,5);break;case 4:ei(u,10);break;case 3:ei(u,6);break;default:ei(u,2)}}}function Uv(u,f){let g=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(g*=2),g*f}function ei(u,f){if(u.j.info("Error code "+f),f==2){var g=p(u.fb,u),w=u.Xa;const N=!w;w=new Jr(w||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||dl(w,"https"),fl(w),N?eb(w.toString(),g):tb(w.toString(),g)}else At(2);u.G=0,u.l&&u.l.sa(f),jv(u),Nv(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function jv(u){if(u.G=0,u.ka=[],u.l){const f=vv(u.h);(f.length!=0||u.i.length!=0)&&(S(u.ka,f),S(u.ka,u.i),u.h.i.length=0,T(u.i),u.i.length=0),u.l.ra()}}function Bv(u,f,g){var w=g instanceof Jr?On(g):new Jr(g);if(w.g!="")f&&(w.g=f+"."+w.g),hl(w,w.s);else{var N=a.location;w=N.protocol,f=f?f+"."+N.hostname:N.hostname,N=+N.port;var V=new Jr(null);w&&dl(V,w),f&&(V.g=f),N&&hl(V,N),g&&(V.l=g),w=V}return g=u.D,f=u.ya,g&&f&&Ee(w,g,f),Ee(w,"VER",u.la),yo(u,w),w}function $v(u,f,g){if(f&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=u.Ca&&!u.pa?new Oe(new pl({eb:g})):new Oe(u.pa),f.Ha(u.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hv(){}t=Hv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function El(){}El.prototype.g=function(u,f){return new Lt(u,f)};function Lt(u,f){ct.call(this),this.g=new Pv(f),this.l=u,this.h=f&&f.messageUrlParams||null,u=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(u?u["X-WebChannel-Content-Type"]=f.messageContentType:u={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(u?u["X-WebChannel-Client-Profile"]=f.va:u={"X-WebChannel-Client-Profile":f.va}),this.g.S=u,(u=f&&f.Sb)&&!E(u)&&(this.g.m=u),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!E(f)&&(this.g.D=f,u=this.h,u!==null&&f in u&&(u=this.h,f in u&&delete u[f])),this.j=new qi(this)}v(Lt,ct),Lt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Lt.prototype.close=function(){Ud(this.g)},Lt.prototype.o=function(u){var f=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.u&&(g={},g.__data__=Rd(u),u=g);f.i.push(new zC(f.Ya++,u)),f.G==3&&yl(f)},Lt.prototype.N=function(){this.g.l=null,delete this.j,Ud(this.g),delete this.g,Lt.aa.N.call(this)};function zv(u){Dd.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var f=u.__sm__;if(f){e:{for(const g in f){u=g;break e}u=void 0}(this.i=u)&&(u=this.i,f=f!==null&&u in f?f[u]:void 0),this.data=f}else this.data=u}v(zv,Dd);function Wv(){kd.call(this),this.status=1}v(Wv,kd);function qi(u){this.g=u}v(qi,Hv),qi.prototype.ua=function(){Tt(this.g,"a")},qi.prototype.ta=function(u){Tt(this.g,new zv(u))},qi.prototype.sa=function(u){Tt(this.g,new Wv)},qi.prototype.ra=function(){Tt(this.g,"b")},El.prototype.createWebChannel=El.prototype.g,Lt.prototype.send=Lt.prototype.o,Lt.prototype.open=Lt.prototype.m,Lt.prototype.close=Lt.prototype.close,g1=function(){return new El},m1=function(){return al()},p1=Xr,Cp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ll.NO_ERROR=0,ll.TIMEOUT=8,ll.HTTP_ERROR=6,Su=ll,av.COMPLETE="complete",f1=av,nv.EventType=oo,oo.OPEN="a",oo.CLOSE="b",oo.ERROR="c",oo.MESSAGE="d",ct.prototype.listen=ct.prototype.K,Lo=nv,Oe.prototype.listenOnce=Oe.prototype.L,Oe.prototype.getLastError=Oe.prototype.Ka,Oe.prototype.getLastErrorCode=Oe.prototype.Ba,Oe.prototype.getStatus=Oe.prototype.Z,Oe.prototype.getResponseJson=Oe.prototype.Oa,Oe.prototype.getResponseText=Oe.prototype.oa,Oe.prototype.send=Oe.prototype.ea,Oe.prototype.setWithCredentials=Oe.prototype.Ha,h1=Oe}).apply(typeof Xl<"u"?Xl:typeof self<"u"?self:typeof window<"u"?window:{});const O_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gt.UNAUTHENTICATED=new gt(null),gt.GOOGLE_CREDENTIALS=new gt("google-credentials-uid"),gt.FIRST_PARTY=new gt("first-party-uid"),gt.MOCK_USER=new gt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eo="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri=new s1("@firebase/firestore");function xo(){return Ri.logLevel}function G(t,...e){if(Ri.logLevel<=oe.DEBUG){const n=e.map(mg);Ri.debug(`Firestore (${eo}): ${t}`,...n)}}function Jn(t,...e){if(Ri.logLevel<=oe.ERROR){const n=e.map(mg);Ri.error(`Firestore (${eo}): ${t}`,...n)}}function Ls(t,...e){if(Ri.logLevel<=oe.WARN){const n=e.map(mg);Ri.warn(`Firestore (${eo}): ${t}`,...n)}}function mg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(t="Unexpected state"){const e=`FIRESTORE (${eo}) INTERNAL ASSERTION FAILED: `+t;throw Jn(e),new Error(e)}function ge(t,e){t||Z()}function ee(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends Js{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(gt.UNAUTHENTICATED))}shutdown(){}}class uj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class cj{constructor(e){this.t=e,this.currentUser=gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ge(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Vr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Vr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Vr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ge(typeof r.accessToken=="string"),new v1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ge(e===null||typeof e=="string"),new gt(e)}}class dj{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=gt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class hj{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new dj(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pj{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ge(this.o===void 0);const r=s=>{s.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ge(typeof n.token=="string"),this.R=n.token,new fj(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=mj(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ue(t,e){return t<e?-1:t>e?1:0}function Fs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return qe.fromMillis(Date.now())}static fromDate(e){return qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new qe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ue(this.nanoseconds,e.nanoseconds):ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.timestamp=e}static fromTimestamp(e){return new J(e)}static min(){return new J(new qe(0,0))}static max(){return new J(new qe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,n,r){n===void 0?n=0:n>e.length&&Z(),r===void 0?r=e.length-n:r>e.length-n&&Z(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ka.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ka?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Se extends ka{construct(e,n,r){return new Se(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new q(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Se(n)}static emptyPath(){return new Se([])}}const gj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class it extends ka{construct(e,n,r){return new it(e,n,r)}static isValidIdentifier(e){return gj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),it.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new it(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new q(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new q(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new q(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new q(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new it(n)}static emptyPath(){return new it([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.path=e}static fromPath(e){return new Q(Se.fromString(e))}static fromName(e){return new Q(Se.fromString(e).popFirst(5))}static empty(){return new Q(Se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Se.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Se.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Q(new Se(e.slice()))}}function vj(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=J.fromTimestamp(r===1e9?new qe(n+1,0):new qe(n,r));return new $r(i,Q.empty(),e)}function yj(t){return new $r(t.readTime,t.key,-1)}class $r{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new $r(J.min(),Q.empty(),-1)}static max(){return new $r(J.max(),Q.empty(),-1)}}function _j(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:ue(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Za(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==Ej)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):j.reject(n)}static resolve(e){return new j((n,r)=>{n(e)})}static reject(e){return new j((n,r)=>{r(e)})}static waitFor(e){return new j((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=j.resolve(!1);for(const r of e)n=n.next(i=>i?j.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new j((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new j((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Sj(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ja(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}gg.oe=-1;function cd(t){return t==null}function Cc(t){return t===0&&1/t==-1/0}function Tj(t){return typeof t=="number"&&Number.isInteger(t)&&!Cc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function to(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e,n){this.comparator=e,this.root=n||rt.EMPTY}insert(e,n){return new Pe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rt.BLACK,null,null))}remove(e){return new Pe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zl(this.root,e,this.comparator,!0)}}class Zl{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??rt.RED,this.left=i??rt.EMPTY,this.right=s??rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new rt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return rt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Z();const e=this.left.check();if(e!==this.right.check())throw Z();return e+(this.isRed()?0:1)}}rt.EMPTY=null,rt.RED=!0,rt.BLACK=!1;rt.EMPTY=new class{constructor(){this.size=0}get key(){throw Z()}get value(){throw Z()}get color(){throw Z()}get left(){throw Z()}get right(){throw Z()}copy(e,n,r,i,s){return this}insert(e,n,r){return new rt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.comparator=e,this.data=new Pe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new L_(this.data.getIterator())}getIteratorFrom(e){return new L_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ot(this.comparator);return n.data=e,n}}class L_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.fields=e,e.sort(it.comparator)}static empty(){return new fn([])}unionWith(e){let n=new ot(it.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new fn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fs(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new E1("Invalid base64 string: "+s):s}}(e);return new lt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new lt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}lt.EMPTY_BYTE_STRING=new lt("");const Aj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hr(t){if(ge(!!t),typeof t=="string"){let e=0;const n=Aj.exec(t);if(ge(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Le(t.seconds),nanos:Le(t.nanos)}}function Le(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ii(t){return typeof t=="string"?lt.fromBase64String(t):lt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function yg(t){const e=t.mapValue.fields.__previous_value__;return vg(e)?yg(e):e}function xa(t){const e=Hr(t.mapValue.fields.__local_write_time__.timestampValue);return new qe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Pa{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Pa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Pa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Di(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?vg(t)?4:Rj(t)?9007199254740991:bj(t)?10:11:Z()}function Mn(t,e){if(t===e)return!0;const n=Di(t);if(n!==Di(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xa(t).isEqual(xa(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Hr(i.timestampValue),a=Hr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ii(i.bytesValue).isEqual(Ii(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Le(i.geoPointValue.latitude)===Le(s.geoPointValue.latitude)&&Le(i.geoPointValue.longitude)===Le(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Le(i.integerValue)===Le(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Le(i.doubleValue),a=Le(s.doubleValue);return o===a?Cc(o)===Cc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Fs(t.arrayValue.values||[],e.arrayValue.values||[],Mn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(V_(o)!==V_(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Mn(o[l],a[l])))return!1;return!0}(t,e);default:return Z()}}function Na(t,e){return(t.values||[]).find(n=>Mn(n,e))!==void 0}function Us(t,e){if(t===e)return 0;const n=Di(t),r=Di(e);if(n!==r)return ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ue(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Le(s.integerValue||s.doubleValue),l=Le(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return F_(t.timestampValue,e.timestampValue);case 4:return F_(xa(t),xa(e));case 5:return ue(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Ii(s),l=Ii(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=ue(a[c],l[c]);if(d!==0)return d}return ue(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ue(Le(s.latitude),Le(o.latitude));return a!==0?a:ue(Le(s.longitude),Le(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return U_(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,d;const h=s.fields||{},p=o.fields||{},m=(a=h.value)===null||a===void 0?void 0:a.arrayValue,v=(l=p.value)===null||l===void 0?void 0:l.arrayValue,T=ue(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((d=v==null?void 0:v.values)===null||d===void 0?void 0:d.length)||0);return T!==0?T:U_(m,v)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Jl.mapValue&&o===Jl.mapValue)return 0;if(s===Jl.mapValue)return 1;if(o===Jl.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const p=ue(l[h],d[h]);if(p!==0)return p;const m=Us(a[l[h]],c[d[h]]);if(m!==0)return m}return ue(l.length,d.length)}(t.mapValue,e.mapValue);default:throw Z()}}function F_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ue(t,e);const n=Hr(t),r=Hr(e),i=ue(n.seconds,r.seconds);return i!==0?i:ue(n.nanos,r.nanos)}function U_(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Us(n[i],r[i]);if(s)return s}return ue(n.length,r.length)}function js(t){return bp(t)}function bp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Hr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ii(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=bp(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${bp(n.fields[o])}`;return i+"}"}(t.mapValue):Z()}function j_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Rp(t){return!!t&&"integerValue"in t}function _g(t){return!!t&&"arrayValue"in t}function B_(t){return!!t&&"nullValue"in t}function $_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Tu(t){return!!t&&"mapValue"in t}function bj(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ea(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return to(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ea(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ea(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Rj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.value=e}static empty(){return new Kt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Tu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ea(n)}setAll(e){let n=it.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ea(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Tu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Mn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Tu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){to(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Kt(ea(this.value))}}function w1(t){const e=[];return to(t.fields,(n,r)=>{const i=new it([n]);if(Tu(r)){const s=w1(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new yt(e,0,J.min(),J.min(),J.min(),Kt.empty(),0)}static newFoundDocument(e,n,r,i){return new yt(e,1,n,J.min(),r,i,0)}static newNoDocument(e,n){return new yt(e,2,n,J.min(),J.min(),Kt.empty(),0)}static newUnknownDocument(e,n){return new yt(e,3,n,J.min(),J.min(),Kt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,n){this.position=e,this.inclusive=n}}function H_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Q.comparator(Q.fromName(o.referenceValue),n.key):r=Us(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function z_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Mn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,n="asc"){this.field=e,this.dir=n}}function Ij(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{}class ze extends S1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new kj(e,n,r):n==="array-contains"?new Nj(e,r):n==="in"?new Mj(e,r):n==="not-in"?new Oj(e,r):n==="array-contains-any"?new Vj(e,r):new ze(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new xj(e,r):new Pj(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Us(n,this.value)):n!==null&&Di(this.value)===Di(n)&&this.matchesComparison(Us(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yn extends S1{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new yn(e,n)}matches(e){return T1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function T1(t){return t.op==="and"}function A1(t){return Dj(t)&&T1(t)}function Dj(t){for(const e of t.filters)if(e instanceof yn)return!1;return!0}function Ip(t){if(t instanceof ze)return t.field.canonicalString()+t.op.toString()+js(t.value);if(A1(t))return t.filters.map(e=>Ip(e)).join(",");{const e=t.filters.map(n=>Ip(n)).join(",");return`${t.op}(${e})`}}function C1(t,e){return t instanceof ze?function(r,i){return i instanceof ze&&r.op===i.op&&r.field.isEqual(i.field)&&Mn(r.value,i.value)}(t,e):t instanceof yn?function(r,i){return i instanceof yn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&C1(o,i.filters[a]),!0):!1}(t,e):void Z()}function b1(t){return t instanceof ze?function(n){return`${n.field.canonicalString()} ${n.op} ${js(n.value)}`}(t):t instanceof yn?function(n){return n.op.toString()+" {"+n.getFilters().map(b1).join(" ,")+"}"}(t):"Filter"}class kj extends ze{constructor(e,n,r){super(e,n,r),this.key=Q.fromName(r.referenceValue)}matches(e){const n=Q.comparator(e.key,this.key);return this.matchesComparison(n)}}class xj extends ze{constructor(e,n){super(e,"in",n),this.keys=R1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Pj extends ze{constructor(e,n){super(e,"not-in",n),this.keys=R1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function R1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Q.fromName(r.referenceValue))}class Nj extends ze{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _g(n)&&Na(n.arrayValue,this.value)}}class Mj extends ze{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Na(this.value.arrayValue,n)}}class Oj extends ze{constructor(e,n){super(e,"not-in",n)}matches(e){if(Na(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Na(this.value.arrayValue,n)}}class Vj extends ze{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_g(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Na(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function W_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Lj(t,e,n,r,i,s,o)}function Eg(t){const e=ee(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ip(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),cd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>js(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>js(r)).join(",")),e.ue=n}return e.ue}function wg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Ij(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!C1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!z_(t.startAt,e.startAt)&&z_(t.endAt,e.endAt)}function Dp(t){return Q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Fj(t,e,n,r,i,s,o,a){return new el(t,e,n,r,i,s,o,a)}function I1(t){return new el(t)}function q_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function D1(t){return t.collectionGroup!==null}function ta(t){const e=ee(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ot(it.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Rc(s,r))}),n.has(it.keyField().canonicalString())||e.ce.push(new Rc(it.keyField(),r))}return e.ce}function Dn(t){const e=ee(t);return e.le||(e.le=Uj(e,ta(t))),e.le}function Uj(t,e){if(t.limitType==="F")return W_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Rc(i.field,s)});const n=t.endAt?new bc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new bc(t.startAt.position,t.startAt.inclusive):null;return W_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function kp(t,e){const n=t.filters.concat([e]);return new el(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function xp(t,e,n){return new el(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function dd(t,e){return wg(Dn(t),Dn(e))&&t.limitType===e.limitType}function k1(t){return`${Eg(Dn(t))}|lt:${t.limitType}`}function Xi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>b1(i)).join(", ")}]`),cd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>js(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>js(i)).join(",")),`Target(${r})`}(Dn(t))}; limitType=${t.limitType})`}function hd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Q.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of ta(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=H_(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,ta(r),i)||r.endAt&&!function(o,a,l){const c=H_(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,ta(r),i))}(t,e)}function jj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function x1(t){return(e,n)=>{let r=!1;for(const i of ta(t)){const s=Bj(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Bj(t,e,n){const r=t.field.isKeyField()?Q.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Us(l,c):Z()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Z()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){to(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return _1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $j=new Pe(Q.comparator);function er(){return $j}const P1=new Pe(Q.comparator);function Fo(...t){let e=P1;for(const n of t)e=e.insert(n.key,n);return e}function N1(t){let e=P1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function pi(){return na()}function M1(){return na()}function na(){return new no(t=>t.toString(),(t,e)=>t.isEqual(e))}const Hj=new Pe(Q.comparator),zj=new ot(Q.comparator);function ie(...t){let e=zj;for(const n of t)e=e.add(n);return e}const Wj=new ot(ue);function qj(){return Wj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cc(e)?"-0":e}}function O1(t){return{integerValue:""+t}}function Gj(t,e){return Tj(e)?O1(e):Sg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(){this._=void 0}}function Qj(t,e,n){return t instanceof Ic?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&vg(s)&&(s=yg(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ma?L1(t,e):t instanceof Oa?F1(t,e):function(i,s){const o=V1(i,s),a=G_(o)+G_(i.Pe);return Rp(o)&&Rp(i.Pe)?O1(a):Sg(i.serializer,a)}(t,e)}function Yj(t,e,n){return t instanceof Ma?L1(t,e):t instanceof Oa?F1(t,e):n}function V1(t,e){return t instanceof Dc?function(r){return Rp(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Ic extends fd{}class Ma extends fd{constructor(e){super(),this.elements=e}}function L1(t,e){const n=U1(e);for(const r of t.elements)n.some(i=>Mn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Oa extends fd{constructor(e){super(),this.elements=e}}function F1(t,e){let n=U1(e);for(const r of t.elements)n=n.filter(i=>!Mn(i,r));return{arrayValue:{values:n}}}class Dc extends fd{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function G_(t){return Le(t.integerValue||t.doubleValue)}function U1(t){return _g(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Kj(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ma&&i instanceof Ma||r instanceof Oa&&i instanceof Oa?Fs(r.elements,i.elements,Mn):r instanceof Dc&&i instanceof Dc?Mn(r.Pe,i.Pe):r instanceof Ic&&i instanceof Ic}(t.transform,e.transform)}class Xj{constructor(e,n){this.version=e,this.transformResults=n}}class kn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new kn}static exists(e){return new kn(void 0,e)}static updateTime(e){return new kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Au(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class pd{}function j1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Tg(t.key,kn.none()):new tl(t.key,t.data,kn.none());{const n=t.data,r=Kt.empty();let i=new ot(it.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Bi(t.key,r,new fn(i.toArray()),kn.none())}}function Zj(t,e,n){t instanceof tl?function(i,s,o){const a=i.value.clone(),l=Y_(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Bi?function(i,s,o){if(!Au(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Y_(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(B1(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ra(t,e,n,r){return t instanceof tl?function(s,o,a,l){if(!Au(s.precondition,o))return a;const c=s.value.clone(),d=K_(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Bi?function(s,o,a,l){if(!Au(s.precondition,o))return a;const c=K_(s.fieldTransforms,l,o),d=o.data;return d.setAll(B1(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return Au(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Jj(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=V1(r.transform,i||null);s!=null&&(n===null&&(n=Kt.empty()),n.set(r.field,s))}return n||null}function Q_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Fs(r,i,(s,o)=>Kj(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class tl extends pd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Bi extends pd{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function B1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Y_(t,e,n){const r=new Map;ge(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Yj(o,a,n[i]))}return r}function K_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Qj(s,o,e))}return r}class Tg extends pd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eB extends pd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tB{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Zj(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ra(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ra(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=M1();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=j1(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(J.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ie())}isEqual(e){return this.batchId===e.batchId&&Fs(this.mutations,e.mutations,(n,r)=>Q_(n,r))&&Fs(this.baseMutations,e.baseMutations,(n,r)=>Q_(n,r))}}class Ag{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ge(e.mutations.length===r.length);let i=function(){return Hj}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Ag(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rB{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e,se;function iB(t){switch(t){default:return Z();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function $1(t){if(t===void 0)return Jn("GRPC error has no .code"),U.UNKNOWN;switch(t){case $e.OK:return U.OK;case $e.CANCELLED:return U.CANCELLED;case $e.UNKNOWN:return U.UNKNOWN;case $e.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case $e.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case $e.INTERNAL:return U.INTERNAL;case $e.UNAVAILABLE:return U.UNAVAILABLE;case $e.UNAUTHENTICATED:return U.UNAUTHENTICATED;case $e.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case $e.NOT_FOUND:return U.NOT_FOUND;case $e.ALREADY_EXISTS:return U.ALREADY_EXISTS;case $e.PERMISSION_DENIED:return U.PERMISSION_DENIED;case $e.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case $e.ABORTED:return U.ABORTED;case $e.OUT_OF_RANGE:return U.OUT_OF_RANGE;case $e.UNIMPLEMENTED:return U.UNIMPLEMENTED;case $e.DATA_LOSS:return U.DATA_LOSS;default:return Z()}}(se=$e||($e={}))[se.OK=0]="OK",se[se.CANCELLED=1]="CANCELLED",se[se.UNKNOWN=2]="UNKNOWN",se[se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",se[se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",se[se.NOT_FOUND=5]="NOT_FOUND",se[se.ALREADY_EXISTS=6]="ALREADY_EXISTS",se[se.PERMISSION_DENIED=7]="PERMISSION_DENIED",se[se.UNAUTHENTICATED=16]="UNAUTHENTICATED",se[se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",se[se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",se[se.ABORTED=10]="ABORTED",se[se.OUT_OF_RANGE=11]="OUT_OF_RANGE",se[se.UNIMPLEMENTED=12]="UNIMPLEMENTED",se[se.INTERNAL=13]="INTERNAL",se[se.UNAVAILABLE=14]="UNAVAILABLE",se[se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sB(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oB=new _i([4294967295,4294967295],0);function X_(t){const e=sB().encode(t),n=new d1;return n.update(e),new Uint8Array(n.digest())}function Z_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new _i([n,r],0),new _i([i,s],0)]}class Cg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Uo(`Invalid padding: ${n}`);if(r<0)throw new Uo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Uo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Uo(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=_i.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(_i.fromNumber(r)));return i.compare(oB)===1&&(i=new _i([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=X_(e),[r,i]=Z_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Cg(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=X_(e),[r,i]=Z_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Uo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,nl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new md(J.min(),i,new Pe(ue),er(),ie())}}class nl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new nl(r,n,ie(),ie(),ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class H1{constructor(e,n){this.targetId=e,this.me=n}}class z1{constructor(e,n,r=lt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class J_{constructor(){this.fe=0,this.ge=tE(),this.pe=lt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ie(),n=ie(),r=ie();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Z()}}),new nl(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=tE()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ge(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class aB{constructor(e){this.Le=e,this.Be=new Map,this.ke=er(),this.qe=eE(),this.Qe=new Pe(ue)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Z()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Dp(s))if(r===0){const o=new Q(s.path);this.Ue(n,o,yt.newNoDocument(o,J.min()))}else ge(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Ii(r).toUint8Array()}catch(l){if(l instanceof E1)return Ls("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Cg(o,i,s)}catch(l){return Ls(l instanceof Uo?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Dp(a.target)){const l=new Q(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,yt.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=ie();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new md(e,n,this.Qe,this.ke,r);return this.ke=er(),this.qe=eE(),this.Qe=new Pe(ue),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new J_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ot(ue),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new J_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function eE(){return new Pe(Q.comparator)}function tE(){return new Pe(Q.comparator)}const lB={asc:"ASCENDING",desc:"DESCENDING"},uB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cB={and:"AND",or:"OR"};class dB{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Pp(t,e){return t.useProto3Json||cd(e)?e:{value:e}}function kc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function W1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function hB(t,e){return kc(t,e.toTimestamp())}function xn(t){return ge(!!t),J.fromTimestamp(function(n){const r=Hr(n);return new qe(r.seconds,r.nanos)}(t))}function bg(t,e){return Np(t,e).canonicalString()}function Np(t,e){const n=function(i){return new Se(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function q1(t){const e=Se.fromString(t);return ge(X1(e)),e}function Mp(t,e){return bg(t.databaseId,e.path)}function Wh(t,e){const n=q1(e);if(n.get(1)!==t.databaseId.projectId)throw new q(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new q(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Q(Q1(n))}function G1(t,e){return bg(t.databaseId,e)}function fB(t){const e=q1(t);return e.length===4?Se.emptyPath():Q1(e)}function Op(t){return new Se(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Q1(t){return ge(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function nE(t,e,n){return{name:Mp(t,e),fields:n.value.mapValue.fields}}function pB(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Z()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(ge(d===void 0||typeof d=="string"),lt.fromBase64String(d||"")):(ge(d===void 0||d instanceof Buffer||d instanceof Uint8Array),lt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?U.UNKNOWN:$1(c.code);return new q(d,c.message||"")}(o);n=new z1(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Wh(t,r.document.name),s=xn(r.document.updateTime),o=r.document.createTime?xn(r.document.createTime):J.min(),a=new Kt({mapValue:{fields:r.document.fields}}),l=yt.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Cu(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Wh(t,r.document),s=r.readTime?xn(r.readTime):J.min(),o=yt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Cu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Wh(t,r.document),s=r.removedTargetIds||[];n=new Cu([],s,i,null)}else{if(!("filter"in e))return Z();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new rB(i,s),a=r.targetId;n=new H1(a,o)}}return n}function mB(t,e){let n;if(e instanceof tl)n={update:nE(t,e.key,e.value)};else if(e instanceof Tg)n={delete:Mp(t,e.key)};else if(e instanceof Bi)n={update:nE(t,e.key,e.data),updateMask:AB(e.fieldMask)};else{if(!(e instanceof eB))return Z();n={verify:Mp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Ic)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ma)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Oa)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Dc)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Z()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:hB(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Z()}(t,e.precondition)),n}function gB(t,e){return t&&t.length>0?(ge(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?xn(i.updateTime):xn(s);return o.isEqual(J.min())&&(o=xn(s)),new Xj(o,i.transformResults||[])}(n,e))):[]}function vB(t,e){return{documents:[G1(t,e.path)]}}function yB(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=G1(t,i);const s=function(c){if(c.length!==0)return K1(yn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:Zi(p.field),direction:wB(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Pp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function _B(t){let e=fB(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ge(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const p=Y1(h);return p instanceof yn&&A1(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(v){return new Rc(Ji(v.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,cd(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(h){const p=!!h.before,m=h.values||[];return new bc(m,p)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const p=!h.before,m=h.values||[];return new bc(m,p)}(n.endAt)),Fj(e,i,o,s,a,"F",l,c)}function EB(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Y1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ji(n.unaryFilter.field);return ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ji(n.unaryFilter.field);return ze.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ji(n.unaryFilter.field);return ze.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ji(n.unaryFilter.field);return ze.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Z()}}(t):t.fieldFilter!==void 0?function(n){return ze.create(Ji(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Z()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return yn.create(n.compositeFilter.filters.map(r=>Y1(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Z()}}(n.compositeFilter.op))}(t):Z()}function wB(t){return lB[t]}function SB(t){return uB[t]}function TB(t){return cB[t]}function Zi(t){return{fieldPath:t.canonicalString()}}function Ji(t){return it.fromServerFormat(t.fieldPath)}function K1(t){return t instanceof ze?function(n){if(n.op==="=="){if($_(n.value))return{unaryFilter:{field:Zi(n.field),op:"IS_NAN"}};if(B_(n.value))return{unaryFilter:{field:Zi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($_(n.value))return{unaryFilter:{field:Zi(n.field),op:"IS_NOT_NAN"}};if(B_(n.value))return{unaryFilter:{field:Zi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zi(n.field),op:SB(n.op),value:n.value}}}(t):t instanceof yn?function(n){const r=n.getFilters().map(i=>K1(i));return r.length===1?r[0]:{compositeFilter:{op:TB(n.op),filters:r}}}(t):Z()}function AB(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function X1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e,n,r,i,s=J.min(),o=J.min(),a=lt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Tr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CB{constructor(e){this.ct=e}}function bB(t){const e=_B({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?xp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RB{constructor(){this.un=new IB}addToCollectionParentIndex(e,n){return this.un.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve($r.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve($r.min())}updateCollectionGroup(e,n,r){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class IB{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ot(Se.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ot(Se.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Bs(0)}static kn(){return new Bs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(){this.changes=new no(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?j.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ra(r.mutation,i,fn.empty(),qe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ie()){const i=pi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Fo();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=pi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ie()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=er();const o=na(),a=function(){return na()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Bi)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),ra(d.mutation,c,d.mutation.getFieldMask(),qe.now())):o.set(c.key,fn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var h;return a.set(c,new kB(d,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=na();let i=new Pe((o,a)=>o-a),s=ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||fn.empty();d=a.applyToLocalView(c,d),r.set(l,d);const h=(i.get(a.batchId)||ie()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,h=M1();d.forEach(p=>{if(!s.has(p)){const m=j1(n.get(p),r.get(p));m!==null&&h.set(p,m),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return j.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Q.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):D1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):j.resolve(pi());let a=-1,l=s;return o.next(c=>j.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?j.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,ie())).next(d=>({batchId:a,changes:N1(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(r=>{let i=Fo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Fo();return this.indexManager.getCollectionParents(e,s).next(a=>j.forEach(a,l=>{const c=function(h,p){return new el(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,yt.newInvalidDocument(d)))});let a=Fo();return o.forEach((l,c)=>{const d=s.get(l);d!==void 0&&ra(d.mutation,c,fn.empty(),qe.now()),hd(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return j.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:xn(i.createTime)}}(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:bB(i.bundledQuery),readTime:xn(i.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB{constructor(){this.overlays=new Pe(Q.comparator),this.Ir=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const r=pi();return j.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),j.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),j.resolve()}getOverlaysForCollection(e,n,r){const i=pi(),s=n.length+1,o=new Q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return j.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Pe((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=pi(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=pi(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return j.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new nB(n,r));let s=this.Ir.get(n);s===void 0&&(s=ie(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{constructor(){this.sessionToken=lt.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(){this.Tr=new ot(Xe.Er),this.dr=new ot(Xe.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Xe(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Xe(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Q(new Se([])),r=new Xe(n,e),i=new Xe(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Q(new Se([])),r=new Xe(n,e),i=new Xe(n,e+1);let s=ie();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Xe(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Xe{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Q.comparator(e.key,n.key)||ue(e.wr,n.wr)}static Ar(e,n){return ue(e.wr,n.wr)||Q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OB{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new ot(Xe.Er)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new tB(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new Xe(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return j.resolve(o)}lookupMutationBatch(e,n){return j.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return j.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Xe(n,0),i=new Xe(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),j.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ot(ue);return n.forEach(i=>{const s=new Xe(i,0),o=new Xe(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),j.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Q.isDocumentKey(s)||(s=s.child(""));const o=new Xe(new Q(s),0);let a=new ot(ue);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.wr)),!0)},o),j.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ge(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return j.forEach(n.mutations,i=>{const s=new Xe(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Xe(n,0),i=this.br.firstAfterOrEqual(r);return j.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VB{constructor(e){this.Mr=e,this.docs=function(){return new Pe(Q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return j.resolve(r?r.document.mutableCopy():yt.newInvalidDocument(n))}getEntries(e,n){let r=er();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():yt.newInvalidDocument(i))}),j.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=er();const o=n.path,a=new Q(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||_j(yj(d),r)<=0||(i.has(d.key)||hd(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return j.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Z()}Or(e,n){return j.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new LB(this)}getSize(e){return j.resolve(this.size)}}class LB extends DB{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),j.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FB{constructor(e){this.persistence=e,this.Nr=new no(n=>Eg(n),wg),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Rg,this.targetCount=0,this.kr=Bs.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),j.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Bs(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.Kn(n),j.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),j.waitFor(s).next(()=>i)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return j.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),j.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),j.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),j.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return j.resolve(r)}containsKey(e,n){return j.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB{constructor(e,n){this.qr={},this.overlays={},this.Qr=new gg(0),this.Kr=!1,this.Kr=!0,this.$r=new MB,this.referenceDelegate=e(this),this.Ur=new FB(this),this.indexManager=new RB,this.remoteDocumentCache=function(i){return new VB(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new CB(n),this.Gr=new PB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new NB,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new OB(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const i=new jB(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return j.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class jB extends wj{constructor(e){super(),this.currentSequenceNumber=e}}class Ig{constructor(e){this.persistence=e,this.Jr=new Rg,this.Yr=null}static Zr(e){return new Ig(e)}get Xr(){if(this.Yr)return this.Yr;throw Z()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),j.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),j.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.Xr,r=>{const i=Q.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,J.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return j.or([()=>j.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ie(),i=ie();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Dg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $B{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return q4()?8:Sj(z4())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new BB;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(xo()<=oe.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Xi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),j.resolve()):(xo()<=oe.DEBUG&&G("QueryEngine","Query:",Xi(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(xo()<=oe.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Xi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Dn(n))):j.resolve())}Yi(e,n){if(q_(n))return j.resolve(null);let r=Dn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=xp(n,null,"F"),r=Dn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ie(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,xp(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,i){return q_(n)||i.isEqual(J.min())?j.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?j.resolve(null):(xo()<=oe.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Xi(n)),this.rs(e,o,n,vj(i,-1)).next(a=>a))})}ts(e,n){let r=new ot(x1(e));return n.forEach((i,s)=>{hd(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return xo()<=oe.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Xi(n)),this.Ji.getDocumentsMatchingQuery(e,n,$r.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HB{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Pe(ue),this._s=new no(s=>Eg(s),wg),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xB(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function zB(t,e,n,r){return new HB(t,e,n,r)}async function Z1(t,e){const n=ee(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ie();for(const c of i){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function WB(t,e){const n=ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const h=c.batch,p=h.keys();let m=j.resolve();return p.forEach(v=>{m=m.next(()=>d.getEntry(l,v)).next(T=>{const S=c.docVersions.get(v);ge(S!==null),T.version.compareTo(S)<0&&(h.applyToRemoteDocument(T,c),T.isValidDocument()&&(T.setReadTime(c.commitVersion),d.addEntry(T)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ie();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function J1(t){const e=ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function qB(t,e){const n=ee(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((d,h)=>{const p=i.get(h);if(!p)return;a.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,h)));let m=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(lt.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(h,m),function(T,S,y){return T.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(p,m,d)&&a.push(n.Ur.updateTargetData(s,m))});let l=er(),c=ie();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(GB(s,o,e.documentUpdates).next(d=>{l=d.Ps,c=d.Is})),!r.isEqual(J.min())){const d=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return j.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.os=i,s))}function GB(t,e,n){let r=ie(),i=ie();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=er();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(J.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):G("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function QB(t,e){const n=ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function YB(t,e){const n=ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,j.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Tr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Vp(t,e,n){const r=ee(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ja(o))throw o;G("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function rE(t,e,n){const r=ee(t);let i=J.min(),s=ie();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const h=ee(l),p=h._s.get(d);return p!==void 0?j.resolve(h.os.get(p)):h.Ur.getTargetData(c,d)}(r,o,Dn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:J.min(),n?s:ie())).next(a=>(KB(r,jj(e),a),{documents:a,Ts:s})))}function KB(t,e,n){let r=t.us.get(e)||J.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class iE{constructor(){this.activeTargetIds=qj()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XB{constructor(){this.so=new iE,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new iE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){G("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){G("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eu=null;function qh(){return eu===null?eu=function(){return 268435456+Math.round(2147483648*Math.random())}():eu++,"0x"+eu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mt="WebChannelConnection";class t$ extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=qh(),l=this.xo(n,r.toUriEncodedString());G("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(n,l,c,i).then(d=>(G("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Ls("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+eo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=JB[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=qh();return new Promise((o,a)=>{const l=new h1;l.setWithCredentials(!0),l.listenOnce(f1.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Su.NO_ERROR:const d=l.getResponseJson();G(mt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Su.TIMEOUT:G(mt,`RPC '${e}' ${s} timed out`),a(new q(U.DEADLINE_EXCEEDED,"Request time out"));break;case Su.HTTP_ERROR:const h=l.getStatus();if(G(mt,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const v=function(S){const y=S.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(y)>=0?y:U.UNKNOWN}(m.status);a(new q(v,m.message))}else a(new q(U.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new q(U.UNAVAILABLE,"Connection failed."));break;default:Z()}}finally{G(mt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);G(mt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=qh(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=g1(),a=m1(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");G(mt,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);let p=!1,m=!1;const v=new e$({Io:S=>{m?G(mt,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(p||(G(mt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),G(mt,`RPC '${e}' stream ${i} sending:`,S),h.send(S))},To:()=>h.close()}),T=(S,y,E)=>{S.listen(y,A=>{try{E(A)}catch(x){setTimeout(()=>{throw x},0)}})};return T(h,Lo.EventType.OPEN,()=>{m||(G(mt,`RPC '${e}' stream ${i} transport opened.`),v.yo())}),T(h,Lo.EventType.CLOSE,()=>{m||(m=!0,G(mt,`RPC '${e}' stream ${i} transport closed`),v.So())}),T(h,Lo.EventType.ERROR,S=>{m||(m=!0,Ls(mt,`RPC '${e}' stream ${i} transport errored:`,S),v.So(new q(U.UNAVAILABLE,"The operation could not be completed")))}),T(h,Lo.EventType.MESSAGE,S=>{var y;if(!m){const E=S.data[0];ge(!!E);const A=E,x=A.error||((y=A[0])===null||y===void 0?void 0:y.error);if(x){G(mt,`RPC '${e}' stream ${i} received error:`,x);const F=x.status;let L=function(b){const R=$e[b];if(R!==void 0)return $1(R)}(F),C=x.message;L===void 0&&(L=U.INTERNAL,C="Unknown error status: "+F+" with message "+x.message),m=!0,v.So(new q(L,C)),h.close()}else G(mt,`RPC '${e}' stream ${i} received:`,E),v.bo(E)}}),T(a,p1.STAT_EVENT,S=>{S.stat===Cp.PROXY?G(mt,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===Cp.NOPROXY&&G(mt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}}function Gh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(t){return new dB(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&G("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new eC(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(Jn(n.toString()),Jn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new q(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return G("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(G("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class n$ extends tC{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=pB(this.serializer,e),r=function(s){if(!("targetChange"in s))return J.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?J.min():o.readTime?xn(o.readTime):J.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Op(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Dp(l)?{documents:vB(s,l)}:{query:yB(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=W1(s,o.resumeToken);const c=Pp(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(J.min())>0){a.readTime=kc(s,o.snapshotVersion.toTimestamp());const c=Pp(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=EB(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Op(this.serializer),n.removeTarget=e,this.a_(n)}}class r$ extends tC{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ge(!!e.streamToken),this.lastStreamToken=e.streamToken,ge(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=gB(e.writeResults,e.commitTime),r=xn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Op(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>mB(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i$ extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new q(U.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Np(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new q(U.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Np(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new q(U.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class s${constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Jn(n),this.D_=!1):G("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o${constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{$i(this)&&(G("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=ee(l);c.L_.add(4),await rl(c),c.q_.set("Unknown"),c.L_.delete(4),await vd(c)}(this))})}),this.q_=new s$(r,i)}}async function vd(t){if($i(t))for(const e of t.B_)await e(!0)}async function rl(t){for(const e of t.B_)await e(!1)}function nC(t,e){const n=ee(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Ng(n)?Pg(n):ro(n).r_()&&xg(n,e))}function kg(t,e){const n=ee(t),r=ro(n);n.N_.delete(e),r.r_()&&rC(n,e),n.N_.size===0&&(r.r_()?r.o_():$i(n)&&n.q_.set("Unknown"))}function xg(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(J.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ro(t).A_(e)}function rC(t,e){t.Q_.xe(e),ro(t).R_(e)}function Pg(t){t.Q_=new aB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ro(t).start(),t.q_.v_()}function Ng(t){return $i(t)&&!ro(t).n_()&&t.N_.size>0}function $i(t){return ee(t).L_.size===0}function iC(t){t.Q_=void 0}async function a$(t){t.q_.set("Online")}async function l$(t){t.N_.forEach((e,n)=>{xg(t,e)})}async function u$(t,e){iC(t),Ng(t)?(t.q_.M_(e),Pg(t)):t.q_.set("Unknown")}async function c$(t,e,n){if(t.q_.set("Online"),e instanceof z1&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){G("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await xc(t,r)}else if(e instanceof Cu?t.Q_.Ke(e):e instanceof H1?t.Q_.He(e):t.Q_.We(e),!n.isEqual(J.min()))try{const r=await J1(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.N_.get(c);d&&s.N_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=s.N_.get(l);if(!d)return;s.N_.set(l,d.withResumeToken(lt.EMPTY_BYTE_STRING,d.snapshotVersion)),rC(s,l);const h=new Tr(d.target,l,c,d.sequenceNumber);xg(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){G("RemoteStore","Failed to raise snapshot:",r),await xc(t,r)}}async function xc(t,e,n){if(!Ja(e))throw e;t.L_.add(1),await rl(t),t.q_.set("Offline"),n||(n=()=>J1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await vd(t)})}function sC(t,e){return e().catch(n=>xc(t,n,e))}async function yd(t){const e=ee(t),n=zr(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;d$(e);)try{const i=await QB(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,h$(e,i)}catch(i){await xc(e,i)}oC(e)&&aC(e)}function d$(t){return $i(t)&&t.O_.length<10}function h$(t,e){t.O_.push(e);const n=zr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function oC(t){return $i(t)&&!zr(t).n_()&&t.O_.length>0}function aC(t){zr(t).start()}async function f$(t){zr(t).p_()}async function p$(t){const e=zr(t);for(const n of t.O_)e.m_(n.mutations)}async function m$(t,e,n){const r=t.O_.shift(),i=Ag.from(r,e,n);await sC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await yd(t)}async function g$(t,e){e&&zr(t).V_&&await async function(r,i){if(function(o){return iB(o)&&o!==U.ABORTED}(i.code)){const s=r.O_.shift();zr(r).s_(),await sC(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await yd(r)}}(t,e),oC(t)&&aC(t)}async function oE(t,e){const n=ee(t);n.asyncQueue.verifyOperationInProgress(),G("RemoteStore","RemoteStore received new credentials");const r=$i(n);n.L_.add(3),await rl(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await vd(n)}async function v$(t,e){const n=ee(t);e?(n.L_.delete(2),await vd(n)):e||(n.L_.add(2),await rl(n),n.q_.set("Unknown"))}function ro(t){return t.K_||(t.K_=function(n,r,i){const s=ee(n);return s.w_(),new n$(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:a$.bind(null,t),Ro:l$.bind(null,t),mo:u$.bind(null,t),d_:c$.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Ng(t)?Pg(t):t.q_.set("Unknown")):(await t.K_.stop(),iC(t))})),t.K_}function zr(t){return t.U_||(t.U_=function(n,r,i){const s=ee(n);return s.w_(),new r$(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:f$.bind(null,t),mo:g$.bind(null,t),f_:p$.bind(null,t),g_:m$.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await yd(t)):(await t.U_.stop(),t.O_.length>0&&(G("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Mg(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Og(t,e){if(Jn("AsyncQueue",`${e}: ${t}`),Ja(t))return new q(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Q.comparator(n.key,r.key):(n,r)=>Q.comparator(n.key,r.key),this.keyedMap=Fo(),this.sortedSet=new Pe(this.comparator)}static emptySet(e){return new As(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof As)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new As;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(){this.W_=new Pe(Q.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Z():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class $s{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new $s(e,n,As.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y${constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class _${constructor(){this.queries=lE(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ee(n),s=i.queries;i.queries=lE(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new q(U.ABORTED,"Firestore shutting down"))}}function lE(){return new no(t=>k1(t),dd)}async function E$(t,e){const n=ee(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new y$,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Og(o,`Initialization of query '${Xi(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Vg(n)}async function w$(t,e){const n=ee(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function S$(t,e){const n=ee(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&Vg(n)}function T$(t,e,n){const r=ee(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function Vg(t){t.Y_.forEach(e=>{e.next()})}var Lp,uE;(uE=Lp||(Lp={})).ea="default",uE.Cache="cache";class A${constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new $s(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=$s.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Lp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e){this.key=e}}class uC{constructor(e){this.key=e}}class C${constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ie(),this.mutatedKeys=ie(),this.Aa=x1(e),this.Ra=new As(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new aE,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const p=i.get(d),m=hd(this.query,h)?h:null,v=!!p&&this.mutatedKeys.has(p.key),T=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let S=!1;p&&m?p.data.isEqual(m.data)?v!==T&&(r.track({type:3,doc:m}),S=!0):this.ga(p,m)||(r.track({type:2,doc:m}),S=!0,(l&&this.Aa(m,l)>0||c&&this.Aa(m,c)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),S=!0):p&&!m&&(r.track({type:1,doc:p}),S=!0,(l||c)&&(a=!0)),S&&(m?(o=o.add(m),s=T?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,h)=>function(m,v){const T=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z()}};return T(m)-T(v)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new $s(this.query,e.Ra,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new aE,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ie(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new uC(r))}),this.da.forEach(r=>{e.has(r)||n.push(new lC(r))}),n}ba(e){this.Ta=e.Ts,this.da=ie();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return $s.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class b${constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class R${constructor(e){this.key=e,this.va=!1}}class I${constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new no(a=>k1(a),dd),this.Ma=new Map,this.xa=new Set,this.Oa=new Pe(Q.comparator),this.Na=new Map,this.La=new Rg,this.Ba={},this.ka=new Map,this.qa=Bs.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function D$(t,e,n=!0){const r=mC(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await cC(r,e,n,!0),i}async function k$(t,e){const n=mC(t);await cC(n,e,!0,!1)}async function cC(t,e,n,r){const i=await YB(t.localStore,Dn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await x$(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&nC(t.remoteStore,i),a}async function x$(t,e,n,r,i){t.Ka=(h,p,m)=>async function(T,S,y,E){let A=S.view.ma(y);A.ns&&(A=await rE(T.localStore,S.query,!1).then(({documents:C})=>S.view.ma(C,A)));const x=E&&E.targetChanges.get(S.targetId),F=E&&E.targetMismatches.get(S.targetId)!=null,L=S.view.applyChanges(A,T.isPrimaryClient,x,F);return dE(T,S.targetId,L.wa),L.snapshot}(t,h,p,m);const s=await rE(t.localStore,e,!0),o=new C$(e,s.Ts),a=o.ma(s.documents),l=nl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);dE(t,n,c.wa);const d=new b$(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function P$(t,e,n){const r=ee(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!dd(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Vp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&kg(r.remoteStore,i.targetId),Fp(r,i.targetId)}).catch(Za)):(Fp(r,i.targetId),await Vp(r.localStore,i.targetId,!0))}async function N$(t,e){const n=ee(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),kg(n.remoteStore,r.targetId))}async function M$(t,e,n){const r=B$(t);try{const i=await function(o,a){const l=ee(o),c=qe.now(),d=a.reduce((m,v)=>m.add(v.key),ie());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let v=er(),T=ie();return l.cs.getEntries(m,d).next(S=>{v=S,v.forEach((y,E)=>{E.isValidDocument()||(T=T.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,v)).next(S=>{h=S;const y=[];for(const E of a){const A=Jj(E,h.get(E.key).overlayedDocument);A!=null&&y.push(new Bi(E.key,A,w1(A.value.mapValue),kn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,y,a)}).next(S=>{p=S;const y=S.applyToLocalDocumentSet(h,T);return l.documentOverlayCache.saveOverlays(m,S.batchId,y)})}).then(()=>({batchId:p.batchId,changes:N1(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new Pe(ue)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,n),await il(r,i.changes),await yd(r.remoteStore)}catch(i){const s=Og(i,"Failed to persist write");n.reject(s)}}async function dC(t,e){const n=ee(t);try{const r=await qB(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(ge(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?ge(o.va):i.removedDocuments.size>0&&(ge(o.va),o.va=!1))}),await il(n,r,e)}catch(r){await Za(r)}}function cE(t,e,n){const r=ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ee(o);l.onlineState=a;let c=!1;l.queries.forEach((d,h)=>{for(const p of h.j_)p.Z_(a)&&(c=!0)}),c&&Vg(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function O$(t,e,n){const r=ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new Pe(Q.comparator);o=o.insert(s,yt.newNoDocument(s,J.min()));const a=ie().add(s),l=new md(J.min(),new Map,new Pe(ue),o,a);await dC(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),Lg(r)}else await Vp(r.localStore,e,!1).then(()=>Fp(r,e,n)).catch(Za)}async function V$(t,e){const n=ee(t),r=e.batch.batchId;try{const i=await WB(n.localStore,e);fC(n,r,null),hC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await il(n,i)}catch(i){await Za(i)}}async function L$(t,e,n){const r=ee(t);try{const i=await function(o,a){const l=ee(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(ge(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);fC(r,e,n),hC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await il(r,i)}catch(i){await Za(i)}}function hC(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function fC(t,e,n){const r=ee(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Fp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||pC(t,r)})}function pC(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(kg(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Lg(t))}function dE(t,e,n){for(const r of n)r instanceof lC?(t.La.addReference(r.key,e),F$(t,r)):r instanceof uC?(G("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||pC(t,r.key)):Z()}function F$(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(G("SyncEngine","New document in limbo: "+n),t.xa.add(r),Lg(t))}function Lg(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Q(Se.fromString(e)),r=t.qa.next();t.Na.set(r,new R$(n)),t.Oa=t.Oa.insert(n,r),nC(t.remoteStore,new Tr(Dn(I1(n.path)),r,"TargetPurposeLimboResolution",gg.oe))}}async function il(t,e,n){const r=ee(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);const h=Dg.Wi(l.targetId,c);s.push(h)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,c){const d=ee(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>j.forEach(c,p=>j.forEach(p.$i,m=>d.persistence.referenceDelegate.addReference(h,p.targetId,m)).next(()=>j.forEach(p.Ui,m=>d.persistence.referenceDelegate.removeReference(h,p.targetId,m)))))}catch(h){if(!Ja(h))throw h;G("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const p=h.targetId;if(!h.fromCache){const m=d.os.get(p),v=m.snapshotVersion,T=m.withLastLimboFreeSnapshotVersion(v);d.os=d.os.insert(p,T)}}}(r.localStore,s))}async function U$(t,e){const n=ee(t);if(!n.currentUser.isEqual(e)){G("SyncEngine","User change. New user:",e.toKey());const r=await Z1(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new q(U.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await il(n,r.hs)}}function j$(t,e){const n=ee(t),r=n.Na.get(e);if(r&&r.va)return ie().add(r.key);{let i=ie();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function mC(t){const e=ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=dC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=j$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=O$.bind(null,e),e.Ca.d_=S$.bind(null,e.eventManager),e.Ca.$a=T$.bind(null,e.eventManager),e}function B$(t){const e=ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=V$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=L$.bind(null,e),e}class Pc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gd(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return zB(this.persistence,new $B,e.initialUser,this.serializer)}Ga(e){return new UB(Ig.Zr,this.serializer)}Wa(e){return new XB}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pc.provider={build:()=>new Pc};class Up{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>cE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=U$.bind(null,this.syncEngine),await v$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new _$}()}createDatastore(e){const n=gd(e.databaseInfo.databaseId),r=function(s){return new t$(s)}(e.databaseInfo);return function(s,o,a,l){return new i$(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new o$(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>cE(this.syncEngine,n,0),function(){return sE.D()?new sE:new ZB}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,d){const h=new I$(i,s,o,a,l,c);return d&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ee(i);G("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await rl(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Up.provider={build:()=>new Up};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $${constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Jn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H${constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=gt.UNAUTHENTICATED,this.clientId=y1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{G("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(G("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Og(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Qh(t,e){t.asyncQueue.verifyOperationInProgress(),G("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Z1(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function hE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await z$(t);G("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>oE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>oE(e.remoteStore,i)),t._onlineComponents=e}async function z$(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G("FirestoreClient","Using user provided OfflineComponentProvider");try{await Qh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===U.FAILED_PRECONDITION||i.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ls("Error using user provided cache. Falling back to memory cache: "+n),await Qh(t,new Pc)}}else G("FirestoreClient","Using default OfflineComponentProvider"),await Qh(t,new Pc);return t._offlineComponents}async function gC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G("FirestoreClient","Using user provided OnlineComponentProvider"),await hE(t,t._uninitializedComponentsProvider._online)):(G("FirestoreClient","Using default OnlineComponentProvider"),await hE(t,new Up))),t._onlineComponents}function W$(t){return gC(t).then(e=>e.syncEngine)}async function q$(t){const e=await gC(t),n=e.eventManager;return n.onListen=D$.bind(null,e.syncEngine),n.onUnlisten=P$.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=k$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=N$.bind(null,e.syncEngine),n}function G$(t,e,n={}){const r=new Vr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new $$({next:p=>{d.Za(),o.enqueueAndForget(()=>w$(s,h)),p.fromCache&&l.source==="server"?c.reject(new q(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new A$(a,d,{includeMetadataChanges:!0,_a:!0});return E$(s,h)}(await q$(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(t,e,n){if(!n)throw new q(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Q$(t,e,n,r){if(e===!0&&r===!0)throw new q(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function pE(t){if(!Q.isDocumentKey(t))throw new q(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function mE(t){if(Q.isDocumentKey(t))throw new q(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function _d(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Z()}function Va(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_d(t);throw new q(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new q(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new q(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Q$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ed{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new q(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new lj;switch(r.type){case"firstParty":return new hj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=fE.get(n);r&&(G("ComponentProvider","Removing Datastore"),fE.delete(n),r.terminate())}(this),Promise.resolve()}}function Y$(t,e,n,r={}){var i;const s=(t=Va(t,Ed))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ls("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=gt.MOCK_USER;else{a=H4(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new q(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new gt(c)}t._authCredentials=new uj(new v1(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new io(this.firestore,e,this._query)}}class en{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new en(this.firestore,e,this._key)}}class Lr extends io{constructor(e,n,r){super(e,n,I1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new Q(e))}withConverter(e){return new Lr(this.firestore,e,this._path)}}function vE(t,e,...n){if(t=Vs(t),yC("collection","path",e),t instanceof Ed){const r=Se.fromString(e,...n);return mE(r),new Lr(t,null,r)}{if(!(t instanceof en||t instanceof Lr))throw new q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Se.fromString(e,...n));return mE(r),new Lr(t.firestore,null,r)}}function _C(t,e,...n){if(t=Vs(t),arguments.length===1&&(e=y1.newId()),yC("doc","path",e),t instanceof Ed){const r=Se.fromString(e,...n);return pE(r),new en(t,null,new Q(r))}{if(!(t instanceof en||t instanceof Lr))throw new q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Se.fromString(e,...n));return pE(r),new en(t.firestore,t instanceof Lr?t.converter:null,new Q(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new eC(this,"async_queue_retry"),this.Vu=()=>{const r=Gh();r&&G("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Gh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Gh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Vr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Ja(e))throw e;G("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Jn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Mg.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&Z()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class wd extends Ed{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new yE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yE(e),this._firestoreClient=void 0,await e}}}function K$(t,e){const n=typeof t=="object"?t:ZU(),r=typeof t=="string"?t:"(default)",i=QU(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=B4("firestore");s&&Y$(i,...s)}return i}function EC(t){if(t._terminated)throw new q(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||X$(t),t._firestoreClient}function X$(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,d){return new Cj(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,vC(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new H$(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hs(lt.fromBase64String(e))}catch(n){throw new q(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Hs(lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new q(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new it(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new q(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new q(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ue(this._lat,e._lat)||ue(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z$=/^__.*__$/;class J${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Bi(e,this.data,this.fieldMask,n,this.fieldTransforms):new tl(e,this.data,n,this.fieldTransforms)}}function SC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z()}}class Bg{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Bg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Nc(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(SC(this.Cu)&&Z$.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class e3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||gd(e)}Qu(e,n,r,i=!1){return new Bg({Cu:e,methodName:n,qu:r,path:it.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function TC(t){const e=t._freezeSettings(),n=gd(t._databaseId);return new e3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function t3(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);bC("Data must be an object, but it was:",o,r);const a=AC(r,o);let l,c;if(s.merge)l=new fn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const p=r3(e,h,n);if(!o.contains(p))throw new q(U.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);s3(d,p)||d.push(p)}l=new fn(d),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new J$(new Kt(a),l,c)}function n3(t,e,n,r=!1){return $g(n,t.Qu(r?4:3,e))}function $g(t,e){if(CC(t=Vs(t)))return bC("Unsupported field value:",e,t),AC(t,e);if(t instanceof wC)return function(r,i){if(!SC(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=$g(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Vs(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Gj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=qe.fromDate(r);return{timestampValue:kc(i.serializer,s)}}if(r instanceof qe){const s=new qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:kc(i.serializer,s)}}if(r instanceof Ug)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hs)return{bytesValue:W1(i.serializer,r._byteString)};if(r instanceof en){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:bg(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof jg)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return Sg(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${_d(r)}`)}(t,e)}function AC(t,e){const n={};return _1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):to(t,(r,i)=>{const s=$g(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function CC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof qe||t instanceof Ug||t instanceof Hs||t instanceof en||t instanceof wC||t instanceof jg)}function bC(t,e,n){if(!CC(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=_d(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function r3(t,e,n){if((e=Vs(e))instanceof Fg)return e._internalPath;if(typeof e=="string")return RC(t,e);throw Nc("Field path arguments must be of type string or ",t,!1,void 0,n)}const i3=new RegExp("[~\\*/\\[\\]]");function RC(t,e,n){if(e.search(i3)>=0)throw Nc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Fg(...e.split("."))._internalPath}catch{throw Nc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Nc(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new q(U.INVALID_ARGUMENT,a+t+l)}function s3(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new o3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(DC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class o3 extends IC{data(){return super.data()}}function DC(t,e){return typeof e=="string"?RC(t,e):e instanceof Fg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new q(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hg{}class l3 extends Hg{}function u3(t,e,...n){let r=[];e instanceof Hg&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof Wg).length,a=s.filter(l=>l instanceof zg).length;if(o>1||o>0&&a>0)throw new q(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class zg extends l3{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new zg(e,n,r)}_apply(e){const n=this._parse(e);return kC(e._query,n),new io(e.firestore,e.converter,kp(e._query,n))}_parse(e){const n=TC(e.firestore);return function(s,o,a,l,c,d,h){let p;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new q(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){EE(h,d);const m=[];for(const v of h)m.push(_E(l,s,v));p={arrayValue:{values:m}}}else p=_E(l,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||EE(h,d),p=n3(a,o,h,d==="in"||d==="not-in");return ze.create(c,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Wg extends Hg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Wg(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:yn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)kC(o,l),o=kp(o,l)}(e._query,n),new io(e.firestore,e.converter,kp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function _E(t,e,n){if(typeof(n=Vs(n))=="string"){if(n==="")throw new q(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!D1(e)&&n.indexOf("/")!==-1)throw new q(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Se.fromString(n));if(!Q.isDocumentKey(r))throw new q(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return j_(t,new Q(r))}if(n instanceof en)return j_(t,n._key);throw new q(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_d(n)}.`)}function EE(t,e){if(!Array.isArray(t)||t.length===0)throw new q(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kC(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new q(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new q(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class c3{convertValue(e,n="none"){switch(Di(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Le(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ii(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Z()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return to(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Le(o.doubleValue));return new jg(s)}convertGeoPoint(e){return new Ug(Le(e.latitude),Le(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=yg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(xa(e));default:return null}}convertTimestamp(e){const n=Hr(e);return new qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Se.fromString(e);ge(X1(r));const i=new Pa(r.get(1),r.get(3)),s=new Q(r.popFirst(5));return i.isEqual(n)||Jn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class h3 extends IC{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new bu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(DC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class bu extends h3{data(e={}){return super.data(e)}}class f3{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new tu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new bu(this._firestore,this._userDataWriter,r.key,r,new tu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new bu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new tu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new bu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new tu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:p3(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function p3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z()}}class m3 extends c3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,n)}}function g3(t){t=Va(t,io);const e=Va(t.firestore,wd),n=EC(e),r=new m3(e);return a3(t._query),G$(n,t._query).then(i=>new f3(e,r,t,i))}function v3(t){return xC(Va(t.firestore,wd),[new Tg(t._key,kn.none())])}function y3(t,e){const n=Va(t.firestore,wd),r=_C(t),i=d3(t.converter,e);return xC(n,[t3(TC(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,kn.exists(!1))]).then(()=>r)}function xC(t,e){return function(r,i){const s=new Vr;return r.asyncQueue.enqueueAndForget(async()=>M$(await W$(r),i,s)),s.promise}(EC(t),e)}(function(e,n=!0){(function(i){eo=i})(XU),Ac(new Ia("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new wd(new cj(r.getProvider("auth-internal")),new pj(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new q(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pa(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ts(O_,"4.7.3",e),Ts(O_,"4.7.3","esm2017")})();var _3="firebase",E3="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ts(_3,E3,"app");const w3={apiKey:"AIzaSyBcadAV3-MvvZGOso8WEa7yND1YuqfgzWc",authDomain:"salagourmet-d728b.firebaseapp.com",projectId:"salagourmet-d728b",storageBucket:"salagourmet-d728b.appspot.com",messagingSenderId:"836657260771",appId:"1:836657260771:web:d61de935f8828a29ad3dd6"},S3=l1(w3),Yh=K$(S3),PC=I.createContext(void 0);function T3({children:t}){const[e,n]=I.useState([]);I.useEffect(()=>{r()},[]);const r=async()=>{try{const a=vE(Yh,"reservations"),l=u3(a),d=(await g3(l)).docs.map(h=>({id:h.id,...h.data()}));n(d)}catch(a){console.error("Error cargando reservas:",a),Zt.error("Error al cargar las reservas")}},i=(a,l,c,d)=>{const h=y_(d),p=cp(h,{weekStartsOn:1}),m=dp(h,{weekStartsOn:1});return e.filter(v=>{const T=y_(v.date);return T>=p&&T<=m&&v.portal===a&&v.floor===l&&v.door.toUpperCase()===c.toUpperCase()}).length},s=async a=>{try{if(e.find(p=>p.date===a.date))throw new Error("Esta fecha ya está reservada");if(i(a.portal,a.floor,a.door,a.date)>=2)throw new Error("Esta vivienda ya ha alcanzado el límite de 2 reservas esta semana");const d=vE(Yh,"reservations"),h={...a,createdAt:qe.now()};await y3(d,h),await r()}catch(l){throw console.error("Error creando reserva:",l),Zt.error(l.message||"Error al crear la reserva"),l}},o=async a=>{try{await v3(_C(Yh,"reservations",a)),Zt.success("Reserva cancelada con éxito"),await r()}catch(l){console.error("Error cancelando reserva:",l),Zt.error("Error al cancelar la reserva")}};return $.jsx(PC.Provider,{value:{reservations:e,createReservation:s,cancelReservation:o,getWeeklyApartmentReservationsCount:i},children:t})}function qg(){const t=I.useContext(PC);if(t===void 0)throw new Error("useReservations debe usarse dentro de un ReservationProvider");return t}function A3({isOpen:t,onClose:e,date:n,onSuccess:r}){const[i,s]=I.useState(""),[o,a]=I.useState(""),[l,c]=I.useState(""),[d,h]=I.useState(!1),{createReservation:p,getWeeklyApartmentReservationsCount:m}=qg(),v=()=>{s(""),a(""),c(""),h(!1)},T=()=>{v(),e()},S=async y=>{if(y.preventDefault(),!["1","2","3"].includes(i)){Zt.error("El portal debe ser 1, 2 o 3");return}const E=parseInt(o);if(E<1||E>10){Zt.error("El piso debe estar entre 1 y 10");return}if(!["A","B"].includes(l.toUpperCase())){Zt.error("La puerta debe ser A o B");return}const A=vc(n,"yyyy-MM-dd");if(m(i,o,l,A)>=2){Zt.error("Esta vivienda ya ha alcanzado el límite de 2 reservas esta semana");return}h(!0);try{const F={portal:i,floor:o,door:l.toUpperCase(),date:A,status:"confirmed"};await p(F),r()}catch(F){console.error("Error al procesar la reserva:",F)}finally{h(!1)}};return $.jsx(jh.Root,{show:t,as:I.Fragment,children:$.jsxs(Lh,{as:"div",className:"relative z-10",onClose:T,children:[$.jsx(jh.Child,{as:I.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:$.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),$.jsx("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:$.jsx("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:$.jsx(jh.Child,{as:I.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:$.jsx(Lh.Panel,{className:"relative transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6",children:$.jsxs("div",{children:[$.jsxs("div",{className:"mt-3 text-center sm:mt-5",children:[$.jsx(Lh.Title,{as:"h3",className:"text-base font-semibold leading-6 text-gray-900",children:"Reservar Sala Gourmet"}),$.jsx("div",{className:"mt-2",children:$.jsxs("p",{className:"text-sm text-gray-500",children:["Fecha seleccionada: ",vc(n,"EEEE d 'de' MMMM 'de' yyyy",{locale:fs})]})})]}),$.jsxs("form",{onSubmit:S,className:"mt-5 sm:mt-6",children:[$.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[$.jsxs("div",{children:[$.jsx("label",{htmlFor:"portal",className:"block text-sm font-medium text-gray-700",children:"Portal"}),$.jsxs("select",{id:"portal",value:i,onChange:y=>s(y.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:!0,children:[$.jsx("option",{value:"",children:"Seleccionar"}),$.jsx("option",{value:"1",children:"1"}),$.jsx("option",{value:"2",children:"2"}),$.jsx("option",{value:"3",children:"3"})]})]}),$.jsxs("div",{children:[$.jsx("label",{htmlFor:"floor",className:"block text-sm font-medium text-gray-700",children:"Piso"}),$.jsxs("select",{id:"floor",value:o,onChange:y=>a(y.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:!0,children:[$.jsx("option",{value:"",children:"Seleccionar"}),[...Array(10)].map((y,E)=>$.jsx("option",{value:E+1,children:E+1},E+1))]})]}),$.jsxs("div",{children:[$.jsx("label",{htmlFor:"door",className:"block text-sm font-medium text-gray-700",children:"Puerta"}),$.jsxs("select",{id:"door",value:l,onChange:y=>c(y.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:!0,children:[$.jsx("option",{value:"",children:"Seleccionar"}),$.jsx("option",{value:"A",children:"A"}),$.jsx("option",{value:"B",children:"B"})]})]})]}),$.jsxs("div",{className:"mt-5 sm:mt-6 sm:grid sm:grid-flow-row-dense sm:grid-cols-2 sm:gap-3",children:[$.jsx("button",{type:"submit",disabled:d,className:"inline-flex w-full justify-center rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 sm:col-start-2 disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Procesando...":"Reservar"}),$.jsx("button",{type:"button",onClick:T,disabled:d,className:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:col-start-1 sm:mt-0 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancelar"})]})]})]})})})})})]})})}function C3(){const[t,e]=I.useState(null),[n,r]=I.useState(!1),{reservations:i}=qg(),s=a=>{const l=__(),c=a.date,d=cp(l,{locale:fs}),h=dp(d,{locale:fs});if(Ro(c,l)){Zt.error("No se pueden hacer reservas en fechas pasadas");return}if(Ro(c,d)||Ro(h,c)){Zt.error("Solo se pueden hacer reservas para la semana actual");return}if(i.some(m=>m.date===vc(c,"yyyy-MM-dd"))){Zt.error("Esta fecha ya está reservada");return}e(c),r(!0)},o=a=>{const l=i.find(c=>c.date===a.event.startStr);return{html:`<div class="p-1">
        <div class="font-semibold text-white text-xs sm:text-sm">Reservado</div>
        <div class="text-xs text-white">Portal ${l==null?void 0:l.portal}, ${l==null?void 0:l.floor}${l==null?void 0:l.door}</div>
      </div>`}};return $.jsxs("div",{className:"bg-white rounded-lg shadow p-2 sm:p-6",children:[$.jsxs("div",{className:"mb-4 p-3 sm:p-4 bg-blue-50 rounded-lg",children:[$.jsx("h2",{className:"text-base sm:text-lg font-semibold text-blue-800 mb-2",children:"Información importante"}),$.jsxs("ul",{className:"list-disc list-inside text-sm sm:text-base text-blue-700 space-y-1",children:[$.jsx("li",{children:"Solo se puede reservar para la semana actual (de lunes a domingo)"}),$.jsx("li",{children:"Máximo 2 reservas por semana y por vivienda"}),$.jsx("li",{children:"Las reservas mostrarán el portal y la vivienda del reservante"})]})]}),$.jsx("div",{className:"fc-container",children:$.jsx(pA,{plugins:[v2,U2],initialView:"dayGridMonth",locale:"es",selectable:!0,dateClick:s,events:i.map(a=>({title:"Reservado",date:a.date,backgroundColor:"#4F46E5",borderColor:"#4F46E5",className:"reservation-event"})),headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth"},buttonText:{today:"Hoy",month:"Mes"},eventContent:o,dayCellClassNames:a=>{const l=__(),c=cp(l,{locale:fs}),d=dp(c,{locale:fs});return Ro(a.date,c)||Ro(d,a.date)?"bg-gray-100 cursor-not-allowed opacity-50":""}})}),t&&$.jsx(A3,{isOpen:n,onClose:()=>r(!1),date:t,onSuccess:()=>{r(!1),Zt.success("Reserva realizada con éxito")}})]})}function b3(){const{reservations:t,cancelReservation:e}=qg();return $.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[$.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[$.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Reservas de la Sala Gourmet"}),$.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Listado de todas las reservas realizadas"})]}),$.jsx("div",{className:"border-t border-gray-200",children:t.length===0?$.jsx("div",{className:"px-4 py-5 sm:p-6 text-center text-gray-500",children:"No hay reservas registradas"}):$.jsx("ul",{role:"list",className:"divide-y divide-gray-200",children:t.map(n=>$.jsx("li",{className:"px-4 py-4 sm:px-6",children:$.jsxs("div",{className:"flex items-center justify-between",children:[$.jsxs("div",{className:"flex flex-col",children:[$.jsx("p",{className:"text-sm font-medium text-gray-900",children:vc(new Date(n.date),"EEEE d 'de' MMMM 'de' yyyy",{locale:fs})}),$.jsxs("p",{className:"text-sm text-gray-500",children:["Portal ",n.portal,", ",n.floor,n.door]})]}),$.jsx("button",{onClick:()=>e(n.id),className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Cancelar"})]})},n.id))})})]})}function R3(){return $.jsx(T3,{children:$.jsxs(kD,{children:[$.jsx(Pk,{children:$.jsxs(TD,{children:[$.jsx(Wf,{path:"/",element:$.jsx(C3,{})}),$.jsx(Wf,{path:"/my-reservations",element:$.jsx(b3,{})})]})}),$.jsx(Tk,{position:"top-center"})]})})}Kh.createRoot(document.getElementById("root")).render($.jsx(te.StrictMode,{children:$.jsx(R3,{})}));
